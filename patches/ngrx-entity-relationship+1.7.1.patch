diff --git a/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js b/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js
new file mode 100644
index 0000000..d9a9b75
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js
@@ -0,0 +1,889 @@
+// istanbul ignore else
+if (window) {
+    window.global = window;
+}
+// istanbul ignore else
+if (!global['ngrx-entity-relationship-rootEntityFlags']) {
+    global['ngrx-entity-relationship-rootEntityFlags'] = {
+        disabled: false,
+    };
+}
+const rootEntityFlags = global['ngrx-entity-relationship-rootEntityFlags'];
+
+function isBuiltInSelector(value) {
+    return value && value.ngrxEntityRelationship;
+}
+function isSelectorMeta(value) {
+    return typeof value === 'object' && value !== null;
+}
+
+function normalizeSelector(selector) {
+    const local = selector;
+    if (local === undefined) {
+        throw new Error(`selector is undefined. Circular dependencies have been detected. You need to put selectors that use ` +
+            `nrx-entity-relationship functions into a separate file: ` +
+            `https://github.com/satanTime/ngrx-entity-relationship#circular-dependency`);
+    }
+    let collection;
+    if (typeof local === 'function') {
+        collection = local;
+    }
+    else if (local.selectors) {
+        collection = local.selectors.selectCollection;
+    }
+    else {
+        collection = local.collection;
+    }
+    let id;
+    if (typeof local === 'function') {
+        id = (v) => (v ? v.id : undefined);
+    }
+    else if (local.selectId) {
+        id = local.selectId;
+    }
+    else if (typeof local.id === 'string') {
+        id = (v) => (v ? v[local.id] : undefined);
+    }
+    else if (typeof local.id === 'number') {
+        id = (v) => (v ? v[local.id] : undefined);
+    }
+    else {
+        id = local.id;
+    }
+    return {
+        collection,
+        id,
+    };
+}
+function verifyCache(state, checks) {
+    if (!checks.size) {
+        return false;
+    }
+    const checksData = [];
+    checks.forEach((v, k) => checksData.push([k, v]));
+    for (const [checkSelector, checkEntities] of checksData) {
+        if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {
+            continue;
+        }
+        if (checkEntities.has(null) &&
+            checkSelector(state).entities !== checkEntities.get(null) &&
+            checkEntities.size === 1) {
+            return false;
+        }
+        const checkState = checkSelector(state);
+        const checkEntitiesData = [];
+        checkEntities.forEach((v, k) => checkEntitiesData.push([k, v]));
+        for (const [checkId, checkValue] of checkEntitiesData) {
+            if (checkId === null) {
+                continue;
+            }
+            if (checkState.entities[checkId] !== checkValue) {
+                return false;
+            }
+        }
+    }
+    return true;
+}
+function mergeCache(from, to) {
+    if (!from) {
+        return;
+    }
+    const fromData = [];
+    from.forEach((v, k) => fromData.push([k, v]));
+    for (const [fromSelector, fromEntities] of fromData) {
+        const toMap = to.get(fromSelector) || new Map();
+        const fromEntitiesData = [];
+        fromEntities.forEach((v, k) => fromEntitiesData.push([k, v]));
+        for (const [fromId, fromEntity] of fromEntitiesData) {
+            if (toMap.has(fromId)) {
+                continue;
+            }
+            toMap.set(fromId, fromEntity);
+        }
+        if (!to.has(fromSelector)) {
+            to.set(fromSelector, toMap);
+        }
+    }
+}
+function argsToArray(args) {
+    const result = [];
+    // tslint:disable-next-line:prefer-for-of
+    for (let i = 0; i < args.length; i += 1) {
+        result.push(args[i]);
+    }
+    return result;
+}
+function isObject(value) {
+    return !!value && typeof value === 'object';
+}
+function objectKeys(value) {
+    return Object.keys(value);
+}
+function objectValues(value) {
+    const keys = objectKeys(value);
+    return keys.map(key => value[key]);
+}
+function mapEntries(set) {
+    const result = [];
+    set.forEach((value, key) => result.push([key, value]));
+    return result;
+}
+const mapValues = (set) => {
+    const result = [];
+    set.forEach((value) => result.push(value));
+    return result;
+};
+
+function childEntity(featureSelector, keyId, keyValue) {
+    let relationships = argsToArray(arguments);
+    relationships = relationships.slice(3);
+    let meta = {};
+    if (isSelectorMeta(relationships[0])) {
+        meta = relationships[0];
+        relationships = relationships.slice(1);
+    }
+    const { collection: collectionSelector, id: idSelector } = normalizeSelector(featureSelector);
+    const callback = (cacheLevel, state, cache, source, idParentSelector) => {
+        var _a, _b;
+        const featureState = collectionSelector(state);
+        const parentId = idParentSelector(source);
+        let cacheDataLevel = cache.get(cacheLevel);
+        if (!cacheDataLevel) {
+            cacheDataLevel = new Map();
+            cache.set(cacheLevel, cacheDataLevel);
+        }
+        // maybe we don't need to scan the entities.
+        let [idChecks, id] = cacheDataLevel.get(`!${parentId}`) || [
+            new Map(),
+            undefined,
+        ];
+        if (!verifyCache(state, idChecks)) {
+            id = undefined;
+            for (const entity of objectValues(featureState.entities)) {
+                if (!entity ||
+                    entity[keyId] !== parentId // todo fix any A8
+                ) {
+                    continue;
+                }
+                id = idSelector(entity);
+                break;
+            }
+            idChecks = new Map();
+            const idChecksEntities = new Map();
+            idChecks.set(collectionSelector, idChecksEntities);
+            idChecksEntities.set(null, featureState.entities);
+            cacheDataLevel.set(`!${parentId}`, [idChecks, id]);
+        }
+        if (!id) {
+            return `!${parentId}`;
+        }
+        const cacheHash = `#${id}`;
+        let [checks, value] = cacheDataLevel.get(cacheHash) || [
+            new Map(),
+            undefined,
+        ];
+        if (verifyCache(state, checks)) {
+            source[keyValue] = value;
+            return cacheHash;
+        }
+        // building a new value.
+        value = undefined;
+        checks = new Map();
+        const checksEntities = new Map();
+        checks.set(collectionSelector, checksEntities);
+        checksEntities.set(null, featureState.entities);
+        checksEntities.set(id, featureState.entities[id]);
+        // we have to clone it because we are going to update it with relationships.
+        value = Object.assign({}, featureState.entities[id]);
+        let cacheRelLevelIndex = 0;
+        for (const relationship of relationships) {
+            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;
+            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);
+            cacheRelLevelIndex += 1;
+            if (cacheRelHash) {
+                mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+            }
+        }
+        cacheDataLevel.set(cacheHash, [checks, value]);
+        source[keyValue] = value;
+        return cacheHash;
+    };
+    callback.ngrxEntityRelationship = 'childEntity';
+    callback.collectionSelector = collectionSelector;
+    callback.meta = meta;
+    callback.idSelector = idSelector;
+    callback.relationships = relationships;
+    callback.keyId = keyId;
+    callback.keyValue = keyValue;
+    callback.release = () => {
+        for (const relationship of relationships) {
+            relationship.release();
+        }
+    };
+    return callback;
+}
+
+function childrenEntities(featureSelector, keyId, keyValue) {
+    console.log('childrenEntities', keyId, keyValue);
+    let relationships = argsToArray(arguments);
+    relationships = relationships.slice(3);
+    let meta = {};
+    if (isSelectorMeta(relationships[0])) {
+        meta = relationships[0];
+        relationships = relationships.slice(1);
+    }
+    const { collection: collectionSelector, id: idSelector } = normalizeSelector(featureSelector);
+    const emptyResult = new Map();
+    const callback = (cacheLevel, state, cache, source, idParentSelector) => {
+        var _a, _b, _c, _d;
+        const featureState = collectionSelector(state);
+        const parentId = idParentSelector(source);
+        let cacheDataLevel = cache.get(cacheLevel);
+        if (!cacheDataLevel) {
+            cacheDataLevel = new Map();
+            cache.set(cacheLevel, cacheDataLevel);
+        }
+        // maybe we don't need to scan the entities.
+        let [idsChecks, ids] = cacheDataLevel.get(`!${parentId}`) || [
+            new Map(),
+            [],
+        ];
+        if (!verifyCache(state, idsChecks)) {
+            ids = [];
+            for (const entity of objectValues(featureState.entities)) {
+                if (!entity || !source[keyValue].find((sourceEntity) => sourceEntity.id === entity[keyId])) {
+                    continue;
+                }
+                const id = idSelector(entity);
+                // istanbul ignore else
+                if (id) {
+                    ids.push(id);
+                }
+            }
+            idsChecks = new Map();
+            const idsChecksEntities = new Map();
+            idsChecks.set(collectionSelector, idsChecksEntities);
+            idsChecksEntities.set(null, featureState.entities);
+            cacheDataLevel.set(`!${parentId}`, [idsChecks, ids]);
+        }
+        if (!ids.length) {
+            source[keyValue] = emptyResult.get(parentId);
+            // istanbul ignore else
+            if (!source[keyValue]) {
+                source[keyValue] = [];
+                emptyResult.set(parentId, source[keyValue]);
+            }
+            return `!${parentId}`;
+        }
+        const cacheHash = `#${ids.join(',')}`;
+        let [checks, value] = cacheDataLevel.get(cacheHash) || [
+            new Map(),
+            undefined,
+        ];
+        if (verifyCache(state, checks)) {
+            source[keyValue] = value;
+            return cacheHash;
+        }
+        // building a new value.
+        value = [];
+        checks = new Map();
+        const checksEntities = new Map();
+        checks.set(collectionSelector, checksEntities);
+        checksEntities.set(null, featureState.entities);
+        for (const id of ids) {
+            checksEntities.set(id, featureState.entities[id]);
+        }
+        for (const id of ids) {
+            let [entityChecks, entityValue] = cacheDataLevel.get(`${cacheHash}:${id}`) || [new Map(), undefined];
+            if (verifyCache(state, entityChecks)) {
+                // istanbul ignore else
+                if (entityValue) {
+                    value.push(entityValue);
+                }
+                continue;
+            }
+            // we have to clone it because we are going to update it with relationships.
+            entityValue = Object.assign({}, featureState.entities[id]);
+            entityChecks = new Map();
+            const entityChecksEntities = new Map();
+            entityChecks.set(collectionSelector, entityChecksEntities);
+            entityChecksEntities.set(null, featureState.entities);
+            entityChecksEntities.set(id, featureState.entities[id]);
+            let cacheRelLevelIndex = 0;
+            for (const relationship of relationships) {
+                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;
+                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);
+                cacheRelLevelIndex += 1;
+                if (cacheRelHash) {
+                    mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                    mergeCache((_d = (_c = cache.get(cacheRelLevel)) === null || _c === void 0 ? void 0 : _c.get(cacheRelHash)) === null || _d === void 0 ? void 0 : _d[0], entityChecks);
+                }
+            }
+            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);
+            value.push(entityValue);
+        }
+        cacheDataLevel.set(cacheHash, [checks, value]);
+        source[keyValue] = value;
+        return cacheHash;
+    };
+    callback.ngrxEntityRelationship = 'childrenEntities';
+    callback.collectionSelector = collectionSelector;
+    callback.meta = meta;
+    callback.idSelector = idSelector;
+    callback.relationships = relationships;
+    callback.keyId = keyId;
+    callback.keyValue = keyValue;
+    callback.release = () => {
+        emptyResult.clear();
+        for (const relationship of relationships) {
+            relationship.release();
+        }
+    };
+    return callback;
+}
+
+function relatedEntity(featureSelector, keyId, keyValue) {
+    let relationships = argsToArray(arguments);
+    relationships = relationships.slice(3);
+    let meta = {};
+    if (isSelectorMeta(relationships[0])) {
+        meta = relationships[0];
+        relationships = relationships.slice(1);
+    }
+    const { collection: collectionSelector, id: idSelector } = normalizeSelector(featureSelector);
+    const emptyResult = new Map();
+    const callback = (cacheLevel, state, cache, source) => {
+        var _a, _b, _c, _d;
+        // a bit magic to relax generic types.
+        const sourceKeyIdValue = source[keyId];
+        if (!sourceKeyIdValue) {
+            return;
+        }
+        const featureState = collectionSelector(state);
+        let cacheDataLevel = cache.get(cacheLevel);
+        if (!cacheDataLevel) {
+            cacheDataLevel = new Map();
+            cache.set(cacheLevel, cacheDataLevel);
+        }
+        const ids = [];
+        const values = sourceKeyIdValue; // Thanks a8.
+        if (Array.isArray(values)) {
+            for (const id of values) {
+                if (id) {
+                    ids.push(id);
+                }
+            }
+            if (!ids.length) {
+                source[keyValue] = emptyResult.get(values);
+                if (!source[keyValue]) {
+                    source[keyValue] = [];
+                    emptyResult.set(values, source[keyValue]);
+                }
+                return;
+            }
+        }
+        else {
+            ids.push(values);
+        }
+        const cacheHash = `#${ids.join(',')}`;
+        let [checks, value] = cacheDataLevel.get(cacheHash) || [
+            new Map(),
+            undefined,
+        ];
+        if (verifyCache(state, checks)) {
+            source[keyValue] = value;
+            return cacheHash;
+        }
+        // building a new value.
+        value = undefined;
+        checks = new Map();
+        const checkIds = new Map();
+        checks.set(collectionSelector, checkIds);
+        checkIds.set(null, featureState.entities);
+        for (const id of ids) {
+            checkIds.set(id, featureState.entities[id]);
+        }
+        const valueEntities = [];
+        for (const id of ids) {
+            if (!featureState.entities[id]) {
+                continue;
+            }
+            let [entityChecks, entityValue] = cacheDataLevel.get(`${cacheHash}:${id}`) || [new Map(), undefined];
+            if (verifyCache(state, entityChecks)) {
+                // istanbul ignore else
+                if (entityValue) {
+                    valueEntities.push(entityValue);
+                }
+                continue;
+            }
+            // we have to clone it because we are going to update it with relationships.
+            entityValue = Object.assign({}, featureState.entities[id]);
+            entityChecks = new Map();
+            const entityCheckIds = new Map();
+            entityChecks.set(collectionSelector, entityCheckIds);
+            entityCheckIds.set(null, featureState.entities);
+            entityCheckIds.set(id, featureState.entities[id]);
+            let cacheRelLevelIndex = 0;
+            for (const relationship of relationships) {
+                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;
+                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);
+                cacheRelLevelIndex += 1;
+                if (cacheRelHash) {
+                    mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                    mergeCache((_d = (_c = cache.get(cacheRelLevel)) === null || _c === void 0 ? void 0 : _c.get(cacheRelHash)) === null || _d === void 0 ? void 0 : _d[0], entityChecks);
+                }
+            }
+            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);
+            valueEntities.push(entityValue);
+        }
+        value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];
+        cacheDataLevel.set(cacheHash, [checks, value]);
+        source[keyValue] = value;
+        return cacheHash;
+    };
+    callback.ngrxEntityRelationship = 'relatedEntity';
+    callback.collectionSelector = collectionSelector;
+    callback.meta = meta;
+    callback.idSelector = idSelector;
+    callback.relationships = relationships;
+    callback.keyId = keyId;
+    callback.keyValue = keyValue;
+    callback.release = () => {
+        emptyResult.clear();
+        for (const relationship of relationships) {
+            relationship.release();
+        }
+    };
+    return callback;
+}
+
+function rootEntities(rootSelector) {
+    const cacheMap = new Map();
+    const emptyResult = [];
+    const callback = (state, idsOrSelector) => {
+        const ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;
+        if (!ids) {
+            return emptyResult;
+        }
+        const cacheKey = ids.join(',');
+        const cacheValue = cacheMap.get(cacheKey) || emptyResult;
+        if (rootEntityFlags.disabled) {
+            return cacheValue;
+        }
+        const value = [];
+        for (const id of ids) {
+            const entity = rootSelector(state, id);
+            if (!entity) {
+                continue;
+            }
+            value.push(entity);
+        }
+        let index = 0;
+        let equal = value.length === cacheValue.length;
+        for (const entity of value) {
+            if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {
+                equal = false;
+                break;
+            }
+            index += 1;
+        }
+        if (equal) {
+            return cacheValue;
+        }
+        cacheMap.set(cacheKey, value);
+        return value;
+    };
+    callback.ngrxEntityRelationship = 'rootEntities';
+    callback.meta = rootSelector.meta;
+    callback.collectionSelector = rootSelector.collectionSelector;
+    callback.idSelector = rootSelector.idSelector;
+    callback.relationships = rootSelector.relationships;
+    callback.release = () => {
+        cacheMap.clear();
+        rootSelector.release();
+    };
+    return callback;
+}
+
+function rootEntity(featureSelector, guess1, guess2) {
+    let relationships = argsToArray(arguments);
+    relationships = relationships.slice(1);
+    let transformer;
+    let meta = {};
+    if (!isBuiltInSelector(guess1) && !isSelectorMeta(guess1)) {
+        transformer = guess1;
+        relationships = relationships.slice(1);
+    }
+    if (!isBuiltInSelector(guess1) && isSelectorMeta(guess1)) {
+        meta = guess1;
+        relationships = relationships.slice(1);
+    }
+    if (!isBuiltInSelector(guess2) && isSelectorMeta(guess2)) {
+        meta = guess2;
+        relationships = relationships.slice(1);
+    }
+    const { collection: collectionSelector, id: idSelector } = normalizeSelector(featureSelector);
+    const cacheLevel = '0';
+    const cache = new Map();
+    const callback = (state, idOrSelector) => {
+        var _a, _b;
+        const id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;
+        if (!id) {
+            return;
+        }
+        const featureState = collectionSelector(state);
+        let cacheDataLevel = cache.get(cacheLevel);
+        if (!cacheDataLevel) {
+            cacheDataLevel = new Map();
+            cache.set(cacheLevel, cacheDataLevel);
+        }
+        const cacheHash = `#${id}`;
+        let [checks, value] = cacheDataLevel.get(cacheHash) || [
+            new Map(),
+            undefined,
+        ];
+        if (rootEntityFlags.disabled) {
+            return value;
+        }
+        if (verifyCache(state, checks)) {
+            return value;
+        }
+        // building a new value.
+        value = undefined;
+        checks = new Map();
+        const checkIds = new Map();
+        checks.set(collectionSelector, checkIds);
+        checkIds.set(null, featureState.entities);
+        checkIds.set(id, featureState.entities[id]);
+        // the entity does not exist.
+        if (!featureState.entities[id]) {
+            cacheDataLevel.set(cacheHash, [checks, value]);
+            return value;
+        }
+        // we have to clone it because we are going to update it with relationships.
+        value = Object.assign({}, featureState.entities[id]);
+        let cacheRelLevelIndex = 0;
+        for (const relationship of relationships) {
+            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;
+            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);
+            cacheRelLevelIndex += 1;
+            if (cacheRelHash) {
+                mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+            }
+        }
+        value = transformer ? transformer(value) : value;
+        cacheDataLevel.set(cacheHash, [checks, value]);
+        return value;
+    };
+    callback.ngrxEntityRelationship = 'rootEntity';
+    callback.collectionSelector = collectionSelector;
+    callback.meta = meta;
+    callback.idSelector = idSelector;
+    callback.relationships = relationships;
+    callback.release = () => {
+        cache.clear();
+        for (const relationship of relationships) {
+            relationship.release();
+        }
+    };
+    return callback;
+}
+
+function childEntitySelector(featureSelector, keyId, keyValue, meta) {
+    function callback() {
+        let relationships = argsToArray(arguments);
+        let currentMeta = isSelectorMeta(meta) ? meta : undefined;
+        if (isSelectorMeta(relationships[0])) {
+            currentMeta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        return currentMeta
+            ? childEntity(featureSelector, keyId, keyValue, currentMeta, ...relationships)
+            : childEntity(featureSelector, keyId, keyValue, ...relationships);
+    }
+    callback.ngrxEntityRelationship = 'childEntitySelector';
+    return callback;
+}
+
+function childrenEntitiesSelector(featureSelector, keyId, keyValue, meta) {
+    function callback() {
+        let relationships = argsToArray(arguments);
+        let currentMeta = isSelectorMeta(meta) ? meta : undefined;
+        if (isSelectorMeta(relationships[0])) {
+            currentMeta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        return currentMeta
+            ? childrenEntities(featureSelector, keyId, keyValue, currentMeta, ...relationships)
+            : childrenEntities(featureSelector, keyId, keyValue, ...relationships);
+    }
+    callback.ngrxEntityRelationship = 'childrenEntitiesSelector';
+    return callback;
+}
+
+function relatedEntitySelector(featureSelector, keyId, keyValue, meta) {
+    function callback() {
+        let relationships = argsToArray(arguments);
+        let currentMeta = meta;
+        if (isSelectorMeta(relationships[0])) {
+            currentMeta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        return currentMeta
+            ? relatedEntity(featureSelector, keyId, keyValue, currentMeta, ...relationships)
+            : relatedEntity(featureSelector, keyId, keyValue, ...relationships);
+    }
+    callback.ngrxEntityRelationship = 'relatedEntitySelector';
+    return callback;
+}
+
+function rootEntitySelector(featureSelector, guess1, guess2) {
+    function callback(metaOverride) {
+        let relationships = argsToArray(arguments);
+        const transformer = isSelectorMeta(guess1) ? undefined : guess1;
+        let currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;
+        if (isSelectorMeta(metaOverride)) {
+            currentMeta = metaOverride;
+            relationships = relationships.slice(1);
+        }
+        return transformer && currentMeta
+            ? rootEntity(featureSelector, transformer, currentMeta, ...relationships)
+            : transformer
+                ? rootEntity(featureSelector, transformer, ...relationships)
+                : currentMeta
+                    ? rootEntity(featureSelector, currentMeta, ...relationships)
+                    : rootEntity(featureSelector, ...relationships);
+    }
+    callback.ngrxEntityRelationship = 'rootEntitySelector';
+    return callback;
+}
+
+var ngrxEntityRelationshipActions;
+(function (ngrxEntityRelationshipActions) {
+    ngrxEntityRelationshipActions["reduceFlat"] = "[NGRX-Entity-Relationship] Flat";
+    ngrxEntityRelationshipActions["reduceGraph"] = "[NGRX-Entity-Relationship] Graph";
+})(ngrxEntityRelationshipActions || (ngrxEntityRelationshipActions = {}));
+class ReduceFlat {
+    constructor(data, selector) {
+        this.data = data;
+        this.selector = selector;
+        this.type = ngrxEntityRelationshipActions.reduceFlat;
+    }
+}
+// Because of redux it can't be a ReduceGraph instance.
+const reduceFlat = (payload) => ({
+    data: payload.data,
+    selector: payload.selector,
+    type: ngrxEntityRelationshipActions.reduceFlat,
+});
+reduceFlat.type = ngrxEntityRelationshipActions.reduceFlat;
+class ReduceGraph {
+    constructor(data, selector) {
+        this.data = data;
+        this.selector = selector;
+        this.type = ngrxEntityRelationshipActions.reduceGraph;
+    }
+}
+// Because of redux it can't be a ReduceGraph instance.
+const reduceGraph = (payload) => ({
+    data: payload.data,
+    selector: payload.selector,
+    type: ngrxEntityRelationshipActions.reduceGraph,
+});
+reduceGraph.type = ngrxEntityRelationshipActions.reduceGraph;
+
+const func$3 = (state, source, destination) => {
+    if (source === destination) {
+        return state;
+    }
+    if (!isObject(state)) {
+        return state;
+    }
+    for (const key of objectKeys(state)) {
+        if (!isObject(state[key])) {
+            continue;
+        }
+        if (state[key] === source) {
+            return Object.assign(Object.assign({}, state), { [key]: destination });
+        }
+        const patchedState = func$3(state[key], source, destination);
+        if (patchedState !== state[key]) {
+            return Object.assign(Object.assign({}, state), { [key]: patchedState });
+        }
+    }
+    return state;
+};
+const ɵ0$1 = func$3;
+const patchState = {
+    func: func$3,
+};
+
+const func$2 = (state, selector, entity, meta) => {
+    if (typeof entity !== 'object') {
+        throw new Error('Entity is not an object');
+    }
+    const id = selector.idSelector(entity);
+    if (!id) {
+        throw new Error('Cannot detect id of an entity');
+    }
+    const originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;
+    const entitiesKey = selector.collectionSelector.entitiesKey || 'entities';
+    const idsKey = selector.collectionSelector.idsKey || 'ids';
+    // Any because keys may be different because of entitiesKey.
+    const originalState = originalSelector(state);
+    const originalEntity = originalState[entitiesKey][id];
+    let featureState = originalState;
+    // creating a clone
+    const clone = {};
+    for (const key of objectKeys(entity)) {
+        if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {
+            continue;
+        }
+        clone[key] = entity[key];
+    }
+    Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));
+    const existingKeys = objectKeys(clone);
+    for (const key of originalEntity ? objectKeys(originalEntity) : []) {
+        if (existingKeys.indexOf(key) !== -1) {
+            continue;
+        }
+        clone[key] = originalEntity[key];
+    }
+    if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {
+        featureState = Object.assign(Object.assign({}, featureState), { [idsKey]: [...featureState[idsKey], id] });
+    }
+    let isEntityChanged = !originalEntity;
+    for (const key of objectKeys(clone)) {
+        if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {
+            isEntityChanged = true;
+            break;
+        }
+    }
+    if (isEntityChanged) {
+        featureState = Object.assign(Object.assign({}, featureState), { [entitiesKey]: Object.assign(Object.assign({}, featureState[entitiesKey]), { [id]: clone }) });
+    }
+    return patchState.func(state, originalState, featureState);
+};
+const injectEntity = {
+    func: func$2,
+};
+
+const extractMap = (selector, map) => {
+    if (!selector.meta || !selector.meta.flatKey) {
+        throw new Error('Flat key is not provided in meta');
+    }
+    const { selectors = new Set(), skipFields = new Set() } = map.get(selector.meta.flatKey) || {};
+    if (!map.has(selector.meta.flatKey)) {
+        map.set(selector.meta.flatKey, {
+            selectors,
+            skipFields,
+        });
+    }
+    selectors.add(selector);
+    for (const relationship of selector.relationships) {
+        skipFields.add(relationship.keyValue);
+        extractMap(relationship, map);
+    }
+    return map;
+};
+const ɵ0 = extractMap;
+const func$1 = (state, selector, data) => {
+    const map = extractMap(selector, new Map());
+    for (const [key, { selectors, skipFields }] of mapEntries(map)) {
+        const isSet = Array.isArray(data[key]);
+        const entities = isSet ? data[key] : [data[key]];
+        for (const entity of entities) {
+            if (!entity) {
+                continue;
+            }
+            for (const entitySelector of mapValues(selectors)) {
+                state = injectEntity.func(state, entitySelector, entity, { skipFields: [...mapValues(skipFields)] });
+            }
+        }
+    }
+    return state;
+};
+const ɵ1 = func$1;
+const fromFlat = {
+    func: func$1,
+};
+
+const func = (state, selector, data) => {
+    const isSet = Array.isArray(data);
+    const entities = isSet ? data : [data];
+    // detecting keys we should skip
+    const skipFields = [];
+    for (const relationship of selector.relationships) {
+        skipFields.push(relationship.keyValue);
+    }
+    for (const entity of entities) {
+        if (!entity) {
+            continue;
+        }
+        state = injectEntity.func(state, selector, entity, { skipFields });
+        for (const relationship of selector.relationships) {
+            state = func(state, relationship, entity[relationship.keyValue]);
+        }
+    }
+    return state;
+};
+const fromGraph = {
+    func,
+};
+
+function ngrxEntityRelationshipReducer(reducer) {
+    return (state, action) => {
+        if (action.type === ngrxEntityRelationshipActions.reduceGraph) {
+            return reducer(fromGraph.func(state, action.selector, action.data), action);
+        }
+        if (action.type === ngrxEntityRelationshipActions.reduceFlat) {
+            return reducer(fromFlat.func(state, action.selector, action.data), action);
+        }
+        return reducer(state, action);
+    };
+}
+
+function selectByIds(selector, ids) {
+    return state => selector(state, ids);
+}
+
+function stateKeys(selector, entitiesKey, idsKey) {
+    const callback = (s) => {
+        const slice = selector(s);
+        return {
+            ids: idsKey ? slice[idsKey] : slice.ids,
+            entities: slice[entitiesKey],
+        };
+    };
+    callback.idsKey = idsKey;
+    callback.entitiesKey = entitiesKey;
+    callback.originalSelector = selector;
+    return callback;
+}
+
+function toFactorySelector(selector) {
+    const release = () => {
+        if (typeof selector.release === 'function') {
+            selector.release();
+        }
+    };
+    const callback = (ids) => {
+        const storeSelector = (state) => selector(state, ids);
+        storeSelector.release = release;
+        return storeSelector;
+    };
+    callback.release = release;
+    return callback;
+}
+
+function toStaticSelector(selector, ids) {
+    return toFactorySelector(selector)(ids);
+}
+
+/**
+ * Generated bundle index. Do not edit.
+ */
+
+export { ReduceFlat, ReduceGraph, childEntity, childEntitySelector, childrenEntities, childrenEntitiesSelector, isBuiltInSelector, isSelectorMeta, ngrxEntityRelationshipActions, ngrxEntityRelationshipReducer, reduceFlat, reduceGraph, relatedEntity, relatedEntitySelector, rootEntities, rootEntity, rootEntityFlags, rootEntitySelector, selectByIds, stateKeys, toFactorySelector, toStaticSelector };
+
+//# sourceMappingURL=ngrx-entity-relationship.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js.map b/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js.map
new file mode 100644
index 0000000..c5e8f8d
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/__ivy_ngcc__/fesm2015/ngrx-entity-relationship.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship.js","sources":["../../../../libs/ngrx-entity-relationship/src/lib/rootEntityFlags.ts","../../../../libs/ngrx-entity-relationship/src/lib/types.ts","../../../../libs/ngrx-entity-relationship/src/lib/utils.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntitiesSelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/actions.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/patchState.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/injectEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromFlat.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromGraph.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/ngrxEntityRelationshipReducer.ts","../../../../libs/ngrx-entity-relationship/src/lib/selectByIds.ts","../../../../libs/ngrx-entity-relationship/src/lib/stateKeys.ts","../../../../libs/ngrx-entity-relationship/src/lib/toFactorySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/toStaticSelector.ts","../../../../libs/ngrx-entity-relationship/src/ngrx-entity-relationship.ts"],"names":["func"],"mappings":"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","sourcesContent":["declare const window: any;\ndeclare const global: any;\n\n// istanbul ignore else\nif (window) {\n    window.global = window;\n}\n\n// istanbul ignore else\nif (!global['ngrx-entity-relationship-rootEntityFlags']) {\n    global['ngrx-entity-relationship-rootEntityFlags'] = {\n        disabled: false,\n    };\n}\n\nexport const rootEntityFlags: {disabled: boolean} = global['ngrx-entity-relationship-rootEntityFlags'];\n","declare global {\n    // tslint:disable-next-line:class-name\n    export interface SELECTOR_META {\n        flatKey?: string;\n        gqlFields?: Array<string | number> | Record<string, string>;\n    }\n}\n\nexport type UNKNOWN = any;\n\nexport interface STORE_SELECTOR<T, V> {\n    (state: T): V;\n    idsKey?: keyof any;\n    entitiesKey?: keyof any;\n    originalSelector?: (state: T) => V;\n}\n\nexport type ID_SELECTOR<E> = (entity: E) => ID_TYPES;\n\nexport interface ACTION {\n    type: string;\n}\n\nexport type FILTER_PROPS<Base, Condition> = {\n    [Key in keyof Base]: Base[Key] extends Condition ? Key : never;\n}[keyof Base];\n\nexport type ENTITY_STATE_CUSTOM<EK extends keyof any, IK extends keyof any, ENTITY> = {\n    [key in EK]: {\n        [id in ID_TYPES]?: ENTITY | undefined;\n    };\n} & {\n    [key in IK]?: Array<ID_TYPES>;\n};\n\nexport interface ENTITY_STATE<E> {\n    ids?: Array<ID_TYPES>;\n    entities: {\n        [id in ID_TYPES]?: E;\n    };\n}\n\nexport type FEATURE_SELECTOR<S, E> =\n    | STORE_SELECTOR<S, ENTITY_STATE<E>>\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: string | number;\n      }\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: ID_SELECTOR<E>;\n      }\n    | {\n          selectors: {\n              selectCollection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          };\n          selectId?: ID_SELECTOR<E>; // EntityCollectionService doesn't have it but EntityCollectionServiceBase does.\n      };\n\nexport type CACHE_CHECKS = Map<ID_TYPES | null, UNKNOWN>;\nexport type CACHE_CHECKS_SET<S> = Map<STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS>;\nexport type CACHE<S> = Map<string, Map<string | null, [CACHE_CHECKS_SET<S>, UNKNOWN]>>;\n\nexport interface ENTITY_SELECTOR<S = any, E = any> {\n    ngrxEntityRelationship: string;\n    meta: SELECTOR_META;\n    collectionSelector: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    idSelector: ID_SELECTOR<E>;\n    relationships: Array<HANDLER_RELATED_ENTITY<S, E>>;\n}\n\nexport type HANDLER_ENTITY<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITY<S, E, E, I>;\n\nexport type HANDLER_ENTITIES<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITIES<S, E, E, I>;\n\nexport type HANDLER_ROOT_ENTITY<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | I | STORE_SELECTOR<S, undefined | null | I>): undefined | T;\n    release(): void;\n};\n\nexport type HANDLER_ROOT_ENTITIES<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | Array<I> | STORE_SELECTOR<S, undefined | null | Array<I>>): Array<T>;\n    release(): void;\n};\n\nexport type HANDLER_RELATED_ENTITY<S, E> = ENTITY_SELECTOR<S /* TODO has to be a related entity */> & {\n    (\n        cachePrefix: string,\n        state: S,\n        cacheRefs: CACHE<S>,\n        source: E,\n        sourceIdSelector: ID_SELECTOR<any /* TODO has to be a related entity */>,\n    ): string | undefined;\n    keyId: keyof any;\n    keyValue: keyof any;\n    release(): void;\n};\n\nexport type EMPTY_TYPES = undefined | null;\n\nexport type ID_TYPES = string | number;\n\nexport type ID_FILTER_PROPS<RELATED_ENTITY, TYPES> = NonNullable<FILTER_PROPS<RELATED_ENTITY, TYPES | EMPTY_TYPES>>;\n\nexport type VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = NonNullable<\n    FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY | EMPTY_TYPES>\n>;\n\nexport type TRANSFORMER<F, T> = (entity: F) => T;\n\nexport function isBuiltInSelector<S, E>(value: UNKNOWN): value is HANDLER_RELATED_ENTITY<S, E> {\n    return value && value.ngrxEntityRelationship;\n}\n\nexport function isSelectorMeta(value: UNKNOWN): value is SELECTOR_META {\n    return typeof value === 'object' && value !== null;\n}\n","import {\n    CACHE_CHECKS,\n    CACHE_CHECKS_SET,\n    ENTITY_STATE,\n    FEATURE_SELECTOR,\n    ID_SELECTOR,\n    ID_TYPES,\n    STORE_SELECTOR,\n    UNKNOWN,\n} from './types';\n\nexport function normalizeSelector<S, E>(\n    selector: FEATURE_SELECTOR<S, E>,\n): {\n    collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    id: ID_SELECTOR<E>;\n} {\n    const local: any = selector;\n    if (local === undefined) {\n        throw new Error(\n            `selector is undefined. Circular dependencies have been detected. You need to put selectors that use ` +\n                `nrx-entity-relationship functions into a separate file: ` +\n                `https://github.com/satanTime/ngrx-entity-relationship#circular-dependency`,\n        );\n    }\n\n    let collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    if (typeof local === 'function') {\n        collection = local;\n    } else if (local.selectors) {\n        collection = local.selectors.selectCollection;\n    } else {\n        collection = local.collection;\n    }\n\n    let id: ID_SELECTOR<E>;\n    if (typeof local === 'function') {\n        id = (v: any) => (v ? v.id : undefined);\n    } else if (local.selectId) {\n        id = local.selectId;\n    } else if (typeof local.id === 'string') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else if (typeof local.id === 'number') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else {\n        id = local.id;\n    }\n\n    return {\n        collection,\n        id,\n    };\n}\n\nexport function verifyCache<S>(state: S, checks: CACHE_CHECKS_SET<S>): boolean {\n    if (!checks.size) {\n        return false;\n    }\n    const checksData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    checks.forEach((v, k) => checksData.push([k, v]));\n    for (const [checkSelector, checkEntities] of checksData) {\n        if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {\n            continue;\n        }\n        if (\n            checkEntities.has(null) &&\n            checkSelector(state).entities !== checkEntities.get(null) &&\n            checkEntities.size === 1\n        ) {\n            return false;\n        }\n        const checkState = checkSelector(state);\n\n        const checkEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        checkEntities.forEach((v, k) => checkEntitiesData.push([k, v]));\n        for (const [checkId, checkValue] of checkEntitiesData) {\n            if (checkId === null) {\n                continue;\n            }\n            if (checkState.entities[checkId] !== checkValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport function mergeCache<S>(from: CACHE_CHECKS_SET<S> | undefined, to: CACHE_CHECKS_SET<S>): void {\n    if (!from) {\n        return;\n    }\n    const fromData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    from.forEach((v, k) => fromData.push([k, v]));\n    for (const [fromSelector, fromEntities] of fromData) {\n        const toMap = to.get(fromSelector) || new Map();\n\n        const fromEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        fromEntities.forEach((v, k) => fromEntitiesData.push([k, v]));\n        for (const [fromId, fromEntity] of fromEntitiesData) {\n            if (toMap.has(fromId)) {\n                continue;\n            }\n            toMap.set(fromId, fromEntity);\n        }\n        if (!to.has(fromSelector)) {\n            to.set(fromSelector, toMap);\n        }\n    }\n}\n\nexport function argsToArray<T>(args: {length: number} & {[key: number]: T}): Array<T> {\n    const result = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < args.length; i += 1) {\n        result.push(args[i]);\n    }\n    return result;\n}\n\nexport function isObject(value: UNKNOWN): value is object {\n    return !!value && typeof value === 'object';\n}\n\nexport function objectKeys<T extends object, K extends keyof T>(value: T): Array<K> {\n    return Object.keys(value) as Array<K>;\n}\n\nexport function objectValues<T extends object, K extends T[keyof T]>(value: T): Array<K> {\n    const keys = objectKeys(value);\n    return keys.map(key => value[key]) as Array<K>;\n}\n\nexport function mapEntries<K, T>(set: Map<K, T>): Array<[K, T]> {\n    const result: Array<[K, T]> = [];\n    set.forEach((value: T, key: K) => result.push([key, value]));\n\n    return result;\n}\n\nexport const mapValues = <T>(set: {forEach(a1: (value: T) => void): void}): Array<T> => {\n    const result: Array<T> = [];\n    set.forEach((value: T) => result.push(value));\n\n    return result;\n};\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idChecks, id]: [CACHE_CHECKS_SET<STORE>, ID_TYPES | undefined] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            undefined,\n        ];\n        if (!verifyCache(state, idChecks)) {\n            id = undefined;\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                id = idSelector(entity);\n                break;\n            }\n            idChecks = new Map();\n            const idChecksEntities = new Map();\n            idChecks.set(collectionSelector, idChecksEntities);\n            idChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idChecks, id]);\n        }\n        if (!id) {\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        checksEntities.set(id, featureState.entities[id]);\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as RELATED_ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idsChecks, ids]: [CACHE_CHECKS_SET<STORE>, Array<ID_TYPES>] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            [],\n        ];\n        if (!verifyCache(state, idsChecks)) {\n            ids = [];\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                const id = idSelector(entity);\n                // istanbul ignore else\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            idsChecks = new Map();\n            const idsChecksEntities = new Map();\n            idsChecks.set(collectionSelector, idsChecksEntities);\n            idsChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idsChecks, ids]);\n        }\n        if (!ids.length) {\n            source[keyValue] = emptyResult.get(parentId);\n            // istanbul ignore else\n            if (!source[keyValue]) {\n                source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                emptyResult.set(parentId, source[keyValue]);\n            }\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = [];\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        for (const id of ids) {\n            checksEntities.set(id, featureState.entities[id]);\n        }\n\n        for (const id of ids) {\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    value.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityChecksEntities = new Map();\n            entityChecks.set(collectionSelector, entityChecksEntities);\n            entityChecksEntities.set(null, featureState.entities);\n            entityChecksEntities.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            value.push(entityValue);\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childrenEntities';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES> = ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>> = ID_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<ID_TYPES>\n    >,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (cacheLevel: string, state: STORE, cache: CACHE<STORE>, source: PARENT_ENTITY) => {\n        // a bit magic to relax generic types.\n        const sourceKeyIdValue = source[keyId];\n        if (!sourceKeyIdValue) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const ids: Array<ID_TYPES> = [];\n        const values: ID_TYPES | Array<ID_TYPES> = sourceKeyIdValue as any; // Thanks a8.\n        if (Array.isArray(values)) {\n            for (const id of values) {\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            if (!ids.length) {\n                source[keyValue] = emptyResult.get(values) as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                    PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                if (!source[keyValue]) {\n                    source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                        PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                    emptyResult.set(values, source[keyValue]);\n                }\n                return;\n            }\n        } else {\n            ids.push(values);\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        for (const id of ids) {\n            checkIds.set(id, featureState.entities[id]);\n        }\n\n        const valueEntities = [];\n        for (const id of ids) {\n            if (!featureState.entities[id]) {\n                continue;\n            }\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    valueEntities.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityCheckIds = new Map();\n            entityChecks.set(collectionSelector, entityCheckIds);\n            entityCheckIds.set(null, featureState.entities);\n            entityCheckIds.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            valueEntities.push(entityValue);\n        }\n        value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES] & PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'relatedEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, STORE_SELECTOR} from './types';\n\nexport function rootEntities<STORE, ENTITY>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    const cacheMap = new Map<string, Array<ENTITY | TRANSFORMED>>();\n    const emptyResult: Array<ENTITY | TRANSFORMED> = [];\n\n    const callback = (\n        state: STORE,\n        idsOrSelector: undefined | null | Array<ID_TYPES> | STORE_SELECTOR<STORE, undefined | null | Array<ID_TYPES>>,\n    ) => {\n        const ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;\n        if (!ids) {\n            return emptyResult;\n        }\n\n        const cacheKey = ids.join(',');\n        const cacheValue = cacheMap.get(cacheKey) || emptyResult;\n\n        if (rootEntityFlags.disabled) {\n            return cacheValue;\n        }\n\n        const value: Array<ENTITY | TRANSFORMED> = [];\n        for (const id of ids) {\n            const entity = rootSelector(state, id);\n            if (!entity) {\n                continue;\n            }\n            value.push(entity);\n        }\n\n        let index = 0;\n        let equal = value.length === cacheValue.length;\n        for (const entity of value) {\n            if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {\n                equal = false;\n                break;\n            }\n            index += 1;\n        }\n        if (equal) {\n            return cacheValue;\n        }\n\n        cacheMap.set(cacheKey, value);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntities';\n    callback.meta = rootSelector.meta;\n    callback.collectionSelector = rootSelector.collectionSelector;\n    callback.idSelector = rootSelector.idSelector;\n    callback.relationships = rootSelector.relationships;\n    callback.release = () => {\n        cacheMap.clear();\n        rootSelector.release();\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isBuiltInSelector,\n    isSelectorMeta,\n    STORE_SELECTOR,\n    TRANSFORMER,\n    UNKNOWN,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: TRANSFORMER<ENTITY, TRANSFORMED> | SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    guess2?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(1);\n\n    let transformer: undefined | TRANSFORMER<ENTITY, TRANSFORMED>;\n    let meta: SELECTOR_META = {};\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && !isSelectorMeta(guess1)) {\n        transformer = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && isSelectorMeta(guess1)) {\n        meta = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess2) && isSelectorMeta(guess2)) {\n        meta = guess2;\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const cacheLevel = '0';\n    const cache: CACHE<STORE> = new Map();\n\n    const callback = (\n        state: STORE,\n        idOrSelector: undefined | null | ID_TYPES | STORE_SELECTOR<STORE, undefined | null | ID_TYPES>,\n    ) => {\n        const id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;\n        if (!id) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (rootEntityFlags.disabled) {\n            return value;\n        }\n        if (verifyCache(state, checks)) {\n            return value;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        checkIds.set(id, featureState.entities[id]);\n\n        // the entity does not exist.\n        if (!featureState.entities[id]) {\n            cacheDataLevel.set(cacheHash, [checks, value]);\n            return value;\n        }\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n\n        value = transformer ? transformer(value) : value;\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.release = () => {\n        cache.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {childEntity} from './childEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childEntitySelector';\n\n    return callback;\n}\n","import {childrenEntities} from './childrenEntities';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childrenEntitiesSelector';\n\n    return callback;\n}\n","import {relatedEntity} from './relatedEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any = keyof any,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = meta;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'relatedEntitySelector';\n\n    return callback;\n}\n","import {rootEntity} from './rootEntity';\nimport {\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isSelectorMeta,\n    TRANSFORMER,\n} from './types';\nimport {argsToArray} from './utils';\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: SELECTOR_META | TRANSFORMER<ENTITY, TRANSFORMED>,\n    guess2?: SELECTOR_META,\n): (\n    meta?: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    function callback(\n        metaOverride?: SELECTOR_META,\n    ): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n        const transformer = isSelectorMeta(guess1) ? undefined : guess1;\n        let currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;\n        if (isSelectorMeta(metaOverride)) {\n            currentMeta = metaOverride;\n            relationships = relationships.slice(1);\n        }\n        return transformer && currentMeta\n            ? rootEntity(featureSelector, transformer, currentMeta, ...relationships)\n            : transformer\n            ? rootEntity(featureSelector, transformer, ...relationships)\n            : currentMeta\n            ? rootEntity(featureSelector, currentMeta, ...relationships)\n            : rootEntity(featureSelector, ...relationships);\n    }\n    callback.ngrxEntityRelationship = 'rootEntitySelector';\n\n    return callback;\n}\n","import {ENTITY_SELECTOR} from '../types';\n\nexport enum ngrxEntityRelationshipActions {\n    reduceFlat = '[NGRX-Entity-Relationship] Flat',\n    reduceGraph = '[NGRX-Entity-Relationship] Graph',\n}\n\nexport class ReduceFlat {\n    public readonly type: ngrxEntityRelationshipActions.reduceFlat = ngrxEntityRelationshipActions.reduceFlat;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceFlat = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceFlat,\n});\nreduceFlat.type = ngrxEntityRelationshipActions.reduceFlat;\n\nexport class ReduceGraph {\n    public readonly type: ngrxEntityRelationshipActions.reduceGraph = ngrxEntityRelationshipActions.reduceGraph;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceGraph = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceGraph,\n});\nreduceGraph.type = ngrxEntityRelationshipActions.reduceGraph;\n","import {UNKNOWN} from '../types';\nimport {isObject, objectKeys} from '../utils';\n\nconst func = <T>(state: T, source: UNKNOWN, destination: UNKNOWN): T => {\n    if (source === destination) {\n        return state;\n    }\n    if (!isObject(state)) {\n        return state;\n    }\n\n    for (const key of objectKeys(state)) {\n        if (!isObject(state[key])) {\n            continue;\n        }\n\n        if (state[key] === source) {\n            return {\n                ...state,\n                [key]: destination,\n            };\n        }\n\n        const patchedState = func(state[key], source, destination);\n        if (patchedState !== state[key]) {\n            return {\n                ...state,\n                [key]: patchedState,\n            };\n        }\n    }\n\n    return state;\n};\n\nexport const patchState = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {objectKeys} from '../utils';\n\nimport {patchState} from './patchState';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, entity: any, meta?: {skipFields?: Array<keyof any>}) => {\n    if (typeof entity !== 'object') {\n        throw new Error('Entity is not an object');\n    }\n    const id = selector.idSelector(entity);\n    if (!id) {\n        throw new Error('Cannot detect id of an entity');\n    }\n\n    const originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;\n    const entitiesKey = selector.collectionSelector.entitiesKey || 'entities';\n    const idsKey = selector.collectionSelector.idsKey || 'ids';\n\n    // Any because keys may be different because of entitiesKey.\n    const originalState: any = originalSelector(state);\n    const originalEntity = originalState[entitiesKey][id];\n    let featureState = originalState;\n\n    // creating a clone\n    const clone: any = {};\n    for (const key of objectKeys(entity)) {\n        if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = entity[key];\n    }\n    Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));\n\n    const existingKeys = objectKeys(clone);\n    for (const key of originalEntity ? objectKeys(originalEntity) : []) {\n        if (existingKeys.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = originalEntity[key];\n    }\n\n    if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {\n        featureState = {\n            ...featureState,\n            [idsKey]: [...featureState[idsKey], id],\n        };\n    }\n\n    let isEntityChanged = !originalEntity;\n    for (const key of objectKeys(clone)) {\n        if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {\n            isEntityChanged = true;\n            break;\n        }\n    }\n    if (isEntityChanged) {\n        featureState = {\n            ...featureState,\n            [entitiesKey]: {\n                ...featureState[entitiesKey],\n                [id]: clone,\n            },\n        };\n    }\n\n    return patchState.func(state, originalState, featureState);\n};\n\nexport const injectEntity = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {mapEntries, mapValues} from '../utils';\n\nimport {injectEntity} from './injectEntity';\n\nconst extractMap = (\n    selector: ENTITY_SELECTOR,\n    map: Map<string, {selectors: Set<ENTITY_SELECTOR>; skipFields: Set<keyof any>}>,\n) => {\n    if (!selector.meta || !selector.meta.flatKey) {\n        throw new Error('Flat key is not provided in meta');\n    }\n    const {selectors = new Set<ENTITY_SELECTOR>(), skipFields = new Set<keyof any>()} =\n        map.get(selector.meta.flatKey) || {};\n    if (!map.has(selector.meta.flatKey)) {\n        map.set(selector.meta.flatKey, {\n            selectors,\n            skipFields,\n        });\n    }\n    selectors.add(selector);\n    for (const relationship of selector.relationships) {\n        skipFields.add(relationship.keyValue);\n        extractMap(relationship, map);\n    }\n    return map;\n};\n\nconst func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const map = extractMap(selector, new Map());\n    for (const [key, {selectors, skipFields}] of mapEntries(map)) {\n        const isSet = Array.isArray(data[key]);\n        const entities = isSet ? data[key] : [data[key]];\n\n        for (const entity of entities) {\n            if (!entity) {\n                continue;\n            }\n\n            for (const entitySelector of mapValues(selectors)) {\n                state = injectEntity.func(state, entitySelector, entity, {skipFields: [...mapValues(skipFields)]});\n            }\n        }\n    }\n\n    return state;\n};\n\nexport const fromFlat = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\n\nimport {injectEntity} from './injectEntity';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const isSet = Array.isArray(data);\n    const entities = isSet ? data : [data];\n\n    // detecting keys we should skip\n    const skipFields: Array<keyof any> = [];\n    for (const relationship of selector.relationships) {\n        skipFields.push(relationship.keyValue);\n    }\n\n    for (const entity of entities) {\n        if (!entity) {\n            continue;\n        }\n\n        state = injectEntity.func(state, selector, entity, {skipFields});\n        for (const relationship of selector.relationships) {\n            state = func(state, relationship, entity[relationship.keyValue]);\n        }\n    }\n\n    return state;\n};\n\nexport const fromGraph = {\n    func,\n};\n","import {ACTION} from '../types';\n\nimport {ngrxEntityRelationshipActions} from './actions';\nimport {fromFlat} from './fromFlat';\nimport {fromGraph} from './fromGraph';\n\nexport function ngrxEntityRelationshipReducer<T>(\n    reducer: (state: T | undefined, action: ACTION) => T,\n): (state: T | undefined, action: ACTION) => T {\n    return (state: T | undefined, action: any) => {\n        if (action.type === ngrxEntityRelationshipActions.reduceGraph) {\n            return reducer(fromGraph.func(state, action.selector, action.data), action);\n        }\n        if (action.type === ngrxEntityRelationshipActions.reduceFlat) {\n            return reducer(fromFlat.func(state, action.selector, action.data), action);\n        }\n        return reducer(state, action);\n    };\n}\n","export function selectByIds<S, K, Props = any>(selector: (state: S, ids: Props) => K, ids: Props): (state: S) => K {\n    return state => selector(state, ids);\n}\n","import {ENTITY_STATE, ENTITY_STATE_CUSTOM, STORE_SELECTOR} from './types';\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, 'ids', infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey?: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> {\n    const callback: STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> = (s: STORE): ENTITY_STATE<ENTITY> => {\n        const slice = selector(s);\n        return {\n            ids: idsKey ? slice[idsKey] : slice.ids,\n            entities: slice[entitiesKey],\n        };\n    };\n    callback.idsKey = idsKey;\n    callback.entitiesKey = entitiesKey;\n    callback.originalSelector = selector;\n\n    return callback;\n}\n","export function toFactorySelector<S, K, Props = any>(selector: {\n    (state: S, ids: Props): K;\n    release?: () => void;\n}): {\n    (ids: Props): {\n        (state: S): K;\n        release(): void;\n    };\n    release(): void;\n} {\n    const release = () => {\n        if (typeof selector.release === 'function') {\n            selector.release();\n        }\n    };\n\n    const callback = (ids: Props) => {\n        const storeSelector = (state: S) => selector(state, ids);\n        storeSelector.release = release;\n\n        return storeSelector;\n    };\n    callback.release = release;\n\n    return callback;\n}\n","import {toFactorySelector} from './toFactorySelector';\n\nexport function toStaticSelector<S, K, Props = any>(\n    selector: {\n        (state: S, ids: Props): K;\n        release?: () => void;\n    },\n    ids: Props,\n): {\n    (state: S): K;\n    release(): void;\n} {\n    return toFactorySelector(selector)(ids);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js
index e51e6ba..2c0a13f 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js
@@ -658,4 +658,5 @@
     Object.defineProperty(exports, '__esModule', { value: true });
 
 }));
+
 //# sourceMappingURL=ngrx-entity-relationship-graphql.umd.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..e51e6ba
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.__ivy_ngcc_bak
@@ -0,0 +1,661 @@
+(function (global, factory) {
+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
+    typeof define === 'function' && define.amd ? define('ngrx-entity-relationship/graphql', ['exports'], factory) :
+    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global["ngrx-entity-relationship"] = global["ngrx-entity-relationship"] || {}, global["ngrx-entity-relationship"].graphql = {})));
+})(this, (function (exports) { 'use strict';
+
+    /*! *****************************************************************************
+    Copyright (c) Microsoft Corporation.
+
+    Permission to use, copy, modify, and/or distribute this software for any
+    purpose with or without fee is hereby granted.
+
+    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+    PERFORMANCE OF THIS SOFTWARE.
+    ***************************************************************************** */
+    /* global Reflect, Promise */
+    var extendStatics = function (d, b) {
+        extendStatics = Object.setPrototypeOf ||
+            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
+            function (d, b) { for (var p in b)
+                if (Object.prototype.hasOwnProperty.call(b, p))
+                    d[p] = b[p]; };
+        return extendStatics(d, b);
+    };
+    function __extends(d, b) {
+        if (typeof b !== "function" && b !== null)
+            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
+        extendStatics(d, b);
+        function __() { this.constructor = d; }
+        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+    }
+    var __assign = function () {
+        __assign = Object.assign || function __assign(t) {
+            for (var s, i = 1, n = arguments.length; i < n; i++) {
+                s = arguments[i];
+                for (var p in s)
+                    if (Object.prototype.hasOwnProperty.call(s, p))
+                        t[p] = s[p];
+            }
+            return t;
+        };
+        return __assign.apply(this, arguments);
+    };
+    function __rest(s, e) {
+        var t = {};
+        for (var p in s)
+            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+                t[p] = s[p];
+        if (s != null && typeof Object.getOwnPropertySymbols === "function")
+            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
+                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
+                    t[p[i]] = s[p[i]];
+            }
+        return t;
+    }
+    function __decorate(decorators, target, key, desc) {
+        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
+            r = Reflect.decorate(decorators, target, key, desc);
+        else
+            for (var i = decorators.length - 1; i >= 0; i--)
+                if (d = decorators[i])
+                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+        return c > 3 && r && Object.defineProperty(target, key, r), r;
+    }
+    function __param(paramIndex, decorator) {
+        return function (target, key) { decorator(target, key, paramIndex); };
+    }
+    function __metadata(metadataKey, metadataValue) {
+        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
+            return Reflect.metadata(metadataKey, metadataValue);
+    }
+    function __awaiter(thisArg, _arguments, P, generator) {
+        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
+        return new (P || (P = Promise))(function (resolve, reject) {
+            function fulfilled(value) { try {
+                step(generator.next(value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function rejected(value) { try {
+                step(generator["throw"](value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
+            step((generator = generator.apply(thisArg, _arguments || [])).next());
+        });
+    }
+    function __generator(thisArg, body) {
+        var _ = { label: 0, sent: function () { if (t[0] & 1)
+                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
+        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
+        function verb(n) { return function (v) { return step([n, v]); }; }
+        function step(op) {
+            if (f)
+                throw new TypeError("Generator is already executing.");
+            while (_)
+                try {
+                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
+                        return t;
+                    if (y = 0, t)
+                        op = [op[0] & 2, t.value];
+                    switch (op[0]) {
+                        case 0:
+                        case 1:
+                            t = op;
+                            break;
+                        case 4:
+                            _.label++;
+                            return { value: op[1], done: false };
+                        case 5:
+                            _.label++;
+                            y = op[1];
+                            op = [0];
+                            continue;
+                        case 7:
+                            op = _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                        default:
+                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
+                                _ = 0;
+                                continue;
+                            }
+                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+                                _.label = op[1];
+                                break;
+                            }
+                            if (op[0] === 6 && _.label < t[1]) {
+                                _.label = t[1];
+                                t = op;
+                                break;
+                            }
+                            if (t && _.label < t[2]) {
+                                _.label = t[2];
+                                _.ops.push(op);
+                                break;
+                            }
+                            if (t[2])
+                                _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                    }
+                    op = body.call(thisArg, _);
+                }
+                catch (e) {
+                    op = [6, e];
+                    y = 0;
+                }
+                finally {
+                    f = t = 0;
+                }
+            if (op[0] & 5)
+                throw op[1];
+            return { value: op[0] ? op[1] : void 0, done: true };
+        }
+    }
+    var __createBinding = Object.create ? (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
+    }) : (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        o[k2] = m[k];
+    });
+    function __exportStar(m, o) {
+        for (var p in m)
+            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
+                __createBinding(o, m, p);
+    }
+    function __values(o) {
+        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+        if (m)
+            return m.call(o);
+        if (o && typeof o.length === "number")
+            return {
+                next: function () {
+                    if (o && i >= o.length)
+                        o = void 0;
+                    return { value: o && o[i++], done: !o };
+                }
+            };
+        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+    }
+    function __read(o, n) {
+        var m = typeof Symbol === "function" && o[Symbol.iterator];
+        if (!m)
+            return o;
+        var i = m.call(o), r, ar = [], e;
+        try {
+            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
+                ar.push(r.value);
+        }
+        catch (error) {
+            e = { error: error };
+        }
+        finally {
+            try {
+                if (r && !r.done && (m = i["return"]))
+                    m.call(i);
+            }
+            finally {
+                if (e)
+                    throw e.error;
+            }
+        }
+        return ar;
+    }
+    /** @deprecated */
+    function __spread() {
+        for (var ar = [], i = 0; i < arguments.length; i++)
+            ar = ar.concat(__read(arguments[i]));
+        return ar;
+    }
+    /** @deprecated */
+    function __spreadArrays() {
+        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+            s += arguments[i].length;
+        for (var r = Array(s), k = 0, i = 0; i < il; i++)
+            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+                r[k] = a[j];
+        return r;
+    }
+    function __spreadArray(to, from, pack) {
+        if (pack || arguments.length === 2)
+            for (var i = 0, l = from.length, ar; i < l; i++) {
+                if (ar || !(i in from)) {
+                    if (!ar)
+                        ar = Array.prototype.slice.call(from, 0, i);
+                    ar[i] = from[i];
+                }
+            }
+        return to.concat(ar || Array.prototype.slice.call(from));
+    }
+    function __await(v) {
+        return this instanceof __await ? (this.v = v, this) : new __await(v);
+    }
+    function __asyncGenerator(thisArg, _arguments, generator) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var g = generator.apply(thisArg, _arguments || []), i, q = [];
+        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
+        function verb(n) { if (g[n])
+            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
+        function resume(n, v) { try {
+            step(g[n](v));
+        }
+        catch (e) {
+            settle(q[0][3], e);
+        } }
+        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
+        function fulfill(value) { resume("next", value); }
+        function reject(value) { resume("throw", value); }
+        function settle(f, v) { if (f(v), q.shift(), q.length)
+            resume(q[0][0], q[0][1]); }
+    }
+    function __asyncDelegator(o) {
+        var i, p;
+        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
+        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
+    }
+    function __asyncValues(o) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var m = o[Symbol.asyncIterator], i;
+        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
+        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
+        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
+    }
+    function __makeTemplateObject(cooked, raw) {
+        if (Object.defineProperty) {
+            Object.defineProperty(cooked, "raw", { value: raw });
+        }
+        else {
+            cooked.raw = raw;
+        }
+        return cooked;
+    }
+    ;
+    var __setModuleDefault = Object.create ? (function (o, v) {
+        Object.defineProperty(o, "default", { enumerable: true, value: v });
+    }) : function (o, v) {
+        o["default"] = v;
+    };
+    function __importStar(mod) {
+        if (mod && mod.__esModule)
+            return mod;
+        var result = {};
+        if (mod != null)
+            for (var k in mod)
+                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
+                    __createBinding(result, mod, k);
+        __setModuleDefault(result, mod);
+        return result;
+    }
+    function __importDefault(mod) {
+        return (mod && mod.__esModule) ? mod : { default: mod };
+    }
+    function __classPrivateFieldGet(receiver, state, kind, f) {
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a getter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot read private member from an object whose class did not declare it");
+        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
+    }
+    function __classPrivateFieldSet(receiver, state, value, kind, f) {
+        if (kind === "m")
+            throw new TypeError("Private method is not writable");
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a setter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot write private member to an object whose class did not declare it");
+        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
+    }
+
+    var resolveGraphQL = function (selector, options) {
+        var e_1, _a, e_2, _b, e_3, _c, e_4, _d;
+        var prefix = options.prefix ? options.prefix.repeat(options.level) : '';
+        var query = '';
+        var included = [];
+        try {
+            for (var _e = __values(selector.relationships), _f = _e.next(); !_f.done; _f = _e.next()) {
+                var relationship = _f.value;
+                // istanbul ignore if
+                if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {
+                    continue;
+                }
+                // istanbul ignore if
+                if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {
+                    continue;
+                }
+                if (relationship.ngrxEntityRelationship === 'childrenEntities') {
+                    included.push(relationship.keyValue);
+                    query += "" + prefix + relationship.keyValue;
+                    query += (prefix ? ' ' : '') + "{" + (prefix ? '\n' : '') + resolveGraphQL(relationship, {
+                        include: [relationship.keyId],
+                        prefix: options.prefix,
+                        level: options.level + 1,
+                    }) + prefix + "}" + (prefix ? '\n' : '');
+                }
+                else if (relationship.ngrxEntityRelationship === 'childEntity') {
+                    included.push(relationship.keyValue);
+                    query += "" + prefix + relationship.keyValue;
+                    query += (prefix ? ' ' : '') + "{" + (prefix ? '\n' : '') + resolveGraphQL(relationship, {
+                        include: [relationship.keyId],
+                        prefix: options.prefix,
+                        level: options.level + 1,
+                    }) + prefix + "}" + (prefix ? '\n' : '');
+                }
+                else {
+                    included.push(relationship.keyId);
+                    included.push(relationship.keyValue);
+                    query += "" + prefix + relationship.keyId;
+                    query += "\n" + prefix + relationship.keyValue;
+                    query += (prefix ? ' ' : '') + "{" + (prefix ? '\n' : '') + resolveGraphQL(relationship, {
+                        include: [],
+                        prefix: options.prefix,
+                        level: options.level + 1,
+                    }) + prefix + "}" + (prefix ? '\n' : '');
+                }
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        try {
+            for (var _g = __values(options.include), _h = _g.next(); !_h.done; _h = _g.next()) {
+                var field = _h.value;
+                // istanbul ignore if
+                if (typeof field !== 'string' && typeof field !== 'number') {
+                    continue;
+                }
+                // istanbul ignore if
+                if (included.indexOf(field) !== -1) {
+                    continue;
+                }
+                included.push(field);
+                query += "" + prefix + field + "\n";
+            }
+        }
+        catch (e_2_1) { e_2 = { error: e_2_1 }; }
+        finally {
+            try {
+                if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
+            }
+            finally { if (e_2) throw e_2.error; }
+        }
+        if (Array.isArray(selector.meta.gqlFields)) {
+            try {
+                for (var _j = __values(selector.meta.gqlFields), _k = _j.next(); !_k.done; _k = _j.next()) {
+                    var field = _k.value;
+                    if (included.indexOf(field) !== -1) {
+                        continue;
+                    }
+                    included.push(field);
+                    query += "" + prefix + field + "\n";
+                }
+            }
+            catch (e_3_1) { e_3 = { error: e_3_1 }; }
+            finally {
+                try {
+                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
+                }
+                finally { if (e_3) throw e_3.error; }
+            }
+        }
+        else if (selector.meta.gqlFields) {
+            try {
+                for (var _l = __values(Object.keys(selector.meta.gqlFields)), _m = _l.next(); !_m.done; _m = _l.next()) {
+                    var field = _m.value;
+                    if (included.indexOf(field) !== -1) {
+                        continue;
+                    }
+                    included.push(field);
+                    query += "" + prefix + field + selector.meta.gqlFields[field] + "\n";
+                }
+            }
+            catch (e_4_1) { e_4 = { error: e_4_1 }; }
+            finally {
+                try {
+                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
+                }
+                finally { if (e_4) throw e_4.error; }
+            }
+        }
+        return query;
+    };
+    var ɵ0 = resolveGraphQL;
+    function encodeValuePrimitives(data) {
+        if (typeof data === 'number') {
+            return JSON.stringify(data);
+        }
+        if (typeof data === 'string') {
+            return JSON.stringify(data);
+        }
+        if (typeof data === 'boolean') {
+            return JSON.stringify(data);
+        }
+        return undefined;
+    }
+    function encodeValue(data) {
+        var e_5, _a;
+        var primitives = encodeValuePrimitives(data);
+        if (primitives !== undefined) {
+            return primitives;
+        }
+        if (data === null || data === undefined) {
+            return JSON.stringify(null);
+        }
+        if (typeof data === 'function') {
+            return undefined;
+        }
+        if (Array.isArray(data)) {
+            return "[" + data
+                .map(encodeValue)
+                .filter(function (v) { return v !== undefined; })
+                .join(',') + "]";
+        }
+        var fields = [];
+        try {
+            for (var _b = __values(Object.keys(data)), _c = _b.next(); !_c.done; _c = _b.next()) {
+                var key = _c.value;
+                var value = encodeValue(data[key]);
+                if (value === undefined) {
+                    continue;
+                }
+                fields.push(key + ":" + value);
+            }
+        }
+        catch (e_5_1) { e_5 = { error: e_5_1 }; }
+        finally {
+            try {
+                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
+            }
+            finally { if (e_5) throw e_5.error; }
+        }
+        return "{" + fields.join(',') + "}";
+    }
+    function toGraphQL() {
+        var _a, _b, _c, e_6, _d, e_7, _e, e_8, _f;
+        var queries = [];
+        for (var _i = 0; _i < arguments.length; _i++) {
+            queries[_i] = arguments[_i];
+        }
+        var prefix = window.ngrxGraphqlPrefix || '';
+        var query = '';
+        var selector;
+        var params;
+        if (queries.length >= 2 && typeof queries[1] !== 'string') {
+            if (queries[2] && typeof queries[2] !== 'string') {
+                _a = __read(queries, 3), query = _a[0], params = _a[1], selector = _a[2];
+            }
+            else {
+                _b = __read(queries, 2), query = _b[0], selector = _b[1];
+            }
+        }
+        else if (queries.length === 1 && typeof queries[0] !== 'string') {
+            _c = __read(queries, 1), selector = _c[0];
+            query = undefined;
+        }
+        var stringParams = [];
+        if (params && typeof params === 'object') {
+            try {
+                for (var _g = __values(Object.keys(params)), _h = _g.next(); !_h.done; _h = _g.next()) {
+                    var key = _h.value;
+                    if (key === '$') {
+                        continue;
+                    }
+                    var value = encodeValue(params[key]);
+                    if (value === undefined) {
+                        continue;
+                    }
+                    stringParams.push(key + ":" + (prefix ? ' ' : '') + value);
+                }
+            }
+            catch (e_6_1) { e_6 = { error: e_6_1 }; }
+            finally {
+                try {
+                    if (_h && !_h.done && (_d = _g.return)) _d.call(_g);
+                }
+                finally { if (e_6) throw e_6.error; }
+            }
+        }
+        if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {
+            var params$ = params.$;
+            try {
+                for (var _j = __values(Object.keys(params$)), _k = _j.next(); !_k.done; _k = _j.next()) {
+                    var key = _k.value;
+                    if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {
+                        throw new Error(key + " should be a variable that starts with $ symbol");
+                    }
+                    stringParams.push(key + ":" + (prefix ? ' ' : '') + params$[key]);
+                }
+            }
+            catch (e_7_1) { e_7 = { error: e_7_1 }; }
+            finally {
+                try {
+                    if (_k && !_k.done && (_e = _j.return)) _e.call(_j);
+                }
+                finally { if (e_7) throw e_7.error; }
+            }
+        }
+        params = stringParams.length ? "(" + stringParams.join("," + (prefix ? ' ' : '')) + ")" : '';
+        if (selector) {
+            var gql = resolveGraphQL(selector, {
+                include: [],
+                prefix: "" + prefix,
+                level: 2,
+            });
+            if (query === undefined) {
+                return gql;
+            }
+            gql = "{\n" + gql + prefix + "}";
+            return query ? "{\n" + prefix + query + params + (prefix ? ' ' : '') + gql + "\n}" : gql;
+        }
+        var parts = [];
+        try {
+            for (var queries_1 = __values(queries), queries_1_1 = queries_1.next(); !queries_1_1.done; queries_1_1 = queries_1.next()) {
+                var part = queries_1_1.value;
+                if (typeof part !== 'string') {
+                    continue;
+                }
+                part = part.trim();
+                if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {
+                    part = part.substr(1, part.length - 2);
+                }
+                parts.push(part.trim());
+            }
+        }
+        catch (e_8_1) { e_8 = { error: e_8_1 }; }
+        finally {
+            try {
+                if (queries_1_1 && !queries_1_1.done && (_f = queries_1.return)) _f.call(queries_1);
+            }
+            finally { if (e_8) throw e_8.error; }
+        }
+        return "{" + parts.join('\n') + "}";
+    }
+
+    function toTerm(term) {
+        var e_1, _a;
+        var args = [];
+        for (var _i = 1; _i < arguments.length; _i++) {
+            args[_i - 1] = arguments[_i];
+        }
+        var params = [];
+        var toGraphQL = '';
+        if (typeof args[0] === 'object') {
+            try {
+                for (var _b = __values(Object.keys(args[0] || {})), _c = _b.next(); !_c.done; _c = _b.next()) {
+                    var key = _c.value;
+                    params.push(key + ":" + args[0][key]);
+                }
+            }
+            catch (e_1_1) { e_1 = { error: e_1_1 }; }
+            finally {
+                try {
+                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
+                }
+                finally { if (e_1) throw e_1.error; }
+            }
+            toGraphQL = args[1];
+        }
+        else {
+            toGraphQL = args[0];
+        }
+        return "" + term + (params.length ? "(" + params.join(',') + ")" : '') + toGraphQL;
+    }
+
+    function toMutation() {
+        var args = [];
+        for (var _i = 0; _i < arguments.length; _i++) {
+            args[_i] = arguments[_i];
+        }
+        return toTerm.apply(void 0, __spreadArray(['mutation'], __read(args)));
+    }
+
+    function toQuery() {
+        var args = [];
+        for (var _i = 0; _i < arguments.length; _i++) {
+            args[_i] = arguments[_i];
+        }
+        return toTerm.apply(void 0, __spreadArray(['query'], __read(args)));
+    }
+
+    function toSubscription() {
+        var args = [];
+        for (var _i = 0; _i < arguments.length; _i++) {
+            args[_i] = arguments[_i];
+        }
+        return toTerm.apply(void 0, __spreadArray(['subscription'], __read(args)));
+    }
+
+    /**
+     * Generated bundle index. Do not edit.
+     */
+
+    exports.toGraphQL = toGraphQL;
+    exports.toMutation = toMutation;
+    exports.toQuery = toQuery;
+    exports.toSubscription = toSubscription;
+    exports["ɵ0"] = ɵ0;
+    exports["ɵa"] = toTerm;
+
+    Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
+//# sourceMappingURL=ngrx-entity-relationship-graphql.umd.js.map
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map
index 4e503d7..007f131 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map
@@ -1 +1 @@
-{"version":3,"file":"ngrx-entity-relationship-graphql.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ngrx-entity-relationship-graphql.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"names":[],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..4e503d7
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-graphql.umd.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-graphql.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js
index d17d9a9..86b08f2 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js
@@ -359,4 +359,5 @@
     Object.defineProperty(exports, '__esModule', { value: true });
 
 }));
+
 //# sourceMappingURL=ngrx-entity-relationship-rxjs.umd.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..d17d9a9
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.__ivy_ngcc_bak
@@ -0,0 +1,362 @@
+(function (global, factory) {
+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('ngrx-entity-relationship'), require('rxjs'), require('rxjs/operators')) :
+    typeof define === 'function' && define.amd ? define('ngrx-entity-relationship/rxjs', ['exports', 'ngrx-entity-relationship', 'rxjs', 'rxjs/operators'], factory) :
+    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global["ngrx-entity-relationship"] = global["ngrx-entity-relationship"] || {}, global["ngrx-entity-relationship"].rxjs = {}), global["ngrx-entity-relationship"], global.rxjs, global.rxjs.operators));
+})(this, (function (exports, ngrxEntityRelationship, rxjs, operators) { 'use strict';
+
+    /*! *****************************************************************************
+    Copyright (c) Microsoft Corporation.
+
+    Permission to use, copy, modify, and/or distribute this software for any
+    purpose with or without fee is hereby granted.
+
+    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+    PERFORMANCE OF THIS SOFTWARE.
+    ***************************************************************************** */
+    /* global Reflect, Promise */
+    var extendStatics = function (d, b) {
+        extendStatics = Object.setPrototypeOf ||
+            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
+            function (d, b) { for (var p in b)
+                if (Object.prototype.hasOwnProperty.call(b, p))
+                    d[p] = b[p]; };
+        return extendStatics(d, b);
+    };
+    function __extends(d, b) {
+        if (typeof b !== "function" && b !== null)
+            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
+        extendStatics(d, b);
+        function __() { this.constructor = d; }
+        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+    }
+    var __assign = function () {
+        __assign = Object.assign || function __assign(t) {
+            for (var s, i = 1, n = arguments.length; i < n; i++) {
+                s = arguments[i];
+                for (var p in s)
+                    if (Object.prototype.hasOwnProperty.call(s, p))
+                        t[p] = s[p];
+            }
+            return t;
+        };
+        return __assign.apply(this, arguments);
+    };
+    function __rest(s, e) {
+        var t = {};
+        for (var p in s)
+            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+                t[p] = s[p];
+        if (s != null && typeof Object.getOwnPropertySymbols === "function")
+            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
+                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
+                    t[p[i]] = s[p[i]];
+            }
+        return t;
+    }
+    function __decorate(decorators, target, key, desc) {
+        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
+            r = Reflect.decorate(decorators, target, key, desc);
+        else
+            for (var i = decorators.length - 1; i >= 0; i--)
+                if (d = decorators[i])
+                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+        return c > 3 && r && Object.defineProperty(target, key, r), r;
+    }
+    function __param(paramIndex, decorator) {
+        return function (target, key) { decorator(target, key, paramIndex); };
+    }
+    function __metadata(metadataKey, metadataValue) {
+        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
+            return Reflect.metadata(metadataKey, metadataValue);
+    }
+    function __awaiter(thisArg, _arguments, P, generator) {
+        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
+        return new (P || (P = Promise))(function (resolve, reject) {
+            function fulfilled(value) { try {
+                step(generator.next(value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function rejected(value) { try {
+                step(generator["throw"](value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
+            step((generator = generator.apply(thisArg, _arguments || [])).next());
+        });
+    }
+    function __generator(thisArg, body) {
+        var _ = { label: 0, sent: function () { if (t[0] & 1)
+                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
+        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
+        function verb(n) { return function (v) { return step([n, v]); }; }
+        function step(op) {
+            if (f)
+                throw new TypeError("Generator is already executing.");
+            while (_)
+                try {
+                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
+                        return t;
+                    if (y = 0, t)
+                        op = [op[0] & 2, t.value];
+                    switch (op[0]) {
+                        case 0:
+                        case 1:
+                            t = op;
+                            break;
+                        case 4:
+                            _.label++;
+                            return { value: op[1], done: false };
+                        case 5:
+                            _.label++;
+                            y = op[1];
+                            op = [0];
+                            continue;
+                        case 7:
+                            op = _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                        default:
+                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
+                                _ = 0;
+                                continue;
+                            }
+                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+                                _.label = op[1];
+                                break;
+                            }
+                            if (op[0] === 6 && _.label < t[1]) {
+                                _.label = t[1];
+                                t = op;
+                                break;
+                            }
+                            if (t && _.label < t[2]) {
+                                _.label = t[2];
+                                _.ops.push(op);
+                                break;
+                            }
+                            if (t[2])
+                                _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                    }
+                    op = body.call(thisArg, _);
+                }
+                catch (e) {
+                    op = [6, e];
+                    y = 0;
+                }
+                finally {
+                    f = t = 0;
+                }
+            if (op[0] & 5)
+                throw op[1];
+            return { value: op[0] ? op[1] : void 0, done: true };
+        }
+    }
+    var __createBinding = Object.create ? (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
+    }) : (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        o[k2] = m[k];
+    });
+    function __exportStar(m, o) {
+        for (var p in m)
+            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
+                __createBinding(o, m, p);
+    }
+    function __values(o) {
+        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+        if (m)
+            return m.call(o);
+        if (o && typeof o.length === "number")
+            return {
+                next: function () {
+                    if (o && i >= o.length)
+                        o = void 0;
+                    return { value: o && o[i++], done: !o };
+                }
+            };
+        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+    }
+    function __read(o, n) {
+        var m = typeof Symbol === "function" && o[Symbol.iterator];
+        if (!m)
+            return o;
+        var i = m.call(o), r, ar = [], e;
+        try {
+            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
+                ar.push(r.value);
+        }
+        catch (error) {
+            e = { error: error };
+        }
+        finally {
+            try {
+                if (r && !r.done && (m = i["return"]))
+                    m.call(i);
+            }
+            finally {
+                if (e)
+                    throw e.error;
+            }
+        }
+        return ar;
+    }
+    /** @deprecated */
+    function __spread() {
+        for (var ar = [], i = 0; i < arguments.length; i++)
+            ar = ar.concat(__read(arguments[i]));
+        return ar;
+    }
+    /** @deprecated */
+    function __spreadArrays() {
+        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+            s += arguments[i].length;
+        for (var r = Array(s), k = 0, i = 0; i < il; i++)
+            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+                r[k] = a[j];
+        return r;
+    }
+    function __spreadArray(to, from, pack) {
+        if (pack || arguments.length === 2)
+            for (var i = 0, l = from.length, ar; i < l; i++) {
+                if (ar || !(i in from)) {
+                    if (!ar)
+                        ar = Array.prototype.slice.call(from, 0, i);
+                    ar[i] = from[i];
+                }
+            }
+        return to.concat(ar || Array.prototype.slice.call(from));
+    }
+    function __await(v) {
+        return this instanceof __await ? (this.v = v, this) : new __await(v);
+    }
+    function __asyncGenerator(thisArg, _arguments, generator) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var g = generator.apply(thisArg, _arguments || []), i, q = [];
+        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
+        function verb(n) { if (g[n])
+            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
+        function resume(n, v) { try {
+            step(g[n](v));
+        }
+        catch (e) {
+            settle(q[0][3], e);
+        } }
+        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
+        function fulfill(value) { resume("next", value); }
+        function reject(value) { resume("throw", value); }
+        function settle(f, v) { if (f(v), q.shift(), q.length)
+            resume(q[0][0], q[0][1]); }
+    }
+    function __asyncDelegator(o) {
+        var i, p;
+        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
+        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
+    }
+    function __asyncValues(o) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var m = o[Symbol.asyncIterator], i;
+        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
+        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
+        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
+    }
+    function __makeTemplateObject(cooked, raw) {
+        if (Object.defineProperty) {
+            Object.defineProperty(cooked, "raw", { value: raw });
+        }
+        else {
+            cooked.raw = raw;
+        }
+        return cooked;
+    }
+    ;
+    var __setModuleDefault = Object.create ? (function (o, v) {
+        Object.defineProperty(o, "default", { enumerable: true, value: v });
+    }) : function (o, v) {
+        o["default"] = v;
+    };
+    function __importStar(mod) {
+        if (mod && mod.__esModule)
+            return mod;
+        var result = {};
+        if (mod != null)
+            for (var k in mod)
+                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
+                    __createBinding(result, mod, k);
+        __setModuleDefault(result, mod);
+        return result;
+    }
+    function __importDefault(mod) {
+        return (mod && mod.__esModule) ? mod : { default: mod };
+    }
+    function __classPrivateFieldGet(receiver, state, kind, f) {
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a getter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot read private member from an object whose class did not declare it");
+        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
+    }
+    function __classPrivateFieldSet(receiver, state, value, kind, f) {
+        if (kind === "m")
+            throw new TypeError("Private method is not writable");
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a setter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot write private member to an object whose class did not declare it");
+        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
+    }
+
+    function relationships(store, selector) {
+        var factory = ngrxEntityRelationship.toFactorySelector(selector);
+        return function (next) { return next.pipe(operators.switchMap(function (input) {
+            var result = rxjs.of(input);
+            return rxjs.iif(function () { return input === undefined; }, result, result.pipe(operators.map(function (set) {
+                var e_1, _a;
+                if (Array.isArray(set)) {
+                    var processed = [];
+                    try {
+                        for (var set_1 = __values(set), set_1_1 = set_1.next(); !set_1_1.done; set_1_1 = set_1.next()) {
+                            var entity = set_1_1.value;
+                            processed.push(selector.idSelector(entity));
+                        }
+                    }
+                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
+                    finally {
+                        try {
+                            if (set_1_1 && !set_1_1.done && (_a = set_1.return)) _a.call(set_1);
+                        }
+                        finally { if (e_1) throw e_1.error; }
+                    }
+                    return processed;
+                }
+                return selector.idSelector(set);
+            }), operators.switchMap(function (id) { return store.select(factory(id)); })));
+        })); };
+    }
+
+    /**
+     * Generated bundle index. Do not edit.
+     */
+
+    exports.relationships = relationships;
+
+    Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
+//# sourceMappingURL=ngrx-entity-relationship-rxjs.umd.js.map
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map
index 7d5916a..d78c348 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map
@@ -1 +1 @@
-{"version":3,"file":"ngrx-entity-relationship-rxjs.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["toFactorySelector","switchMap","of","iif","map"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ngrx-entity-relationship-rxjs.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"names":["toFactorySelector","switchMap","of","iif","map"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..7d5916a
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship-rxjs.umd.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-rxjs.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["toFactorySelector","switchMap","of","iif","map"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js
index 2f984bd..af18e4a 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js
@@ -1576,4 +1576,5 @@
     Object.defineProperty(exports, '__esModule', { value: true });
 
 }));
+
 //# sourceMappingURL=ngrx-entity-relationship.umd.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..2f984bd
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.__ivy_ngcc_bak
@@ -0,0 +1,1579 @@
+(function (global, factory) {
+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
+    typeof define === 'function' && define.amd ? define('ngrx-entity-relationship', ['exports'], factory) :
+    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["ngrx-entity-relationship"] = {}));
+})(this, (function (exports) { 'use strict';
+
+    // istanbul ignore else
+    if (window) {
+        window.global = window;
+    }
+    // istanbul ignore else
+    if (!global['ngrx-entity-relationship-rootEntityFlags']) {
+        global['ngrx-entity-relationship-rootEntityFlags'] = {
+            disabled: false,
+        };
+    }
+    var rootEntityFlags = global['ngrx-entity-relationship-rootEntityFlags'];
+
+    /*! *****************************************************************************
+    Copyright (c) Microsoft Corporation.
+
+    Permission to use, copy, modify, and/or distribute this software for any
+    purpose with or without fee is hereby granted.
+
+    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
+    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
+    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
+    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
+    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+    PERFORMANCE OF THIS SOFTWARE.
+    ***************************************************************************** */
+    /* global Reflect, Promise */
+    var extendStatics = function (d, b) {
+        extendStatics = Object.setPrototypeOf ||
+            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
+            function (d, b) { for (var p in b)
+                if (Object.prototype.hasOwnProperty.call(b, p))
+                    d[p] = b[p]; };
+        return extendStatics(d, b);
+    };
+    function __extends(d, b) {
+        if (typeof b !== "function" && b !== null)
+            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
+        extendStatics(d, b);
+        function __() { this.constructor = d; }
+        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
+    }
+    var __assign = function () {
+        __assign = Object.assign || function __assign(t) {
+            for (var s, i = 1, n = arguments.length; i < n; i++) {
+                s = arguments[i];
+                for (var p in s)
+                    if (Object.prototype.hasOwnProperty.call(s, p))
+                        t[p] = s[p];
+            }
+            return t;
+        };
+        return __assign.apply(this, arguments);
+    };
+    function __rest(s, e) {
+        var t = {};
+        for (var p in s)
+            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+                t[p] = s[p];
+        if (s != null && typeof Object.getOwnPropertySymbols === "function")
+            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
+                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
+                    t[p[i]] = s[p[i]];
+            }
+        return t;
+    }
+    function __decorate(decorators, target, key, desc) {
+        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
+        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
+            r = Reflect.decorate(decorators, target, key, desc);
+        else
+            for (var i = decorators.length - 1; i >= 0; i--)
+                if (d = decorators[i])
+                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
+        return c > 3 && r && Object.defineProperty(target, key, r), r;
+    }
+    function __param(paramIndex, decorator) {
+        return function (target, key) { decorator(target, key, paramIndex); };
+    }
+    function __metadata(metadataKey, metadataValue) {
+        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
+            return Reflect.metadata(metadataKey, metadataValue);
+    }
+    function __awaiter(thisArg, _arguments, P, generator) {
+        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
+        return new (P || (P = Promise))(function (resolve, reject) {
+            function fulfilled(value) { try {
+                step(generator.next(value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function rejected(value) { try {
+                step(generator["throw"](value));
+            }
+            catch (e) {
+                reject(e);
+            } }
+            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
+            step((generator = generator.apply(thisArg, _arguments || [])).next());
+        });
+    }
+    function __generator(thisArg, body) {
+        var _ = { label: 0, sent: function () { if (t[0] & 1)
+                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
+        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
+        function verb(n) { return function (v) { return step([n, v]); }; }
+        function step(op) {
+            if (f)
+                throw new TypeError("Generator is already executing.");
+            while (_)
+                try {
+                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
+                        return t;
+                    if (y = 0, t)
+                        op = [op[0] & 2, t.value];
+                    switch (op[0]) {
+                        case 0:
+                        case 1:
+                            t = op;
+                            break;
+                        case 4:
+                            _.label++;
+                            return { value: op[1], done: false };
+                        case 5:
+                            _.label++;
+                            y = op[1];
+                            op = [0];
+                            continue;
+                        case 7:
+                            op = _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                        default:
+                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
+                                _ = 0;
+                                continue;
+                            }
+                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
+                                _.label = op[1];
+                                break;
+                            }
+                            if (op[0] === 6 && _.label < t[1]) {
+                                _.label = t[1];
+                                t = op;
+                                break;
+                            }
+                            if (t && _.label < t[2]) {
+                                _.label = t[2];
+                                _.ops.push(op);
+                                break;
+                            }
+                            if (t[2])
+                                _.ops.pop();
+                            _.trys.pop();
+                            continue;
+                    }
+                    op = body.call(thisArg, _);
+                }
+                catch (e) {
+                    op = [6, e];
+                    y = 0;
+                }
+                finally {
+                    f = t = 0;
+                }
+            if (op[0] & 5)
+                throw op[1];
+            return { value: op[0] ? op[1] : void 0, done: true };
+        }
+    }
+    var __createBinding = Object.create ? (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
+    }) : (function (o, m, k, k2) {
+        if (k2 === undefined)
+            k2 = k;
+        o[k2] = m[k];
+    });
+    function __exportStar(m, o) {
+        for (var p in m)
+            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
+                __createBinding(o, m, p);
+    }
+    function __values(o) {
+        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+        if (m)
+            return m.call(o);
+        if (o && typeof o.length === "number")
+            return {
+                next: function () {
+                    if (o && i >= o.length)
+                        o = void 0;
+                    return { value: o && o[i++], done: !o };
+                }
+            };
+        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+    }
+    function __read(o, n) {
+        var m = typeof Symbol === "function" && o[Symbol.iterator];
+        if (!m)
+            return o;
+        var i = m.call(o), r, ar = [], e;
+        try {
+            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
+                ar.push(r.value);
+        }
+        catch (error) {
+            e = { error: error };
+        }
+        finally {
+            try {
+                if (r && !r.done && (m = i["return"]))
+                    m.call(i);
+            }
+            finally {
+                if (e)
+                    throw e.error;
+            }
+        }
+        return ar;
+    }
+    /** @deprecated */
+    function __spread() {
+        for (var ar = [], i = 0; i < arguments.length; i++)
+            ar = ar.concat(__read(arguments[i]));
+        return ar;
+    }
+    /** @deprecated */
+    function __spreadArrays() {
+        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
+            s += arguments[i].length;
+        for (var r = Array(s), k = 0, i = 0; i < il; i++)
+            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
+                r[k] = a[j];
+        return r;
+    }
+    function __spreadArray(to, from, pack) {
+        if (pack || arguments.length === 2)
+            for (var i = 0, l = from.length, ar; i < l; i++) {
+                if (ar || !(i in from)) {
+                    if (!ar)
+                        ar = Array.prototype.slice.call(from, 0, i);
+                    ar[i] = from[i];
+                }
+            }
+        return to.concat(ar || Array.prototype.slice.call(from));
+    }
+    function __await(v) {
+        return this instanceof __await ? (this.v = v, this) : new __await(v);
+    }
+    function __asyncGenerator(thisArg, _arguments, generator) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var g = generator.apply(thisArg, _arguments || []), i, q = [];
+        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
+        function verb(n) { if (g[n])
+            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
+        function resume(n, v) { try {
+            step(g[n](v));
+        }
+        catch (e) {
+            settle(q[0][3], e);
+        } }
+        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
+        function fulfill(value) { resume("next", value); }
+        function reject(value) { resume("throw", value); }
+        function settle(f, v) { if (f(v), q.shift(), q.length)
+            resume(q[0][0], q[0][1]); }
+    }
+    function __asyncDelegator(o) {
+        var i, p;
+        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
+        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
+    }
+    function __asyncValues(o) {
+        if (!Symbol.asyncIterator)
+            throw new TypeError("Symbol.asyncIterator is not defined.");
+        var m = o[Symbol.asyncIterator], i;
+        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
+        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
+        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
+    }
+    function __makeTemplateObject(cooked, raw) {
+        if (Object.defineProperty) {
+            Object.defineProperty(cooked, "raw", { value: raw });
+        }
+        else {
+            cooked.raw = raw;
+        }
+        return cooked;
+    }
+    ;
+    var __setModuleDefault = Object.create ? (function (o, v) {
+        Object.defineProperty(o, "default", { enumerable: true, value: v });
+    }) : function (o, v) {
+        o["default"] = v;
+    };
+    function __importStar(mod) {
+        if (mod && mod.__esModule)
+            return mod;
+        var result = {};
+        if (mod != null)
+            for (var k in mod)
+                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
+                    __createBinding(result, mod, k);
+        __setModuleDefault(result, mod);
+        return result;
+    }
+    function __importDefault(mod) {
+        return (mod && mod.__esModule) ? mod : { default: mod };
+    }
+    function __classPrivateFieldGet(receiver, state, kind, f) {
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a getter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot read private member from an object whose class did not declare it");
+        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
+    }
+    function __classPrivateFieldSet(receiver, state, value, kind, f) {
+        if (kind === "m")
+            throw new TypeError("Private method is not writable");
+        if (kind === "a" && !f)
+            throw new TypeError("Private accessor was defined without a setter");
+        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
+            throw new TypeError("Cannot write private member to an object whose class did not declare it");
+        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
+    }
+
+    function isBuiltInSelector(value) {
+        return value && value.ngrxEntityRelationship;
+    }
+    function isSelectorMeta(value) {
+        return typeof value === 'object' && value !== null;
+    }
+
+    function normalizeSelector(selector) {
+        var local = selector;
+        if (local === undefined) {
+            throw new Error("selector is undefined. Circular dependencies have been detected. You need to put selectors that use " +
+                "nrx-entity-relationship functions into a separate file: " +
+                "https://github.com/satanTime/ngrx-entity-relationship#circular-dependency");
+        }
+        var collection;
+        if (typeof local === 'function') {
+            collection = local;
+        }
+        else if (local.selectors) {
+            collection = local.selectors.selectCollection;
+        }
+        else {
+            collection = local.collection;
+        }
+        var id;
+        if (typeof local === 'function') {
+            id = function (v) { return (v ? v.id : undefined); };
+        }
+        else if (local.selectId) {
+            id = local.selectId;
+        }
+        else if (typeof local.id === 'string') {
+            id = function (v) { return (v ? v[local.id] : undefined); };
+        }
+        else if (typeof local.id === 'number') {
+            id = function (v) { return (v ? v[local.id] : undefined); };
+        }
+        else {
+            id = local.id;
+        }
+        return {
+            collection: collection,
+            id: id,
+        };
+    }
+    function verifyCache(state, checks) {
+        var e_1, _a;
+        if (!checks.size) {
+            return false;
+        }
+        var checksData = [];
+        checks.forEach(function (v, k) { return checksData.push([k, v]); });
+        var _loop_1 = function (checkSelector, checkEntities) {
+            var e_2, _c;
+            if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {
+                return "continue";
+            }
+            if (checkEntities.has(null) &&
+                checkSelector(state).entities !== checkEntities.get(null) &&
+                checkEntities.size === 1) {
+                return { value: false };
+            }
+            var checkState = checkSelector(state);
+            var checkEntitiesData = [];
+            checkEntities.forEach(function (v, k) { return checkEntitiesData.push([k, v]); });
+            try {
+                for (var checkEntitiesData_1 = (e_2 = void 0, __values(checkEntitiesData)), checkEntitiesData_1_1 = checkEntitiesData_1.next(); !checkEntitiesData_1_1.done; checkEntitiesData_1_1 = checkEntitiesData_1.next()) {
+                    var _d = __read(checkEntitiesData_1_1.value, 2), checkId = _d[0], checkValue = _d[1];
+                    if (checkId === null) {
+                        continue;
+                    }
+                    if (checkState.entities[checkId] !== checkValue) {
+                        return { value: false };
+                    }
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (checkEntitiesData_1_1 && !checkEntitiesData_1_1.done && (_c = checkEntitiesData_1.return)) _c.call(checkEntitiesData_1);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+        };
+        try {
+            for (var checksData_1 = __values(checksData), checksData_1_1 = checksData_1.next(); !checksData_1_1.done; checksData_1_1 = checksData_1.next()) {
+                var _b = __read(checksData_1_1.value, 2), checkSelector = _b[0], checkEntities = _b[1];
+                var state_1 = _loop_1(checkSelector, checkEntities);
+                if (typeof state_1 === "object")
+                    return state_1.value;
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (checksData_1_1 && !checksData_1_1.done && (_a = checksData_1.return)) _a.call(checksData_1);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        return true;
+    }
+    function mergeCache(from, to) {
+        var e_3, _a;
+        if (!from) {
+            return;
+        }
+        var fromData = [];
+        from.forEach(function (v, k) { return fromData.push([k, v]); });
+        var _loop_2 = function (fromSelector, fromEntities) {
+            var e_4, _c;
+            var toMap = to.get(fromSelector) || new Map();
+            var fromEntitiesData = [];
+            fromEntities.forEach(function (v, k) { return fromEntitiesData.push([k, v]); });
+            try {
+                for (var fromEntitiesData_1 = (e_4 = void 0, __values(fromEntitiesData)), fromEntitiesData_1_1 = fromEntitiesData_1.next(); !fromEntitiesData_1_1.done; fromEntitiesData_1_1 = fromEntitiesData_1.next()) {
+                    var _d = __read(fromEntitiesData_1_1.value, 2), fromId = _d[0], fromEntity = _d[1];
+                    if (toMap.has(fromId)) {
+                        continue;
+                    }
+                    toMap.set(fromId, fromEntity);
+                }
+            }
+            catch (e_4_1) { e_4 = { error: e_4_1 }; }
+            finally {
+                try {
+                    if (fromEntitiesData_1_1 && !fromEntitiesData_1_1.done && (_c = fromEntitiesData_1.return)) _c.call(fromEntitiesData_1);
+                }
+                finally { if (e_4) throw e_4.error; }
+            }
+            if (!to.has(fromSelector)) {
+                to.set(fromSelector, toMap);
+            }
+        };
+        try {
+            for (var fromData_1 = __values(fromData), fromData_1_1 = fromData_1.next(); !fromData_1_1.done; fromData_1_1 = fromData_1.next()) {
+                var _b = __read(fromData_1_1.value, 2), fromSelector = _b[0], fromEntities = _b[1];
+                _loop_2(fromSelector, fromEntities);
+            }
+        }
+        catch (e_3_1) { e_3 = { error: e_3_1 }; }
+        finally {
+            try {
+                if (fromData_1_1 && !fromData_1_1.done && (_a = fromData_1.return)) _a.call(fromData_1);
+            }
+            finally { if (e_3) throw e_3.error; }
+        }
+    }
+    function argsToArray(args) {
+        var result = [];
+        // tslint:disable-next-line:prefer-for-of
+        for (var i = 0; i < args.length; i += 1) {
+            result.push(args[i]);
+        }
+        return result;
+    }
+    function isObject(value) {
+        return !!value && typeof value === 'object';
+    }
+    function objectKeys(value) {
+        return Object.keys(value);
+    }
+    function objectValues(value) {
+        var keys = objectKeys(value);
+        return keys.map(function (key) { return value[key]; });
+    }
+    function mapEntries(set) {
+        var result = [];
+        set.forEach(function (value, key) { return result.push([key, value]); });
+        return result;
+    }
+    var mapValues = function (set) {
+        var result = [];
+        set.forEach(function (value) { return result.push(value); });
+        return result;
+    };
+
+    function childEntity(featureSelector, keyId, keyValue) {
+        var relationships = argsToArray(arguments);
+        relationships = relationships.slice(3);
+        var meta = {};
+        if (isSelectorMeta(relationships[0])) {
+            meta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        var _c = normalizeSelector(featureSelector), collectionSelector = _c.collection, idSelector = _c.id;
+        var callback = function (cacheLevel, state, cache, source, idParentSelector) {
+            var e_1, _c, e_2, _d;
+            var _a, _b;
+            var featureState = collectionSelector(state);
+            var parentId = idParentSelector(source);
+            var cacheDataLevel = cache.get(cacheLevel);
+            if (!cacheDataLevel) {
+                cacheDataLevel = new Map();
+                cache.set(cacheLevel, cacheDataLevel);
+            }
+            // maybe we don't need to scan the entities.
+            var _e = __read(cacheDataLevel.get("!" + parentId) || [
+                new Map(),
+                undefined,
+            ], 2), idChecks = _e[0], id = _e[1];
+            if (!verifyCache(state, idChecks)) {
+                id = undefined;
+                try {
+                    for (var _f = __values(objectValues(featureState.entities)), _g = _f.next(); !_g.done; _g = _f.next()) {
+                        var entity = _g.value;
+                        if (!entity ||
+                            entity[keyId] !== parentId // todo fix any A8
+                        ) {
+                            continue;
+                        }
+                        id = idSelector(entity);
+                        break;
+                    }
+                }
+                catch (e_1_1) { e_1 = { error: e_1_1 }; }
+                finally {
+                    try {
+                        if (_g && !_g.done && (_c = _f.return)) _c.call(_f);
+                    }
+                    finally { if (e_1) throw e_1.error; }
+                }
+                idChecks = new Map();
+                var idChecksEntities = new Map();
+                idChecks.set(collectionSelector, idChecksEntities);
+                idChecksEntities.set(null, featureState.entities);
+                cacheDataLevel.set("!" + parentId, [idChecks, id]);
+            }
+            if (!id) {
+                return "!" + parentId;
+            }
+            var cacheHash = "#" + id;
+            var _h = __read(cacheDataLevel.get(cacheHash) || [
+                new Map(),
+                undefined,
+            ], 2), checks = _h[0], value = _h[1];
+            if (verifyCache(state, checks)) {
+                source[keyValue] = value;
+                return cacheHash;
+            }
+            // building a new value.
+            value = undefined;
+            checks = new Map();
+            var checksEntities = new Map();
+            checks.set(collectionSelector, checksEntities);
+            checksEntities.set(null, featureState.entities);
+            checksEntities.set(id, featureState.entities[id]);
+            // we have to clone it because we are going to update it with relationships.
+            value = Object.assign({}, featureState.entities[id]);
+            var cacheRelLevelIndex = 0;
+            try {
+                for (var relationships_1 = __values(relationships), relationships_1_1 = relationships_1.next(); !relationships_1_1.done; relationships_1_1 = relationships_1.next()) {
+                    var relationship = relationships_1_1.value;
+                    var cacheRelLevel = cacheLevel + ":" + cacheRelLevelIndex;
+                    var cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);
+                    cacheRelLevelIndex += 1;
+                    if (cacheRelHash) {
+                        mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                    }
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (relationships_1_1 && !relationships_1_1.done && (_d = relationships_1.return)) _d.call(relationships_1);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+            cacheDataLevel.set(cacheHash, [checks, value]);
+            source[keyValue] = value;
+            return cacheHash;
+        };
+        callback.ngrxEntityRelationship = 'childEntity';
+        callback.collectionSelector = collectionSelector;
+        callback.meta = meta;
+        callback.idSelector = idSelector;
+        callback.relationships = relationships;
+        callback.keyId = keyId;
+        callback.keyValue = keyValue;
+        callback.release = function () {
+            var e_3, _c;
+            try {
+                for (var relationships_2 = __values(relationships), relationships_2_1 = relationships_2.next(); !relationships_2_1.done; relationships_2_1 = relationships_2.next()) {
+                    var relationship = relationships_2_1.value;
+                    relationship.release();
+                }
+            }
+            catch (e_3_1) { e_3 = { error: e_3_1 }; }
+            finally {
+                try {
+                    if (relationships_2_1 && !relationships_2_1.done && (_c = relationships_2.return)) _c.call(relationships_2);
+                }
+                finally { if (e_3) throw e_3.error; }
+            }
+        };
+        return callback;
+    }
+
+    function childrenEntities(featureSelector, keyId, keyValue) {
+        var relationships = argsToArray(arguments);
+        relationships = relationships.slice(3);
+        var meta = {};
+        if (isSelectorMeta(relationships[0])) {
+            meta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        var _e = normalizeSelector(featureSelector), collectionSelector = _e.collection, idSelector = _e.id;
+        var emptyResult = new Map();
+        var callback = function (cacheLevel, state, cache, source, idParentSelector) {
+            var e_1, _e, e_2, _f, e_3, _g, e_4, _h;
+            var _a, _b, _c, _d;
+            var featureState = collectionSelector(state);
+            var parentId = idParentSelector(source);
+            var cacheDataLevel = cache.get(cacheLevel);
+            if (!cacheDataLevel) {
+                cacheDataLevel = new Map();
+                cache.set(cacheLevel, cacheDataLevel);
+            }
+            // maybe we don't need to scan the entities.
+            var _j = __read(cacheDataLevel.get("!" + parentId) || [
+                new Map(),
+                [],
+            ], 2), idsChecks = _j[0], ids = _j[1];
+            if (!verifyCache(state, idsChecks)) {
+                ids = [];
+                try {
+                    for (var _k = __values(objectValues(featureState.entities)), _l = _k.next(); !_l.done; _l = _k.next()) {
+                        var entity = _l.value;
+                        if (!entity ||
+                            entity[keyId] !== parentId // todo fix any A8
+                        ) {
+                            continue;
+                        }
+                        var id = idSelector(entity);
+                        // istanbul ignore else
+                        if (id) {
+                            ids.push(id);
+                        }
+                    }
+                }
+                catch (e_1_1) { e_1 = { error: e_1_1 }; }
+                finally {
+                    try {
+                        if (_l && !_l.done && (_e = _k.return)) _e.call(_k);
+                    }
+                    finally { if (e_1) throw e_1.error; }
+                }
+                idsChecks = new Map();
+                var idsChecksEntities = new Map();
+                idsChecks.set(collectionSelector, idsChecksEntities);
+                idsChecksEntities.set(null, featureState.entities);
+                cacheDataLevel.set("!" + parentId, [idsChecks, ids]);
+            }
+            if (!ids.length) {
+                source[keyValue] = emptyResult.get(parentId);
+                // istanbul ignore else
+                if (!source[keyValue]) {
+                    source[keyValue] = [];
+                    emptyResult.set(parentId, source[keyValue]);
+                }
+                return "!" + parentId;
+            }
+            var cacheHash = "#" + ids.join(',');
+            var _m = __read(cacheDataLevel.get(cacheHash) || [
+                new Map(),
+                undefined,
+            ], 2), checks = _m[0], value = _m[1];
+            if (verifyCache(state, checks)) {
+                source[keyValue] = value;
+                return cacheHash;
+            }
+            // building a new value.
+            value = [];
+            checks = new Map();
+            var checksEntities = new Map();
+            checks.set(collectionSelector, checksEntities);
+            checksEntities.set(null, featureState.entities);
+            try {
+                for (var ids_1 = __values(ids), ids_1_1 = ids_1.next(); !ids_1_1.done; ids_1_1 = ids_1.next()) {
+                    var id = ids_1_1.value;
+                    checksEntities.set(id, featureState.entities[id]);
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (ids_1_1 && !ids_1_1.done && (_f = ids_1.return)) _f.call(ids_1);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+            try {
+                for (var ids_2 = __values(ids), ids_2_1 = ids_2.next(); !ids_2_1.done; ids_2_1 = ids_2.next()) {
+                    var id = ids_2_1.value;
+                    var _o = __read(cacheDataLevel.get(cacheHash + ":" + id) || [new Map(), undefined], 2), entityChecks = _o[0], entityValue = _o[1];
+                    if (verifyCache(state, entityChecks)) {
+                        // istanbul ignore else
+                        if (entityValue) {
+                            value.push(entityValue);
+                        }
+                        continue;
+                    }
+                    // we have to clone it because we are going to update it with relationships.
+                    entityValue = Object.assign({}, featureState.entities[id]);
+                    entityChecks = new Map();
+                    var entityChecksEntities = new Map();
+                    entityChecks.set(collectionSelector, entityChecksEntities);
+                    entityChecksEntities.set(null, featureState.entities);
+                    entityChecksEntities.set(id, featureState.entities[id]);
+                    var cacheRelLevelIndex = 0;
+                    try {
+                        for (var relationships_1 = (e_4 = void 0, __values(relationships)), relationships_1_1 = relationships_1.next(); !relationships_1_1.done; relationships_1_1 = relationships_1.next()) {
+                            var relationship = relationships_1_1.value;
+                            var cacheRelLevel = cacheLevel + ":" + cacheRelLevelIndex;
+                            var cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);
+                            cacheRelLevelIndex += 1;
+                            if (cacheRelHash) {
+                                mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                                mergeCache((_d = (_c = cache.get(cacheRelLevel)) === null || _c === void 0 ? void 0 : _c.get(cacheRelHash)) === null || _d === void 0 ? void 0 : _d[0], entityChecks);
+                            }
+                        }
+                    }
+                    catch (e_4_1) { e_4 = { error: e_4_1 }; }
+                    finally {
+                        try {
+                            if (relationships_1_1 && !relationships_1_1.done && (_h = relationships_1.return)) _h.call(relationships_1);
+                        }
+                        finally { if (e_4) throw e_4.error; }
+                    }
+                    cacheDataLevel.set(cacheHash + ":" + id, [entityChecks, entityValue]);
+                    value.push(entityValue);
+                }
+            }
+            catch (e_3_1) { e_3 = { error: e_3_1 }; }
+            finally {
+                try {
+                    if (ids_2_1 && !ids_2_1.done && (_g = ids_2.return)) _g.call(ids_2);
+                }
+                finally { if (e_3) throw e_3.error; }
+            }
+            cacheDataLevel.set(cacheHash, [checks, value]);
+            source[keyValue] = value;
+            return cacheHash;
+        };
+        callback.ngrxEntityRelationship = 'childrenEntities';
+        callback.collectionSelector = collectionSelector;
+        callback.meta = meta;
+        callback.idSelector = idSelector;
+        callback.relationships = relationships;
+        callback.keyId = keyId;
+        callback.keyValue = keyValue;
+        callback.release = function () {
+            var e_5, _e;
+            emptyResult.clear();
+            try {
+                for (var relationships_2 = __values(relationships), relationships_2_1 = relationships_2.next(); !relationships_2_1.done; relationships_2_1 = relationships_2.next()) {
+                    var relationship = relationships_2_1.value;
+                    relationship.release();
+                }
+            }
+            catch (e_5_1) { e_5 = { error: e_5_1 }; }
+            finally {
+                try {
+                    if (relationships_2_1 && !relationships_2_1.done && (_e = relationships_2.return)) _e.call(relationships_2);
+                }
+                finally { if (e_5) throw e_5.error; }
+            }
+        };
+        return callback;
+    }
+
+    function relatedEntity(featureSelector, keyId, keyValue) {
+        var relationships = argsToArray(arguments);
+        relationships = relationships.slice(3);
+        var meta = {};
+        if (isSelectorMeta(relationships[0])) {
+            meta = relationships[0];
+            relationships = relationships.slice(1);
+        }
+        var _e = normalizeSelector(featureSelector), collectionSelector = _e.collection, idSelector = _e.id;
+        var emptyResult = new Map();
+        var callback = function (cacheLevel, state, cache, source) {
+            var e_1, _e, e_2, _f, e_3, _g, e_4, _h;
+            var _a, _b, _c, _d;
+            // a bit magic to relax generic types.
+            var sourceKeyIdValue = source[keyId];
+            if (!sourceKeyIdValue) {
+                return;
+            }
+            var featureState = collectionSelector(state);
+            var cacheDataLevel = cache.get(cacheLevel);
+            if (!cacheDataLevel) {
+                cacheDataLevel = new Map();
+                cache.set(cacheLevel, cacheDataLevel);
+            }
+            var ids = [];
+            var values = sourceKeyIdValue; // Thanks a8.
+            if (Array.isArray(values)) {
+                try {
+                    for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {
+                        var id = values_1_1.value;
+                        if (id) {
+                            ids.push(id);
+                        }
+                    }
+                }
+                catch (e_1_1) { e_1 = { error: e_1_1 }; }
+                finally {
+                    try {
+                        if (values_1_1 && !values_1_1.done && (_e = values_1.return)) _e.call(values_1);
+                    }
+                    finally { if (e_1) throw e_1.error; }
+                }
+                if (!ids.length) {
+                    source[keyValue] = emptyResult.get(values);
+                    if (!source[keyValue]) {
+                        source[keyValue] = [];
+                        emptyResult.set(values, source[keyValue]);
+                    }
+                    return;
+                }
+            }
+            else {
+                ids.push(values);
+            }
+            var cacheHash = "#" + ids.join(',');
+            var _j = __read(cacheDataLevel.get(cacheHash) || [
+                new Map(),
+                undefined,
+            ], 2), checks = _j[0], value = _j[1];
+            if (verifyCache(state, checks)) {
+                source[keyValue] = value;
+                return cacheHash;
+            }
+            // building a new value.
+            value = undefined;
+            checks = new Map();
+            var checkIds = new Map();
+            checks.set(collectionSelector, checkIds);
+            checkIds.set(null, featureState.entities);
+            try {
+                for (var ids_1 = __values(ids), ids_1_1 = ids_1.next(); !ids_1_1.done; ids_1_1 = ids_1.next()) {
+                    var id = ids_1_1.value;
+                    checkIds.set(id, featureState.entities[id]);
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (ids_1_1 && !ids_1_1.done && (_f = ids_1.return)) _f.call(ids_1);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+            var valueEntities = [];
+            try {
+                for (var ids_2 = __values(ids), ids_2_1 = ids_2.next(); !ids_2_1.done; ids_2_1 = ids_2.next()) {
+                    var id = ids_2_1.value;
+                    if (!featureState.entities[id]) {
+                        continue;
+                    }
+                    var _k = __read(cacheDataLevel.get(cacheHash + ":" + id) || [new Map(), undefined], 2), entityChecks = _k[0], entityValue = _k[1];
+                    if (verifyCache(state, entityChecks)) {
+                        // istanbul ignore else
+                        if (entityValue) {
+                            valueEntities.push(entityValue);
+                        }
+                        continue;
+                    }
+                    // we have to clone it because we are going to update it with relationships.
+                    entityValue = Object.assign({}, featureState.entities[id]);
+                    entityChecks = new Map();
+                    var entityCheckIds = new Map();
+                    entityChecks.set(collectionSelector, entityCheckIds);
+                    entityCheckIds.set(null, featureState.entities);
+                    entityCheckIds.set(id, featureState.entities[id]);
+                    var cacheRelLevelIndex = 0;
+                    try {
+                        for (var relationships_1 = (e_4 = void 0, __values(relationships)), relationships_1_1 = relationships_1.next(); !relationships_1_1.done; relationships_1_1 = relationships_1.next()) {
+                            var relationship = relationships_1_1.value;
+                            var cacheRelLevel = cacheLevel + ":" + cacheRelLevelIndex;
+                            var cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);
+                            cacheRelLevelIndex += 1;
+                            if (cacheRelHash) {
+                                mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                                mergeCache((_d = (_c = cache.get(cacheRelLevel)) === null || _c === void 0 ? void 0 : _c.get(cacheRelHash)) === null || _d === void 0 ? void 0 : _d[0], entityChecks);
+                            }
+                        }
+                    }
+                    catch (e_4_1) { e_4 = { error: e_4_1 }; }
+                    finally {
+                        try {
+                            if (relationships_1_1 && !relationships_1_1.done && (_h = relationships_1.return)) _h.call(relationships_1);
+                        }
+                        finally { if (e_4) throw e_4.error; }
+                    }
+                    cacheDataLevel.set(cacheHash + ":" + id, [entityChecks, entityValue]);
+                    valueEntities.push(entityValue);
+                }
+            }
+            catch (e_3_1) { e_3 = { error: e_3_1 }; }
+            finally {
+                try {
+                    if (ids_2_1 && !ids_2_1.done && (_g = ids_2.return)) _g.call(ids_2);
+                }
+                finally { if (e_3) throw e_3.error; }
+            }
+            value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];
+            cacheDataLevel.set(cacheHash, [checks, value]);
+            source[keyValue] = value;
+            return cacheHash;
+        };
+        callback.ngrxEntityRelationship = 'relatedEntity';
+        callback.collectionSelector = collectionSelector;
+        callback.meta = meta;
+        callback.idSelector = idSelector;
+        callback.relationships = relationships;
+        callback.keyId = keyId;
+        callback.keyValue = keyValue;
+        callback.release = function () {
+            var e_5, _e;
+            emptyResult.clear();
+            try {
+                for (var relationships_2 = __values(relationships), relationships_2_1 = relationships_2.next(); !relationships_2_1.done; relationships_2_1 = relationships_2.next()) {
+                    var relationship = relationships_2_1.value;
+                    relationship.release();
+                }
+            }
+            catch (e_5_1) { e_5 = { error: e_5_1 }; }
+            finally {
+                try {
+                    if (relationships_2_1 && !relationships_2_1.done && (_e = relationships_2.return)) _e.call(relationships_2);
+                }
+                finally { if (e_5) throw e_5.error; }
+            }
+        };
+        return callback;
+    }
+
+    function rootEntities(rootSelector) {
+        var cacheMap = new Map();
+        var emptyResult = [];
+        var callback = function (state, idsOrSelector) {
+            var e_1, _a, e_2, _b;
+            var ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;
+            if (!ids) {
+                return emptyResult;
+            }
+            var cacheKey = ids.join(',');
+            var cacheValue = cacheMap.get(cacheKey) || emptyResult;
+            if (rootEntityFlags.disabled) {
+                return cacheValue;
+            }
+            var value = [];
+            try {
+                for (var ids_1 = __values(ids), ids_1_1 = ids_1.next(); !ids_1_1.done; ids_1_1 = ids_1.next()) {
+                    var id = ids_1_1.value;
+                    var entity = rootSelector(state, id);
+                    if (!entity) {
+                        continue;
+                    }
+                    value.push(entity);
+                }
+            }
+            catch (e_1_1) { e_1 = { error: e_1_1 }; }
+            finally {
+                try {
+                    if (ids_1_1 && !ids_1_1.done && (_a = ids_1.return)) _a.call(ids_1);
+                }
+                finally { if (e_1) throw e_1.error; }
+            }
+            var index = 0;
+            var equal = value.length === cacheValue.length;
+            try {
+                for (var value_1 = __values(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {
+                    var entity = value_1_1.value;
+                    if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {
+                        equal = false;
+                        break;
+                    }
+                    index += 1;
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (value_1_1 && !value_1_1.done && (_b = value_1.return)) _b.call(value_1);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+            if (equal) {
+                return cacheValue;
+            }
+            cacheMap.set(cacheKey, value);
+            return value;
+        };
+        callback.ngrxEntityRelationship = 'rootEntities';
+        callback.meta = rootSelector.meta;
+        callback.collectionSelector = rootSelector.collectionSelector;
+        callback.idSelector = rootSelector.idSelector;
+        callback.relationships = rootSelector.relationships;
+        callback.release = function () {
+            cacheMap.clear();
+            rootSelector.release();
+        };
+        return callback;
+    }
+
+    function rootEntity(featureSelector, guess1, guess2) {
+        var relationships = argsToArray(arguments);
+        relationships = relationships.slice(1);
+        var transformer;
+        var meta = {};
+        if (!isBuiltInSelector(guess1) && !isSelectorMeta(guess1)) {
+            transformer = guess1;
+            relationships = relationships.slice(1);
+        }
+        if (!isBuiltInSelector(guess1) && isSelectorMeta(guess1)) {
+            meta = guess1;
+            relationships = relationships.slice(1);
+        }
+        if (!isBuiltInSelector(guess2) && isSelectorMeta(guess2)) {
+            meta = guess2;
+            relationships = relationships.slice(1);
+        }
+        var _c = normalizeSelector(featureSelector), collectionSelector = _c.collection, idSelector = _c.id;
+        var cacheLevel = '0';
+        var cache = new Map();
+        var callback = function (state, idOrSelector) {
+            var e_1, _c;
+            var _a, _b;
+            var id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;
+            if (!id) {
+                return;
+            }
+            var featureState = collectionSelector(state);
+            var cacheDataLevel = cache.get(cacheLevel);
+            if (!cacheDataLevel) {
+                cacheDataLevel = new Map();
+                cache.set(cacheLevel, cacheDataLevel);
+            }
+            var cacheHash = "#" + id;
+            var _d = __read(cacheDataLevel.get(cacheHash) || [
+                new Map(),
+                undefined,
+            ], 2), checks = _d[0], value = _d[1];
+            if (rootEntityFlags.disabled) {
+                return value;
+            }
+            if (verifyCache(state, checks)) {
+                return value;
+            }
+            // building a new value.
+            value = undefined;
+            checks = new Map();
+            var checkIds = new Map();
+            checks.set(collectionSelector, checkIds);
+            checkIds.set(null, featureState.entities);
+            checkIds.set(id, featureState.entities[id]);
+            // the entity does not exist.
+            if (!featureState.entities[id]) {
+                cacheDataLevel.set(cacheHash, [checks, value]);
+                return value;
+            }
+            // we have to clone it because we are going to update it with relationships.
+            value = Object.assign({}, featureState.entities[id]);
+            var cacheRelLevelIndex = 0;
+            try {
+                for (var relationships_1 = __values(relationships), relationships_1_1 = relationships_1.next(); !relationships_1_1.done; relationships_1_1 = relationships_1.next()) {
+                    var relationship = relationships_1_1.value;
+                    var cacheRelLevel = cacheLevel + ":" + cacheRelLevelIndex;
+                    var cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);
+                    cacheRelLevelIndex += 1;
+                    if (cacheRelHash) {
+                        mergeCache((_b = (_a = cache.get(cacheRelLevel)) === null || _a === void 0 ? void 0 : _a.get(cacheRelHash)) === null || _b === void 0 ? void 0 : _b[0], checks);
+                    }
+                }
+            }
+            catch (e_1_1) { e_1 = { error: e_1_1 }; }
+            finally {
+                try {
+                    if (relationships_1_1 && !relationships_1_1.done && (_c = relationships_1.return)) _c.call(relationships_1);
+                }
+                finally { if (e_1) throw e_1.error; }
+            }
+            value = transformer ? transformer(value) : value;
+            cacheDataLevel.set(cacheHash, [checks, value]);
+            return value;
+        };
+        callback.ngrxEntityRelationship = 'rootEntity';
+        callback.collectionSelector = collectionSelector;
+        callback.meta = meta;
+        callback.idSelector = idSelector;
+        callback.relationships = relationships;
+        callback.release = function () {
+            var e_2, _c;
+            cache.clear();
+            try {
+                for (var relationships_2 = __values(relationships), relationships_2_1 = relationships_2.next(); !relationships_2_1.done; relationships_2_1 = relationships_2.next()) {
+                    var relationship = relationships_2_1.value;
+                    relationship.release();
+                }
+            }
+            catch (e_2_1) { e_2 = { error: e_2_1 }; }
+            finally {
+                try {
+                    if (relationships_2_1 && !relationships_2_1.done && (_c = relationships_2.return)) _c.call(relationships_2);
+                }
+                finally { if (e_2) throw e_2.error; }
+            }
+        };
+        return callback;
+    }
+
+    function childEntitySelector(featureSelector, keyId, keyValue, meta) {
+        function callback() {
+            var relationships = argsToArray(arguments);
+            var currentMeta = isSelectorMeta(meta) ? meta : undefined;
+            if (isSelectorMeta(relationships[0])) {
+                currentMeta = relationships[0];
+                relationships = relationships.slice(1);
+            }
+            return currentMeta
+                ? childEntity.apply(void 0, __spreadArray([featureSelector, keyId, keyValue, currentMeta], __read(relationships))) : childEntity.apply(void 0, __spreadArray([featureSelector, keyId, keyValue], __read(relationships)));
+        }
+        callback.ngrxEntityRelationship = 'childEntitySelector';
+        return callback;
+    }
+
+    function childrenEntitiesSelector(featureSelector, keyId, keyValue, meta) {
+        function callback() {
+            var relationships = argsToArray(arguments);
+            var currentMeta = isSelectorMeta(meta) ? meta : undefined;
+            if (isSelectorMeta(relationships[0])) {
+                currentMeta = relationships[0];
+                relationships = relationships.slice(1);
+            }
+            return currentMeta
+                ? childrenEntities.apply(void 0, __spreadArray([featureSelector, keyId, keyValue, currentMeta], __read(relationships))) : childrenEntities.apply(void 0, __spreadArray([featureSelector, keyId, keyValue], __read(relationships)));
+        }
+        callback.ngrxEntityRelationship = 'childrenEntitiesSelector';
+        return callback;
+    }
+
+    function relatedEntitySelector(featureSelector, keyId, keyValue, meta) {
+        function callback() {
+            var relationships = argsToArray(arguments);
+            var currentMeta = meta;
+            if (isSelectorMeta(relationships[0])) {
+                currentMeta = relationships[0];
+                relationships = relationships.slice(1);
+            }
+            return currentMeta
+                ? relatedEntity.apply(void 0, __spreadArray([featureSelector, keyId, keyValue, currentMeta], __read(relationships))) : relatedEntity.apply(void 0, __spreadArray([featureSelector, keyId, keyValue], __read(relationships)));
+        }
+        callback.ngrxEntityRelationship = 'relatedEntitySelector';
+        return callback;
+    }
+
+    function rootEntitySelector(featureSelector, guess1, guess2) {
+        function callback(metaOverride) {
+            var relationships = argsToArray(arguments);
+            var transformer = isSelectorMeta(guess1) ? undefined : guess1;
+            var currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;
+            if (isSelectorMeta(metaOverride)) {
+                currentMeta = metaOverride;
+                relationships = relationships.slice(1);
+            }
+            return transformer && currentMeta
+                ? rootEntity.apply(void 0, __spreadArray([featureSelector, transformer, currentMeta], __read(relationships))) : transformer
+                ? rootEntity.apply(void 0, __spreadArray([featureSelector, transformer], __read(relationships))) : currentMeta
+                ? rootEntity.apply(void 0, __spreadArray([featureSelector, currentMeta], __read(relationships))) : rootEntity.apply(void 0, __spreadArray([featureSelector], __read(relationships)));
+        }
+        callback.ngrxEntityRelationship = 'rootEntitySelector';
+        return callback;
+    }
+
+    exports.ngrxEntityRelationshipActions = void 0;
+    (function (ngrxEntityRelationshipActions) {
+        ngrxEntityRelationshipActions["reduceFlat"] = "[NGRX-Entity-Relationship] Flat";
+        ngrxEntityRelationshipActions["reduceGraph"] = "[NGRX-Entity-Relationship] Graph";
+    })(exports.ngrxEntityRelationshipActions || (exports.ngrxEntityRelationshipActions = {}));
+    var ReduceFlat = /** @class */ (function () {
+        function ReduceFlat(data, selector) {
+            this.data = data;
+            this.selector = selector;
+            this.type = exports.ngrxEntityRelationshipActions.reduceFlat;
+        }
+        return ReduceFlat;
+    }());
+    // Because of redux it can't be a ReduceGraph instance.
+    var reduceFlat = function (payload) { return ({
+        data: payload.data,
+        selector: payload.selector,
+        type: exports.ngrxEntityRelationshipActions.reduceFlat,
+    }); };
+    reduceFlat.type = exports.ngrxEntityRelationshipActions.reduceFlat;
+    var ReduceGraph = /** @class */ (function () {
+        function ReduceGraph(data, selector) {
+            this.data = data;
+            this.selector = selector;
+            this.type = exports.ngrxEntityRelationshipActions.reduceGraph;
+        }
+        return ReduceGraph;
+    }());
+    // Because of redux it can't be a ReduceGraph instance.
+    var reduceGraph = function (payload) { return ({
+        data: payload.data,
+        selector: payload.selector,
+        type: exports.ngrxEntityRelationshipActions.reduceGraph,
+    }); };
+    reduceGraph.type = exports.ngrxEntityRelationshipActions.reduceGraph;
+
+    var func$3 = function (state, source, destination) {
+        var e_1, _a, _b, _c;
+        if (source === destination) {
+            return state;
+        }
+        if (!isObject(state)) {
+            return state;
+        }
+        try {
+            for (var _d = __values(objectKeys(state)), _e = _d.next(); !_e.done; _e = _d.next()) {
+                var key = _e.value;
+                if (!isObject(state[key])) {
+                    continue;
+                }
+                if (state[key] === source) {
+                    return Object.assign(Object.assign({}, state), (_b = {}, _b[key] = destination, _b));
+                }
+                var patchedState = func$3(state[key], source, destination);
+                if (patchedState !== state[key]) {
+                    return Object.assign(Object.assign({}, state), (_c = {}, _c[key] = patchedState, _c));
+                }
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        return state;
+    };
+    var ɵ0$1 = func$3;
+    var patchState = {
+        func: func$3,
+    };
+
+    var func$2 = function (state, selector, entity, meta) {
+        var e_1, _a, e_2, _b, _c, e_3, _d, _e, _f;
+        if (typeof entity !== 'object') {
+            throw new Error('Entity is not an object');
+        }
+        var id = selector.idSelector(entity);
+        if (!id) {
+            throw new Error('Cannot detect id of an entity');
+        }
+        var originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;
+        var entitiesKey = selector.collectionSelector.entitiesKey || 'entities';
+        var idsKey = selector.collectionSelector.idsKey || 'ids';
+        // Any because keys may be different because of entitiesKey.
+        var originalState = originalSelector(state);
+        var originalEntity = originalState[entitiesKey][id];
+        var featureState = originalState;
+        // creating a clone
+        var clone = {};
+        try {
+            for (var _g = __values(objectKeys(entity)), _h = _g.next(); !_h.done; _h = _g.next()) {
+                var key = _h.value;
+                if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {
+                    continue;
+                }
+                clone[key] = entity[key];
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (_h && !_h.done && (_a = _g.return)) _a.call(_g);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));
+        var existingKeys = objectKeys(clone);
+        try {
+            for (var _j = __values(originalEntity ? objectKeys(originalEntity) : []), _k = _j.next(); !_k.done; _k = _j.next()) {
+                var key = _k.value;
+                if (existingKeys.indexOf(key) !== -1) {
+                    continue;
+                }
+                clone[key] = originalEntity[key];
+            }
+        }
+        catch (e_2_1) { e_2 = { error: e_2_1 }; }
+        finally {
+            try {
+                if (_k && !_k.done && (_b = _j.return)) _b.call(_j);
+            }
+            finally { if (e_2) throw e_2.error; }
+        }
+        if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {
+            featureState = Object.assign(Object.assign({}, featureState), (_c = {}, _c[idsKey] = __spreadArray(__spreadArray([], __read(featureState[idsKey])), [id]), _c));
+        }
+        var isEntityChanged = !originalEntity;
+        try {
+            for (var _l = __values(objectKeys(clone)), _m = _l.next(); !_m.done; _m = _l.next()) {
+                var key = _m.value;
+                if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {
+                    isEntityChanged = true;
+                    break;
+                }
+            }
+        }
+        catch (e_3_1) { e_3 = { error: e_3_1 }; }
+        finally {
+            try {
+                if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
+            }
+            finally { if (e_3) throw e_3.error; }
+        }
+        if (isEntityChanged) {
+            featureState = Object.assign(Object.assign({}, featureState), (_e = {}, _e[entitiesKey] = Object.assign(Object.assign({}, featureState[entitiesKey]), (_f = {}, _f[id] = clone, _f)), _e));
+        }
+        return patchState.func(state, originalState, featureState);
+    };
+    var injectEntity = {
+        func: func$2,
+    };
+
+    var extractMap = function (selector, map) {
+        var e_1, _a;
+        if (!selector.meta || !selector.meta.flatKey) {
+            throw new Error('Flat key is not provided in meta');
+        }
+        var _b = map.get(selector.meta.flatKey) || {}, _c = _b.selectors, selectors = _c === void 0 ? new Set() : _c, _d = _b.skipFields, skipFields = _d === void 0 ? new Set() : _d;
+        if (!map.has(selector.meta.flatKey)) {
+            map.set(selector.meta.flatKey, {
+                selectors: selectors,
+                skipFields: skipFields,
+            });
+        }
+        selectors.add(selector);
+        try {
+            for (var _e = __values(selector.relationships), _f = _e.next(); !_f.done; _f = _e.next()) {
+                var relationship = _f.value;
+                skipFields.add(relationship.keyValue);
+                extractMap(relationship, map);
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        return map;
+    };
+    var ɵ0 = extractMap;
+    var func$1 = function (state, selector, data) {
+        var e_2, _a, e_3, _b, e_4, _c;
+        var map = extractMap(selector, new Map());
+        try {
+            for (var _d = __values(mapEntries(map)), _e = _d.next(); !_e.done; _e = _d.next()) {
+                var _f = __read(_e.value, 2), key = _f[0], _g = _f[1], selectors = _g.selectors, skipFields = _g.skipFields;
+                var isSet = Array.isArray(data[key]);
+                var entities = isSet ? data[key] : [data[key]];
+                try {
+                    for (var entities_1 = (e_3 = void 0, __values(entities)), entities_1_1 = entities_1.next(); !entities_1_1.done; entities_1_1 = entities_1.next()) {
+                        var entity = entities_1_1.value;
+                        if (!entity) {
+                            continue;
+                        }
+                        try {
+                            for (var _h = (e_4 = void 0, __values(mapValues(selectors))), _j = _h.next(); !_j.done; _j = _h.next()) {
+                                var entitySelector = _j.value;
+                                state = injectEntity.func(state, entitySelector, entity, { skipFields: __spreadArray([], __read(mapValues(skipFields))) });
+                            }
+                        }
+                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
+                        finally {
+                            try {
+                                if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
+                            }
+                            finally { if (e_4) throw e_4.error; }
+                        }
+                    }
+                }
+                catch (e_3_1) { e_3 = { error: e_3_1 }; }
+                finally {
+                    try {
+                        if (entities_1_1 && !entities_1_1.done && (_b = entities_1.return)) _b.call(entities_1);
+                    }
+                    finally { if (e_3) throw e_3.error; }
+                }
+            }
+        }
+        catch (e_2_1) { e_2 = { error: e_2_1 }; }
+        finally {
+            try {
+                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
+            }
+            finally { if (e_2) throw e_2.error; }
+        }
+        return state;
+    };
+    var ɵ1 = func$1;
+    var fromFlat = {
+        func: func$1,
+    };
+
+    var func = function (state, selector, data) {
+        var e_1, _a, e_2, _b, e_3, _c;
+        var isSet = Array.isArray(data);
+        var entities = isSet ? data : [data];
+        // detecting keys we should skip
+        var skipFields = [];
+        try {
+            for (var _d = __values(selector.relationships), _e = _d.next(); !_e.done; _e = _d.next()) {
+                var relationship = _e.value;
+                skipFields.push(relationship.keyValue);
+            }
+        }
+        catch (e_1_1) { e_1 = { error: e_1_1 }; }
+        finally {
+            try {
+                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
+            }
+            finally { if (e_1) throw e_1.error; }
+        }
+        try {
+            for (var entities_1 = __values(entities), entities_1_1 = entities_1.next(); !entities_1_1.done; entities_1_1 = entities_1.next()) {
+                var entity = entities_1_1.value;
+                if (!entity) {
+                    continue;
+                }
+                state = injectEntity.func(state, selector, entity, { skipFields: skipFields });
+                try {
+                    for (var _f = (e_3 = void 0, __values(selector.relationships)), _g = _f.next(); !_g.done; _g = _f.next()) {
+                        var relationship = _g.value;
+                        state = func(state, relationship, entity[relationship.keyValue]);
+                    }
+                }
+                catch (e_3_1) { e_3 = { error: e_3_1 }; }
+                finally {
+                    try {
+                        if (_g && !_g.done && (_c = _f.return)) _c.call(_f);
+                    }
+                    finally { if (e_3) throw e_3.error; }
+                }
+            }
+        }
+        catch (e_2_1) { e_2 = { error: e_2_1 }; }
+        finally {
+            try {
+                if (entities_1_1 && !entities_1_1.done && (_b = entities_1.return)) _b.call(entities_1);
+            }
+            finally { if (e_2) throw e_2.error; }
+        }
+        return state;
+    };
+    var fromGraph = {
+        func: func,
+    };
+
+    function ngrxEntityRelationshipReducer(reducer) {
+        return function (state, action) {
+            if (action.type === exports.ngrxEntityRelationshipActions.reduceGraph) {
+                return reducer(fromGraph.func(state, action.selector, action.data), action);
+            }
+            if (action.type === exports.ngrxEntityRelationshipActions.reduceFlat) {
+                return reducer(fromFlat.func(state, action.selector, action.data), action);
+            }
+            return reducer(state, action);
+        };
+    }
+
+    function selectByIds(selector, ids) {
+        return function (state) { return selector(state, ids); };
+    }
+
+    function stateKeys(selector, entitiesKey, idsKey) {
+        var callback = function (s) {
+            var slice = selector(s);
+            return {
+                ids: idsKey ? slice[idsKey] : slice.ids,
+                entities: slice[entitiesKey],
+            };
+        };
+        callback.idsKey = idsKey;
+        callback.entitiesKey = entitiesKey;
+        callback.originalSelector = selector;
+        return callback;
+    }
+
+    function toFactorySelector(selector) {
+        var release = function () {
+            if (typeof selector.release === 'function') {
+                selector.release();
+            }
+        };
+        var callback = function (ids) {
+            var storeSelector = function (state) { return selector(state, ids); };
+            storeSelector.release = release;
+            return storeSelector;
+        };
+        callback.release = release;
+        return callback;
+    }
+
+    function toStaticSelector(selector, ids) {
+        return toFactorySelector(selector)(ids);
+    }
+
+    /**
+     * Generated bundle index. Do not edit.
+     */
+
+    exports.ReduceFlat = ReduceFlat;
+    exports.ReduceGraph = ReduceGraph;
+    exports.childEntity = childEntity;
+    exports.childEntitySelector = childEntitySelector;
+    exports.childrenEntities = childrenEntities;
+    exports.childrenEntitiesSelector = childrenEntitiesSelector;
+    exports.isBuiltInSelector = isBuiltInSelector;
+    exports.isSelectorMeta = isSelectorMeta;
+    exports.ngrxEntityRelationshipReducer = ngrxEntityRelationshipReducer;
+    exports.reduceFlat = reduceFlat;
+    exports.reduceGraph = reduceGraph;
+    exports.relatedEntity = relatedEntity;
+    exports.relatedEntitySelector = relatedEntitySelector;
+    exports.rootEntities = rootEntities;
+    exports.rootEntity = rootEntity;
+    exports.rootEntityFlags = rootEntityFlags;
+    exports.rootEntitySelector = rootEntitySelector;
+    exports.selectByIds = selectByIds;
+    exports.stateKeys = stateKeys;
+    exports.toFactorySelector = toFactorySelector;
+    exports.toStaticSelector = toStaticSelector;
+
+    Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
+//# sourceMappingURL=ngrx-entity-relationship.umd.js.map
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map
index b96e205..cea1dbf 100644
--- a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map
@@ -1 +1 @@
-{"version":3,"file":"ngrx-entity-relationship.umd.js","sources":["../../../../libs/ngrx-entity-relationship/src/lib/rootEntityFlags.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/src/lib/types.ts","../../../../libs/ngrx-entity-relationship/src/lib/utils.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntitiesSelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/actions.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/patchState.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/injectEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromFlat.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromGraph.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/ngrxEntityRelationshipReducer.ts","../../../../libs/ngrx-entity-relationship/src/lib/selectByIds.ts","../../../../libs/ngrx-entity-relationship/src/lib/stateKeys.ts","../../../../libs/ngrx-entity-relationship/src/lib/toFactorySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/toStaticSelector.ts","../../../../libs/ngrx-entity-relationship/src/ngrx-entity-relationship.ts"],"sourcesContent":["declare const window: any;\ndeclare const global: any;\n\n// istanbul ignore else\nif (window) {\n    window.global = window;\n}\n\n// istanbul ignore else\nif (!global['ngrx-entity-relationship-rootEntityFlags']) {\n    global['ngrx-entity-relationship-rootEntityFlags'] = {\n        disabled: false,\n    };\n}\n\nexport const rootEntityFlags: {disabled: boolean} = global['ngrx-entity-relationship-rootEntityFlags'];\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","declare global {\n    // tslint:disable-next-line:class-name\n    export interface SELECTOR_META {\n        flatKey?: string;\n        gqlFields?: Array<string | number> | Record<string, string>;\n    }\n}\n\nexport type UNKNOWN = any;\n\nexport interface STORE_SELECTOR<T, V> {\n    (state: T): V;\n    idsKey?: keyof any;\n    entitiesKey?: keyof any;\n    originalSelector?: (state: T) => V;\n}\n\nexport type ID_SELECTOR<E> = (entity: E) => ID_TYPES;\n\nexport interface ACTION {\n    type: string;\n}\n\nexport type FILTER_PROPS<Base, Condition> = {\n    [Key in keyof Base]: Base[Key] extends Condition ? Key : never;\n}[keyof Base];\n\nexport type ENTITY_STATE_CUSTOM<EK extends keyof any, IK extends keyof any, ENTITY> = {\n    [key in EK]: {\n        [id in ID_TYPES]?: ENTITY | undefined;\n    };\n} & {\n    [key in IK]?: Array<ID_TYPES>;\n};\n\nexport interface ENTITY_STATE<E> {\n    ids?: Array<ID_TYPES>;\n    entities: {\n        [id in ID_TYPES]?: E;\n    };\n}\n\nexport type FEATURE_SELECTOR<S, E> =\n    | STORE_SELECTOR<S, ENTITY_STATE<E>>\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: string | number;\n      }\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: ID_SELECTOR<E>;\n      }\n    | {\n          selectors: {\n              selectCollection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          };\n          selectId?: ID_SELECTOR<E>; // EntityCollectionService doesn't have it but EntityCollectionServiceBase does.\n      };\n\nexport type CACHE_CHECKS = Map<ID_TYPES | null, UNKNOWN>;\nexport type CACHE_CHECKS_SET<S> = Map<STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS>;\nexport type CACHE<S> = Map<string, Map<string | null, [CACHE_CHECKS_SET<S>, UNKNOWN]>>;\n\nexport interface ENTITY_SELECTOR<S = any, E = any> {\n    ngrxEntityRelationship: string;\n    meta: SELECTOR_META;\n    collectionSelector: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    idSelector: ID_SELECTOR<E>;\n    relationships: Array<HANDLER_RELATED_ENTITY<S, E>>;\n}\n\nexport type HANDLER_ENTITY<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITY<S, E, E, I>;\n\nexport type HANDLER_ENTITIES<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITIES<S, E, E, I>;\n\nexport type HANDLER_ROOT_ENTITY<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | I | STORE_SELECTOR<S, undefined | null | I>): undefined | T;\n    release(): void;\n};\n\nexport type HANDLER_ROOT_ENTITIES<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | Array<I> | STORE_SELECTOR<S, undefined | null | Array<I>>): Array<T>;\n    release(): void;\n};\n\nexport type HANDLER_RELATED_ENTITY<S, E> = ENTITY_SELECTOR<S /* TODO has to be a related entity */> & {\n    (\n        cachePrefix: string,\n        state: S,\n        cacheRefs: CACHE<S>,\n        source: E,\n        sourceIdSelector: ID_SELECTOR<any /* TODO has to be a related entity */>,\n    ): string | undefined;\n    keyId: keyof any;\n    keyValue: keyof any;\n    release(): void;\n};\n\nexport type EMPTY_TYPES = undefined | null;\n\nexport type ID_TYPES = string | number;\n\nexport type ID_FILTER_PROPS<RELATED_ENTITY, TYPES> = NonNullable<FILTER_PROPS<RELATED_ENTITY, TYPES | EMPTY_TYPES>>;\n\nexport type VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = NonNullable<\n    FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY | EMPTY_TYPES>\n>;\n\nexport type TRANSFORMER<F, T> = (entity: F) => T;\n\nexport function isBuiltInSelector<S, E>(value: UNKNOWN): value is HANDLER_RELATED_ENTITY<S, E> {\n    return value && value.ngrxEntityRelationship;\n}\n\nexport function isSelectorMeta(value: UNKNOWN): value is SELECTOR_META {\n    return typeof value === 'object' && value !== null;\n}\n","import {\n    CACHE_CHECKS,\n    CACHE_CHECKS_SET,\n    ENTITY_STATE,\n    FEATURE_SELECTOR,\n    ID_SELECTOR,\n    ID_TYPES,\n    STORE_SELECTOR,\n    UNKNOWN,\n} from './types';\n\nexport function normalizeSelector<S, E>(\n    selector: FEATURE_SELECTOR<S, E>,\n): {\n    collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    id: ID_SELECTOR<E>;\n} {\n    const local: any = selector;\n    if (local === undefined) {\n        throw new Error(\n            `selector is undefined. Circular dependencies have been detected. You need to put selectors that use ` +\n                `nrx-entity-relationship functions into a separate file: ` +\n                `https://github.com/satanTime/ngrx-entity-relationship#circular-dependency`,\n        );\n    }\n\n    let collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    if (typeof local === 'function') {\n        collection = local;\n    } else if (local.selectors) {\n        collection = local.selectors.selectCollection;\n    } else {\n        collection = local.collection;\n    }\n\n    let id: ID_SELECTOR<E>;\n    if (typeof local === 'function') {\n        id = (v: any) => (v ? v.id : undefined);\n    } else if (local.selectId) {\n        id = local.selectId;\n    } else if (typeof local.id === 'string') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else if (typeof local.id === 'number') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else {\n        id = local.id;\n    }\n\n    return {\n        collection,\n        id,\n    };\n}\n\nexport function verifyCache<S>(state: S, checks: CACHE_CHECKS_SET<S>): boolean {\n    if (!checks.size) {\n        return false;\n    }\n    const checksData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    checks.forEach((v, k) => checksData.push([k, v]));\n    for (const [checkSelector, checkEntities] of checksData) {\n        if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {\n            continue;\n        }\n        if (\n            checkEntities.has(null) &&\n            checkSelector(state).entities !== checkEntities.get(null) &&\n            checkEntities.size === 1\n        ) {\n            return false;\n        }\n        const checkState = checkSelector(state);\n\n        const checkEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        checkEntities.forEach((v, k) => checkEntitiesData.push([k, v]));\n        for (const [checkId, checkValue] of checkEntitiesData) {\n            if (checkId === null) {\n                continue;\n            }\n            if (checkState.entities[checkId] !== checkValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport function mergeCache<S>(from: CACHE_CHECKS_SET<S> | undefined, to: CACHE_CHECKS_SET<S>): void {\n    if (!from) {\n        return;\n    }\n    const fromData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    from.forEach((v, k) => fromData.push([k, v]));\n    for (const [fromSelector, fromEntities] of fromData) {\n        const toMap = to.get(fromSelector) || new Map();\n\n        const fromEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        fromEntities.forEach((v, k) => fromEntitiesData.push([k, v]));\n        for (const [fromId, fromEntity] of fromEntitiesData) {\n            if (toMap.has(fromId)) {\n                continue;\n            }\n            toMap.set(fromId, fromEntity);\n        }\n        if (!to.has(fromSelector)) {\n            to.set(fromSelector, toMap);\n        }\n    }\n}\n\nexport function argsToArray<T>(args: {length: number} & {[key: number]: T}): Array<T> {\n    const result = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < args.length; i += 1) {\n        result.push(args[i]);\n    }\n    return result;\n}\n\nexport function isObject(value: UNKNOWN): value is object {\n    return !!value && typeof value === 'object';\n}\n\nexport function objectKeys<T extends object, K extends keyof T>(value: T): Array<K> {\n    return Object.keys(value) as Array<K>;\n}\n\nexport function objectValues<T extends object, K extends T[keyof T]>(value: T): Array<K> {\n    const keys = objectKeys(value);\n    return keys.map(key => value[key]) as Array<K>;\n}\n\nexport function mapEntries<K, T>(set: Map<K, T>): Array<[K, T]> {\n    const result: Array<[K, T]> = [];\n    set.forEach((value: T, key: K) => result.push([key, value]));\n\n    return result;\n}\n\nexport const mapValues = <T>(set: {forEach(a1: (value: T) => void): void}): Array<T> => {\n    const result: Array<T> = [];\n    set.forEach((value: T) => result.push(value));\n\n    return result;\n};\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idChecks, id]: [CACHE_CHECKS_SET<STORE>, ID_TYPES | undefined] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            undefined,\n        ];\n        if (!verifyCache(state, idChecks)) {\n            id = undefined;\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                id = idSelector(entity);\n                break;\n            }\n            idChecks = new Map();\n            const idChecksEntities = new Map();\n            idChecks.set(collectionSelector, idChecksEntities);\n            idChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idChecks, id]);\n        }\n        if (!id) {\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        checksEntities.set(id, featureState.entities[id]);\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as RELATED_ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idsChecks, ids]: [CACHE_CHECKS_SET<STORE>, Array<ID_TYPES>] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            [],\n        ];\n        if (!verifyCache(state, idsChecks)) {\n            ids = [];\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                const id = idSelector(entity);\n                // istanbul ignore else\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            idsChecks = new Map();\n            const idsChecksEntities = new Map();\n            idsChecks.set(collectionSelector, idsChecksEntities);\n            idsChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idsChecks, ids]);\n        }\n        if (!ids.length) {\n            source[keyValue] = emptyResult.get(parentId);\n            // istanbul ignore else\n            if (!source[keyValue]) {\n                source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                emptyResult.set(parentId, source[keyValue]);\n            }\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = [];\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        for (const id of ids) {\n            checksEntities.set(id, featureState.entities[id]);\n        }\n\n        for (const id of ids) {\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    value.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityChecksEntities = new Map();\n            entityChecks.set(collectionSelector, entityChecksEntities);\n            entityChecksEntities.set(null, featureState.entities);\n            entityChecksEntities.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            value.push(entityValue);\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childrenEntities';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES> = ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>> = ID_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<ID_TYPES>\n    >,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (cacheLevel: string, state: STORE, cache: CACHE<STORE>, source: PARENT_ENTITY) => {\n        // a bit magic to relax generic types.\n        const sourceKeyIdValue = source[keyId];\n        if (!sourceKeyIdValue) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const ids: Array<ID_TYPES> = [];\n        const values: ID_TYPES | Array<ID_TYPES> = sourceKeyIdValue as any; // Thanks a8.\n        if (Array.isArray(values)) {\n            for (const id of values) {\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            if (!ids.length) {\n                source[keyValue] = emptyResult.get(values) as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                    PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                if (!source[keyValue]) {\n                    source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                        PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                    emptyResult.set(values, source[keyValue]);\n                }\n                return;\n            }\n        } else {\n            ids.push(values);\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        for (const id of ids) {\n            checkIds.set(id, featureState.entities[id]);\n        }\n\n        const valueEntities = [];\n        for (const id of ids) {\n            if (!featureState.entities[id]) {\n                continue;\n            }\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    valueEntities.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityCheckIds = new Map();\n            entityChecks.set(collectionSelector, entityCheckIds);\n            entityCheckIds.set(null, featureState.entities);\n            entityCheckIds.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            valueEntities.push(entityValue);\n        }\n        value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES] & PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'relatedEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, STORE_SELECTOR} from './types';\n\nexport function rootEntities<STORE, ENTITY>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    const cacheMap = new Map<string, Array<ENTITY | TRANSFORMED>>();\n    const emptyResult: Array<ENTITY | TRANSFORMED> = [];\n\n    const callback = (\n        state: STORE,\n        idsOrSelector: undefined | null | Array<ID_TYPES> | STORE_SELECTOR<STORE, undefined | null | Array<ID_TYPES>>,\n    ) => {\n        const ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;\n        if (!ids) {\n            return emptyResult;\n        }\n\n        const cacheKey = ids.join(',');\n        const cacheValue = cacheMap.get(cacheKey) || emptyResult;\n\n        if (rootEntityFlags.disabled) {\n            return cacheValue;\n        }\n\n        const value: Array<ENTITY | TRANSFORMED> = [];\n        for (const id of ids) {\n            const entity = rootSelector(state, id);\n            if (!entity) {\n                continue;\n            }\n            value.push(entity);\n        }\n\n        let index = 0;\n        let equal = value.length === cacheValue.length;\n        for (const entity of value) {\n            if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {\n                equal = false;\n                break;\n            }\n            index += 1;\n        }\n        if (equal) {\n            return cacheValue;\n        }\n\n        cacheMap.set(cacheKey, value);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntities';\n    callback.meta = rootSelector.meta;\n    callback.collectionSelector = rootSelector.collectionSelector;\n    callback.idSelector = rootSelector.idSelector;\n    callback.relationships = rootSelector.relationships;\n    callback.release = () => {\n        cacheMap.clear();\n        rootSelector.release();\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isBuiltInSelector,\n    isSelectorMeta,\n    STORE_SELECTOR,\n    TRANSFORMER,\n    UNKNOWN,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: TRANSFORMER<ENTITY, TRANSFORMED> | SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    guess2?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(1);\n\n    let transformer: undefined | TRANSFORMER<ENTITY, TRANSFORMED>;\n    let meta: SELECTOR_META = {};\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && !isSelectorMeta(guess1)) {\n        transformer = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && isSelectorMeta(guess1)) {\n        meta = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess2) && isSelectorMeta(guess2)) {\n        meta = guess2;\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const cacheLevel = '0';\n    const cache: CACHE<STORE> = new Map();\n\n    const callback = (\n        state: STORE,\n        idOrSelector: undefined | null | ID_TYPES | STORE_SELECTOR<STORE, undefined | null | ID_TYPES>,\n    ) => {\n        const id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;\n        if (!id) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (rootEntityFlags.disabled) {\n            return value;\n        }\n        if (verifyCache(state, checks)) {\n            return value;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        checkIds.set(id, featureState.entities[id]);\n\n        // the entity does not exist.\n        if (!featureState.entities[id]) {\n            cacheDataLevel.set(cacheHash, [checks, value]);\n            return value;\n        }\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n\n        value = transformer ? transformer(value) : value;\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.release = () => {\n        cache.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {childEntity} from './childEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childEntitySelector';\n\n    return callback;\n}\n","import {childrenEntities} from './childrenEntities';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childrenEntitiesSelector';\n\n    return callback;\n}\n","import {relatedEntity} from './relatedEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any = keyof any,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = meta;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'relatedEntitySelector';\n\n    return callback;\n}\n","import {rootEntity} from './rootEntity';\nimport {\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isSelectorMeta,\n    TRANSFORMER,\n} from './types';\nimport {argsToArray} from './utils';\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: SELECTOR_META | TRANSFORMER<ENTITY, TRANSFORMED>,\n    guess2?: SELECTOR_META,\n): (\n    meta?: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    function callback(\n        metaOverride?: SELECTOR_META,\n    ): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n        const transformer = isSelectorMeta(guess1) ? undefined : guess1;\n        let currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;\n        if (isSelectorMeta(metaOverride)) {\n            currentMeta = metaOverride;\n            relationships = relationships.slice(1);\n        }\n        return transformer && currentMeta\n            ? rootEntity(featureSelector, transformer, currentMeta, ...relationships)\n            : transformer\n            ? rootEntity(featureSelector, transformer, ...relationships)\n            : currentMeta\n            ? rootEntity(featureSelector, currentMeta, ...relationships)\n            : rootEntity(featureSelector, ...relationships);\n    }\n    callback.ngrxEntityRelationship = 'rootEntitySelector';\n\n    return callback;\n}\n","import {ENTITY_SELECTOR} from '../types';\n\nexport enum ngrxEntityRelationshipActions {\n    reduceFlat = '[NGRX-Entity-Relationship] Flat',\n    reduceGraph = '[NGRX-Entity-Relationship] Graph',\n}\n\nexport class ReduceFlat {\n    public readonly type: ngrxEntityRelationshipActions.reduceFlat = ngrxEntityRelationshipActions.reduceFlat;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceFlat = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceFlat,\n});\nreduceFlat.type = ngrxEntityRelationshipActions.reduceFlat;\n\nexport class ReduceGraph {\n    public readonly type: ngrxEntityRelationshipActions.reduceGraph = ngrxEntityRelationshipActions.reduceGraph;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceGraph = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceGraph,\n});\nreduceGraph.type = ngrxEntityRelationshipActions.reduceGraph;\n","import {UNKNOWN} from '../types';\nimport {isObject, objectKeys} from '../utils';\n\nconst func = <T>(state: T, source: UNKNOWN, destination: UNKNOWN): T => {\n    if (source === destination) {\n        return state;\n    }\n    if (!isObject(state)) {\n        return state;\n    }\n\n    for (const key of objectKeys(state)) {\n        if (!isObject(state[key])) {\n            continue;\n        }\n\n        if (state[key] === source) {\n            return {\n                ...state,\n                [key]: destination,\n            };\n        }\n\n        const patchedState = func(state[key], source, destination);\n        if (patchedState !== state[key]) {\n            return {\n                ...state,\n                [key]: patchedState,\n            };\n        }\n    }\n\n    return state;\n};\n\nexport const patchState = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {objectKeys} from '../utils';\n\nimport {patchState} from './patchState';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, entity: any, meta?: {skipFields?: Array<keyof any>}) => {\n    if (typeof entity !== 'object') {\n        throw new Error('Entity is not an object');\n    }\n    const id = selector.idSelector(entity);\n    if (!id) {\n        throw new Error('Cannot detect id of an entity');\n    }\n\n    const originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;\n    const entitiesKey = selector.collectionSelector.entitiesKey || 'entities';\n    const idsKey = selector.collectionSelector.idsKey || 'ids';\n\n    // Any because keys may be different because of entitiesKey.\n    const originalState: any = originalSelector(state);\n    const originalEntity = originalState[entitiesKey][id];\n    let featureState = originalState;\n\n    // creating a clone\n    const clone: any = {};\n    for (const key of objectKeys(entity)) {\n        if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = entity[key];\n    }\n    Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));\n\n    const existingKeys = objectKeys(clone);\n    for (const key of originalEntity ? objectKeys(originalEntity) : []) {\n        if (existingKeys.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = originalEntity[key];\n    }\n\n    if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {\n        featureState = {\n            ...featureState,\n            [idsKey]: [...featureState[idsKey], id],\n        };\n    }\n\n    let isEntityChanged = !originalEntity;\n    for (const key of objectKeys(clone)) {\n        if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {\n            isEntityChanged = true;\n            break;\n        }\n    }\n    if (isEntityChanged) {\n        featureState = {\n            ...featureState,\n            [entitiesKey]: {\n                ...featureState[entitiesKey],\n                [id]: clone,\n            },\n        };\n    }\n\n    return patchState.func(state, originalState, featureState);\n};\n\nexport const injectEntity = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {mapEntries, mapValues} from '../utils';\n\nimport {injectEntity} from './injectEntity';\n\nconst extractMap = (\n    selector: ENTITY_SELECTOR,\n    map: Map<string, {selectors: Set<ENTITY_SELECTOR>; skipFields: Set<keyof any>}>,\n) => {\n    if (!selector.meta || !selector.meta.flatKey) {\n        throw new Error('Flat key is not provided in meta');\n    }\n    const {selectors = new Set<ENTITY_SELECTOR>(), skipFields = new Set<keyof any>()} =\n        map.get(selector.meta.flatKey) || {};\n    if (!map.has(selector.meta.flatKey)) {\n        map.set(selector.meta.flatKey, {\n            selectors,\n            skipFields,\n        });\n    }\n    selectors.add(selector);\n    for (const relationship of selector.relationships) {\n        skipFields.add(relationship.keyValue);\n        extractMap(relationship, map);\n    }\n    return map;\n};\n\nconst func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const map = extractMap(selector, new Map());\n    for (const [key, {selectors, skipFields}] of mapEntries(map)) {\n        const isSet = Array.isArray(data[key]);\n        const entities = isSet ? data[key] : [data[key]];\n\n        for (const entity of entities) {\n            if (!entity) {\n                continue;\n            }\n\n            for (const entitySelector of mapValues(selectors)) {\n                state = injectEntity.func(state, entitySelector, entity, {skipFields: [...mapValues(skipFields)]});\n            }\n        }\n    }\n\n    return state;\n};\n\nexport const fromFlat = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\n\nimport {injectEntity} from './injectEntity';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const isSet = Array.isArray(data);\n    const entities = isSet ? data : [data];\n\n    // detecting keys we should skip\n    const skipFields: Array<keyof any> = [];\n    for (const relationship of selector.relationships) {\n        skipFields.push(relationship.keyValue);\n    }\n\n    for (const entity of entities) {\n        if (!entity) {\n            continue;\n        }\n\n        state = injectEntity.func(state, selector, entity, {skipFields});\n        for (const relationship of selector.relationships) {\n            state = func(state, relationship, entity[relationship.keyValue]);\n        }\n    }\n\n    return state;\n};\n\nexport const fromGraph = {\n    func,\n};\n","import {ACTION} from '../types';\n\nimport {ngrxEntityRelationshipActions} from './actions';\nimport {fromFlat} from './fromFlat';\nimport {fromGraph} from './fromGraph';\n\nexport function ngrxEntityRelationshipReducer<T>(\n    reducer: (state: T | undefined, action: ACTION) => T,\n): (state: T | undefined, action: ACTION) => T {\n    return (state: T | undefined, action: any) => {\n        if (action.type === ngrxEntityRelationshipActions.reduceGraph) {\n            return reducer(fromGraph.func(state, action.selector, action.data), action);\n        }\n        if (action.type === ngrxEntityRelationshipActions.reduceFlat) {\n            return reducer(fromFlat.func(state, action.selector, action.data), action);\n        }\n        return reducer(state, action);\n    };\n}\n","export function selectByIds<S, K, Props = any>(selector: (state: S, ids: Props) => K, ids: Props): (state: S) => K {\n    return state => selector(state, ids);\n}\n","import {ENTITY_STATE, ENTITY_STATE_CUSTOM, STORE_SELECTOR} from './types';\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, 'ids', infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey?: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> {\n    const callback: STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> = (s: STORE): ENTITY_STATE<ENTITY> => {\n        const slice = selector(s);\n        return {\n            ids: idsKey ? slice[idsKey] : slice.ids,\n            entities: slice[entitiesKey],\n        };\n    };\n    callback.idsKey = idsKey;\n    callback.entitiesKey = entitiesKey;\n    callback.originalSelector = selector;\n\n    return callback;\n}\n","export function toFactorySelector<S, K, Props = any>(selector: {\n    (state: S, ids: Props): K;\n    release?: () => void;\n}): {\n    (ids: Props): {\n        (state: S): K;\n        release(): void;\n    };\n    release(): void;\n} {\n    const release = () => {\n        if (typeof selector.release === 'function') {\n            selector.release();\n        }\n    };\n\n    const callback = (ids: Props) => {\n        const storeSelector = (state: S) => selector(state, ids);\n        storeSelector.release = release;\n\n        return storeSelector;\n    };\n    callback.release = release;\n\n    return callback;\n}\n","import {toFactorySelector} from './toFactorySelector';\n\nexport function toStaticSelector<S, K, Props = any>(\n    selector: {\n        (state: S, ids: Props): K;\n        release?: () => void;\n    },\n    ids: Props,\n): {\n    (state: S): K;\n    release(): void;\n} {\n    return toFactorySelector(selector)(ids);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["ngrxEntityRelationshipActions","func"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ngrx-entity-relationship.umd.js","sources":["../../../../libs/ngrx-entity-relationship/src/lib/rootEntityFlags.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/src/lib/types.ts","../../../../libs/ngrx-entity-relationship/src/lib/utils.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntitiesSelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/actions.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/patchState.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/injectEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromFlat.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromGraph.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/ngrxEntityRelationshipReducer.ts","../../../../libs/ngrx-entity-relationship/src/lib/selectByIds.ts","../../../../libs/ngrx-entity-relationship/src/lib/stateKeys.ts","../../../../libs/ngrx-entity-relationship/src/lib/toFactorySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/toStaticSelector.ts","../../../../libs/ngrx-entity-relationship/src/ngrx-entity-relationship.ts"],"names":["ngrxEntityRelationshipActions","func"],"mappings":"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","sourcesContent":["declare const window: any;\ndeclare const global: any;\n\n// istanbul ignore else\nif (window) {\n    window.global = window;\n}\n\n// istanbul ignore else\nif (!global['ngrx-entity-relationship-rootEntityFlags']) {\n    global['ngrx-entity-relationship-rootEntityFlags'] = {\n        disabled: false,\n    };\n}\n\nexport const rootEntityFlags: {disabled: boolean} = global['ngrx-entity-relationship-rootEntityFlags'];\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","declare global {\n    // tslint:disable-next-line:class-name\n    export interface SELECTOR_META {\n        flatKey?: string;\n        gqlFields?: Array<string | number> | Record<string, string>;\n    }\n}\n\nexport type UNKNOWN = any;\n\nexport interface STORE_SELECTOR<T, V> {\n    (state: T): V;\n    idsKey?: keyof any;\n    entitiesKey?: keyof any;\n    originalSelector?: (state: T) => V;\n}\n\nexport type ID_SELECTOR<E> = (entity: E) => ID_TYPES;\n\nexport interface ACTION {\n    type: string;\n}\n\nexport type FILTER_PROPS<Base, Condition> = {\n    [Key in keyof Base]: Base[Key] extends Condition ? Key : never;\n}[keyof Base];\n\nexport type ENTITY_STATE_CUSTOM<EK extends keyof any, IK extends keyof any, ENTITY> = {\n    [key in EK]: {\n        [id in ID_TYPES]?: ENTITY | undefined;\n    };\n} & {\n    [key in IK]?: Array<ID_TYPES>;\n};\n\nexport interface ENTITY_STATE<E> {\n    ids?: Array<ID_TYPES>;\n    entities: {\n        [id in ID_TYPES]?: E;\n    };\n}\n\nexport type FEATURE_SELECTOR<S, E> =\n    | STORE_SELECTOR<S, ENTITY_STATE<E>>\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: string | number;\n      }\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: ID_SELECTOR<E>;\n      }\n    | {\n          selectors: {\n              selectCollection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          };\n          selectId?: ID_SELECTOR<E>; // EntityCollectionService doesn't have it but EntityCollectionServiceBase does.\n      };\n\nexport type CACHE_CHECKS = Map<ID_TYPES | null, UNKNOWN>;\nexport type CACHE_CHECKS_SET<S> = Map<STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS>;\nexport type CACHE<S> = Map<string, Map<string | null, [CACHE_CHECKS_SET<S>, UNKNOWN]>>;\n\nexport interface ENTITY_SELECTOR<S = any, E = any> {\n    ngrxEntityRelationship: string;\n    meta: SELECTOR_META;\n    collectionSelector: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    idSelector: ID_SELECTOR<E>;\n    relationships: Array<HANDLER_RELATED_ENTITY<S, E>>;\n}\n\nexport type HANDLER_ENTITY<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITY<S, E, E, I>;\n\nexport type HANDLER_ENTITIES<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITIES<S, E, E, I>;\n\nexport type HANDLER_ROOT_ENTITY<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | I | STORE_SELECTOR<S, undefined | null | I>): undefined | T;\n    release(): void;\n};\n\nexport type HANDLER_ROOT_ENTITIES<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | Array<I> | STORE_SELECTOR<S, undefined | null | Array<I>>): Array<T>;\n    release(): void;\n};\n\nexport type HANDLER_RELATED_ENTITY<S, E> = ENTITY_SELECTOR<S /* TODO has to be a related entity */> & {\n    (\n        cachePrefix: string,\n        state: S,\n        cacheRefs: CACHE<S>,\n        source: E,\n        sourceIdSelector: ID_SELECTOR<any /* TODO has to be a related entity */>,\n    ): string | undefined;\n    keyId: keyof any;\n    keyValue: keyof any;\n    release(): void;\n};\n\nexport type EMPTY_TYPES = undefined | null;\n\nexport type ID_TYPES = string | number;\n\nexport type ID_FILTER_PROPS<RELATED_ENTITY, TYPES> = NonNullable<FILTER_PROPS<RELATED_ENTITY, TYPES | EMPTY_TYPES>>;\n\nexport type VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = NonNullable<\n    FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY | EMPTY_TYPES>\n>;\n\nexport type TRANSFORMER<F, T> = (entity: F) => T;\n\nexport function isBuiltInSelector<S, E>(value: UNKNOWN): value is HANDLER_RELATED_ENTITY<S, E> {\n    return value && value.ngrxEntityRelationship;\n}\n\nexport function isSelectorMeta(value: UNKNOWN): value is SELECTOR_META {\n    return typeof value === 'object' && value !== null;\n}\n","import {\n    CACHE_CHECKS,\n    CACHE_CHECKS_SET,\n    ENTITY_STATE,\n    FEATURE_SELECTOR,\n    ID_SELECTOR,\n    ID_TYPES,\n    STORE_SELECTOR,\n    UNKNOWN,\n} from './types';\n\nexport function normalizeSelector<S, E>(\n    selector: FEATURE_SELECTOR<S, E>,\n): {\n    collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    id: ID_SELECTOR<E>;\n} {\n    const local: any = selector;\n    if (local === undefined) {\n        throw new Error(\n            `selector is undefined. Circular dependencies have been detected. You need to put selectors that use ` +\n                `nrx-entity-relationship functions into a separate file: ` +\n                `https://github.com/satanTime/ngrx-entity-relationship#circular-dependency`,\n        );\n    }\n\n    let collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    if (typeof local === 'function') {\n        collection = local;\n    } else if (local.selectors) {\n        collection = local.selectors.selectCollection;\n    } else {\n        collection = local.collection;\n    }\n\n    let id: ID_SELECTOR<E>;\n    if (typeof local === 'function') {\n        id = (v: any) => (v ? v.id : undefined);\n    } else if (local.selectId) {\n        id = local.selectId;\n    } else if (typeof local.id === 'string') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else if (typeof local.id === 'number') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else {\n        id = local.id;\n    }\n\n    return {\n        collection,\n        id,\n    };\n}\n\nexport function verifyCache<S>(state: S, checks: CACHE_CHECKS_SET<S>): boolean {\n    if (!checks.size) {\n        return false;\n    }\n    const checksData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    checks.forEach((v, k) => checksData.push([k, v]));\n    for (const [checkSelector, checkEntities] of checksData) {\n        if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {\n            continue;\n        }\n        if (\n            checkEntities.has(null) &&\n            checkSelector(state).entities !== checkEntities.get(null) &&\n            checkEntities.size === 1\n        ) {\n            return false;\n        }\n        const checkState = checkSelector(state);\n\n        const checkEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        checkEntities.forEach((v, k) => checkEntitiesData.push([k, v]));\n        for (const [checkId, checkValue] of checkEntitiesData) {\n            if (checkId === null) {\n                continue;\n            }\n            if (checkState.entities[checkId] !== checkValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport function mergeCache<S>(from: CACHE_CHECKS_SET<S> | undefined, to: CACHE_CHECKS_SET<S>): void {\n    if (!from) {\n        return;\n    }\n    const fromData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    from.forEach((v, k) => fromData.push([k, v]));\n    for (const [fromSelector, fromEntities] of fromData) {\n        const toMap = to.get(fromSelector) || new Map();\n\n        const fromEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        fromEntities.forEach((v, k) => fromEntitiesData.push([k, v]));\n        for (const [fromId, fromEntity] of fromEntitiesData) {\n            if (toMap.has(fromId)) {\n                continue;\n            }\n            toMap.set(fromId, fromEntity);\n        }\n        if (!to.has(fromSelector)) {\n            to.set(fromSelector, toMap);\n        }\n    }\n}\n\nexport function argsToArray<T>(args: {length: number} & {[key: number]: T}): Array<T> {\n    const result = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < args.length; i += 1) {\n        result.push(args[i]);\n    }\n    return result;\n}\n\nexport function isObject(value: UNKNOWN): value is object {\n    return !!value && typeof value === 'object';\n}\n\nexport function objectKeys<T extends object, K extends keyof T>(value: T): Array<K> {\n    return Object.keys(value) as Array<K>;\n}\n\nexport function objectValues<T extends object, K extends T[keyof T]>(value: T): Array<K> {\n    const keys = objectKeys(value);\n    return keys.map(key => value[key]) as Array<K>;\n}\n\nexport function mapEntries<K, T>(set: Map<K, T>): Array<[K, T]> {\n    const result: Array<[K, T]> = [];\n    set.forEach((value: T, key: K) => result.push([key, value]));\n\n    return result;\n}\n\nexport const mapValues = <T>(set: {forEach(a1: (value: T) => void): void}): Array<T> => {\n    const result: Array<T> = [];\n    set.forEach((value: T) => result.push(value));\n\n    return result;\n};\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idChecks, id]: [CACHE_CHECKS_SET<STORE>, ID_TYPES | undefined] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            undefined,\n        ];\n        if (!verifyCache(state, idChecks)) {\n            id = undefined;\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                id = idSelector(entity);\n                break;\n            }\n            idChecks = new Map();\n            const idChecksEntities = new Map();\n            idChecks.set(collectionSelector, idChecksEntities);\n            idChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idChecks, id]);\n        }\n        if (!id) {\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        checksEntities.set(id, featureState.entities[id]);\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as RELATED_ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idsChecks, ids]: [CACHE_CHECKS_SET<STORE>, Array<ID_TYPES>] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            [],\n        ];\n        if (!verifyCache(state, idsChecks)) {\n            ids = [];\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                const id = idSelector(entity);\n                // istanbul ignore else\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            idsChecks = new Map();\n            const idsChecksEntities = new Map();\n            idsChecks.set(collectionSelector, idsChecksEntities);\n            idsChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idsChecks, ids]);\n        }\n        if (!ids.length) {\n            source[keyValue] = emptyResult.get(parentId);\n            // istanbul ignore else\n            if (!source[keyValue]) {\n                source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                emptyResult.set(parentId, source[keyValue]);\n            }\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = [];\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        for (const id of ids) {\n            checksEntities.set(id, featureState.entities[id]);\n        }\n\n        for (const id of ids) {\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    value.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityChecksEntities = new Map();\n            entityChecks.set(collectionSelector, entityChecksEntities);\n            entityChecksEntities.set(null, featureState.entities);\n            entityChecksEntities.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            value.push(entityValue);\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childrenEntities';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES> = ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>> = ID_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<ID_TYPES>\n    >,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (cacheLevel: string, state: STORE, cache: CACHE<STORE>, source: PARENT_ENTITY) => {\n        // a bit magic to relax generic types.\n        const sourceKeyIdValue = source[keyId];\n        if (!sourceKeyIdValue) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const ids: Array<ID_TYPES> = [];\n        const values: ID_TYPES | Array<ID_TYPES> = sourceKeyIdValue as any; // Thanks a8.\n        if (Array.isArray(values)) {\n            for (const id of values) {\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            if (!ids.length) {\n                source[keyValue] = emptyResult.get(values) as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                    PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                if (!source[keyValue]) {\n                    source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                        PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                    emptyResult.set(values, source[keyValue]);\n                }\n                return;\n            }\n        } else {\n            ids.push(values);\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        for (const id of ids) {\n            checkIds.set(id, featureState.entities[id]);\n        }\n\n        const valueEntities = [];\n        for (const id of ids) {\n            if (!featureState.entities[id]) {\n                continue;\n            }\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    valueEntities.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityCheckIds = new Map();\n            entityChecks.set(collectionSelector, entityCheckIds);\n            entityCheckIds.set(null, featureState.entities);\n            entityCheckIds.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            valueEntities.push(entityValue);\n        }\n        value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES] & PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'relatedEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, STORE_SELECTOR} from './types';\n\nexport function rootEntities<STORE, ENTITY>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    const cacheMap = new Map<string, Array<ENTITY | TRANSFORMED>>();\n    const emptyResult: Array<ENTITY | TRANSFORMED> = [];\n\n    const callback = (\n        state: STORE,\n        idsOrSelector: undefined | null | Array<ID_TYPES> | STORE_SELECTOR<STORE, undefined | null | Array<ID_TYPES>>,\n    ) => {\n        const ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;\n        if (!ids) {\n            return emptyResult;\n        }\n\n        const cacheKey = ids.join(',');\n        const cacheValue = cacheMap.get(cacheKey) || emptyResult;\n\n        if (rootEntityFlags.disabled) {\n            return cacheValue;\n        }\n\n        const value: Array<ENTITY | TRANSFORMED> = [];\n        for (const id of ids) {\n            const entity = rootSelector(state, id);\n            if (!entity) {\n                continue;\n            }\n            value.push(entity);\n        }\n\n        let index = 0;\n        let equal = value.length === cacheValue.length;\n        for (const entity of value) {\n            if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {\n                equal = false;\n                break;\n            }\n            index += 1;\n        }\n        if (equal) {\n            return cacheValue;\n        }\n\n        cacheMap.set(cacheKey, value);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntities';\n    callback.meta = rootSelector.meta;\n    callback.collectionSelector = rootSelector.collectionSelector;\n    callback.idSelector = rootSelector.idSelector;\n    callback.relationships = rootSelector.relationships;\n    callback.release = () => {\n        cacheMap.clear();\n        rootSelector.release();\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isBuiltInSelector,\n    isSelectorMeta,\n    STORE_SELECTOR,\n    TRANSFORMER,\n    UNKNOWN,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: TRANSFORMER<ENTITY, TRANSFORMED> | SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    guess2?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(1);\n\n    let transformer: undefined | TRANSFORMER<ENTITY, TRANSFORMED>;\n    let meta: SELECTOR_META = {};\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && !isSelectorMeta(guess1)) {\n        transformer = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && isSelectorMeta(guess1)) {\n        meta = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess2) && isSelectorMeta(guess2)) {\n        meta = guess2;\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const cacheLevel = '0';\n    const cache: CACHE<STORE> = new Map();\n\n    const callback = (\n        state: STORE,\n        idOrSelector: undefined | null | ID_TYPES | STORE_SELECTOR<STORE, undefined | null | ID_TYPES>,\n    ) => {\n        const id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;\n        if (!id) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (rootEntityFlags.disabled) {\n            return value;\n        }\n        if (verifyCache(state, checks)) {\n            return value;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        checkIds.set(id, featureState.entities[id]);\n\n        // the entity does not exist.\n        if (!featureState.entities[id]) {\n            cacheDataLevel.set(cacheHash, [checks, value]);\n            return value;\n        }\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n\n        value = transformer ? transformer(value) : value;\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.release = () => {\n        cache.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {childEntity} from './childEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childEntitySelector';\n\n    return callback;\n}\n","import {childrenEntities} from './childrenEntities';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childrenEntitiesSelector';\n\n    return callback;\n}\n","import {relatedEntity} from './relatedEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any = keyof any,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = meta;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'relatedEntitySelector';\n\n    return callback;\n}\n","import {rootEntity} from './rootEntity';\nimport {\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isSelectorMeta,\n    TRANSFORMER,\n} from './types';\nimport {argsToArray} from './utils';\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: SELECTOR_META | TRANSFORMER<ENTITY, TRANSFORMED>,\n    guess2?: SELECTOR_META,\n): (\n    meta?: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    function callback(\n        metaOverride?: SELECTOR_META,\n    ): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n        const transformer = isSelectorMeta(guess1) ? undefined : guess1;\n        let currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;\n        if (isSelectorMeta(metaOverride)) {\n            currentMeta = metaOverride;\n            relationships = relationships.slice(1);\n        }\n        return transformer && currentMeta\n            ? rootEntity(featureSelector, transformer, currentMeta, ...relationships)\n            : transformer\n            ? rootEntity(featureSelector, transformer, ...relationships)\n            : currentMeta\n            ? rootEntity(featureSelector, currentMeta, ...relationships)\n            : rootEntity(featureSelector, ...relationships);\n    }\n    callback.ngrxEntityRelationship = 'rootEntitySelector';\n\n    return callback;\n}\n","import {ENTITY_SELECTOR} from '../types';\n\nexport enum ngrxEntityRelationshipActions {\n    reduceFlat = '[NGRX-Entity-Relationship] Flat',\n    reduceGraph = '[NGRX-Entity-Relationship] Graph',\n}\n\nexport class ReduceFlat {\n    public readonly type: ngrxEntityRelationshipActions.reduceFlat = ngrxEntityRelationshipActions.reduceFlat;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceFlat = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceFlat,\n});\nreduceFlat.type = ngrxEntityRelationshipActions.reduceFlat;\n\nexport class ReduceGraph {\n    public readonly type: ngrxEntityRelationshipActions.reduceGraph = ngrxEntityRelationshipActions.reduceGraph;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceGraph = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceGraph,\n});\nreduceGraph.type = ngrxEntityRelationshipActions.reduceGraph;\n","import {UNKNOWN} from '../types';\nimport {isObject, objectKeys} from '../utils';\n\nconst func = <T>(state: T, source: UNKNOWN, destination: UNKNOWN): T => {\n    if (source === destination) {\n        return state;\n    }\n    if (!isObject(state)) {\n        return state;\n    }\n\n    for (const key of objectKeys(state)) {\n        if (!isObject(state[key])) {\n            continue;\n        }\n\n        if (state[key] === source) {\n            return {\n                ...state,\n                [key]: destination,\n            };\n        }\n\n        const patchedState = func(state[key], source, destination);\n        if (patchedState !== state[key]) {\n            return {\n                ...state,\n                [key]: patchedState,\n            };\n        }\n    }\n\n    return state;\n};\n\nexport const patchState = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {objectKeys} from '../utils';\n\nimport {patchState} from './patchState';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, entity: any, meta?: {skipFields?: Array<keyof any>}) => {\n    if (typeof entity !== 'object') {\n        throw new Error('Entity is not an object');\n    }\n    const id = selector.idSelector(entity);\n    if (!id) {\n        throw new Error('Cannot detect id of an entity');\n    }\n\n    const originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;\n    const entitiesKey = selector.collectionSelector.entitiesKey || 'entities';\n    const idsKey = selector.collectionSelector.idsKey || 'ids';\n\n    // Any because keys may be different because of entitiesKey.\n    const originalState: any = originalSelector(state);\n    const originalEntity = originalState[entitiesKey][id];\n    let featureState = originalState;\n\n    // creating a clone\n    const clone: any = {};\n    for (const key of objectKeys(entity)) {\n        if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = entity[key];\n    }\n    Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));\n\n    const existingKeys = objectKeys(clone);\n    for (const key of originalEntity ? objectKeys(originalEntity) : []) {\n        if (existingKeys.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = originalEntity[key];\n    }\n\n    if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {\n        featureState = {\n            ...featureState,\n            [idsKey]: [...featureState[idsKey], id],\n        };\n    }\n\n    let isEntityChanged = !originalEntity;\n    for (const key of objectKeys(clone)) {\n        if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {\n            isEntityChanged = true;\n            break;\n        }\n    }\n    if (isEntityChanged) {\n        featureState = {\n            ...featureState,\n            [entitiesKey]: {\n                ...featureState[entitiesKey],\n                [id]: clone,\n            },\n        };\n    }\n\n    return patchState.func(state, originalState, featureState);\n};\n\nexport const injectEntity = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {mapEntries, mapValues} from '../utils';\n\nimport {injectEntity} from './injectEntity';\n\nconst extractMap = (\n    selector: ENTITY_SELECTOR,\n    map: Map<string, {selectors: Set<ENTITY_SELECTOR>; skipFields: Set<keyof any>}>,\n) => {\n    if (!selector.meta || !selector.meta.flatKey) {\n        throw new Error('Flat key is not provided in meta');\n    }\n    const {selectors = new Set<ENTITY_SELECTOR>(), skipFields = new Set<keyof any>()} =\n        map.get(selector.meta.flatKey) || {};\n    if (!map.has(selector.meta.flatKey)) {\n        map.set(selector.meta.flatKey, {\n            selectors,\n            skipFields,\n        });\n    }\n    selectors.add(selector);\n    for (const relationship of selector.relationships) {\n        skipFields.add(relationship.keyValue);\n        extractMap(relationship, map);\n    }\n    return map;\n};\n\nconst func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const map = extractMap(selector, new Map());\n    for (const [key, {selectors, skipFields}] of mapEntries(map)) {\n        const isSet = Array.isArray(data[key]);\n        const entities = isSet ? data[key] : [data[key]];\n\n        for (const entity of entities) {\n            if (!entity) {\n                continue;\n            }\n\n            for (const entitySelector of mapValues(selectors)) {\n                state = injectEntity.func(state, entitySelector, entity, {skipFields: [...mapValues(skipFields)]});\n            }\n        }\n    }\n\n    return state;\n};\n\nexport const fromFlat = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\n\nimport {injectEntity} from './injectEntity';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const isSet = Array.isArray(data);\n    const entities = isSet ? data : [data];\n\n    // detecting keys we should skip\n    const skipFields: Array<keyof any> = [];\n    for (const relationship of selector.relationships) {\n        skipFields.push(relationship.keyValue);\n    }\n\n    for (const entity of entities) {\n        if (!entity) {\n            continue;\n        }\n\n        state = injectEntity.func(state, selector, entity, {skipFields});\n        for (const relationship of selector.relationships) {\n            state = func(state, relationship, entity[relationship.keyValue]);\n        }\n    }\n\n    return state;\n};\n\nexport const fromGraph = {\n    func,\n};\n","import {ACTION} from '../types';\n\nimport {ngrxEntityRelationshipActions} from './actions';\nimport {fromFlat} from './fromFlat';\nimport {fromGraph} from './fromGraph';\n\nexport function ngrxEntityRelationshipReducer<T>(\n    reducer: (state: T | undefined, action: ACTION) => T,\n): (state: T | undefined, action: ACTION) => T {\n    return (state: T | undefined, action: any) => {\n        if (action.type === ngrxEntityRelationshipActions.reduceGraph) {\n            return reducer(fromGraph.func(state, action.selector, action.data), action);\n        }\n        if (action.type === ngrxEntityRelationshipActions.reduceFlat) {\n            return reducer(fromFlat.func(state, action.selector, action.data), action);\n        }\n        return reducer(state, action);\n    };\n}\n","export function selectByIds<S, K, Props = any>(selector: (state: S, ids: Props) => K, ids: Props): (state: S) => K {\n    return state => selector(state, ids);\n}\n","import {ENTITY_STATE, ENTITY_STATE_CUSTOM, STORE_SELECTOR} from './types';\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, 'ids', infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey?: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> {\n    const callback: STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> = (s: STORE): ENTITY_STATE<ENTITY> => {\n        const slice = selector(s);\n        return {\n            ids: idsKey ? slice[idsKey] : slice.ids,\n            entities: slice[entitiesKey],\n        };\n    };\n    callback.idsKey = idsKey;\n    callback.entitiesKey = entitiesKey;\n    callback.originalSelector = selector;\n\n    return callback;\n}\n","export function toFactorySelector<S, K, Props = any>(selector: {\n    (state: S, ids: Props): K;\n    release?: () => void;\n}): {\n    (ids: Props): {\n        (state: S): K;\n        release(): void;\n    };\n    release(): void;\n} {\n    const release = () => {\n        if (typeof selector.release === 'function') {\n            selector.release();\n        }\n    };\n\n    const callback = (ids: Props) => {\n        const storeSelector = (state: S) => selector(state, ids);\n        storeSelector.release = release;\n\n        return storeSelector;\n    };\n    callback.release = release;\n\n    return callback;\n}\n","import {toFactorySelector} from './toFactorySelector';\n\nexport function toStaticSelector<S, K, Props = any>(\n    selector: {\n        (state: S, ids: Props): K;\n        release?: () => void;\n    },\n    ids: Props,\n): {\n    (state: S): K;\n    release(): void;\n} {\n    return toFactorySelector(selector)(ids);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..b96e205
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/bundles/ngrx-entity-relationship.umd.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship.umd.js","sources":["../../../../libs/ngrx-entity-relationship/src/lib/rootEntityFlags.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/ngrx-entity-relationship/src/lib/types.ts","../../../../libs/ngrx-entity-relationship/src/lib/utils.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntities.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/childEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/childrenEntitiesSelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/relatedEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/rootEntitySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/actions.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/patchState.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/injectEntity.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromFlat.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/fromGraph.ts","../../../../libs/ngrx-entity-relationship/src/lib/store/ngrxEntityRelationshipReducer.ts","../../../../libs/ngrx-entity-relationship/src/lib/selectByIds.ts","../../../../libs/ngrx-entity-relationship/src/lib/stateKeys.ts","../../../../libs/ngrx-entity-relationship/src/lib/toFactorySelector.ts","../../../../libs/ngrx-entity-relationship/src/lib/toStaticSelector.ts","../../../../libs/ngrx-entity-relationship/src/ngrx-entity-relationship.ts"],"sourcesContent":["declare const window: any;\ndeclare const global: any;\n\n// istanbul ignore else\nif (window) {\n    window.global = window;\n}\n\n// istanbul ignore else\nif (!global['ngrx-entity-relationship-rootEntityFlags']) {\n    global['ngrx-entity-relationship-rootEntityFlags'] = {\n        disabled: false,\n    };\n}\n\nexport const rootEntityFlags: {disabled: boolean} = global['ngrx-entity-relationship-rootEntityFlags'];\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","declare global {\n    // tslint:disable-next-line:class-name\n    export interface SELECTOR_META {\n        flatKey?: string;\n        gqlFields?: Array<string | number> | Record<string, string>;\n    }\n}\n\nexport type UNKNOWN = any;\n\nexport interface STORE_SELECTOR<T, V> {\n    (state: T): V;\n    idsKey?: keyof any;\n    entitiesKey?: keyof any;\n    originalSelector?: (state: T) => V;\n}\n\nexport type ID_SELECTOR<E> = (entity: E) => ID_TYPES;\n\nexport interface ACTION {\n    type: string;\n}\n\nexport type FILTER_PROPS<Base, Condition> = {\n    [Key in keyof Base]: Base[Key] extends Condition ? Key : never;\n}[keyof Base];\n\nexport type ENTITY_STATE_CUSTOM<EK extends keyof any, IK extends keyof any, ENTITY> = {\n    [key in EK]: {\n        [id in ID_TYPES]?: ENTITY | undefined;\n    };\n} & {\n    [key in IK]?: Array<ID_TYPES>;\n};\n\nexport interface ENTITY_STATE<E> {\n    ids?: Array<ID_TYPES>;\n    entities: {\n        [id in ID_TYPES]?: E;\n    };\n}\n\nexport type FEATURE_SELECTOR<S, E> =\n    | STORE_SELECTOR<S, ENTITY_STATE<E>>\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: string | number;\n      }\n    | {\n          collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          id: ID_SELECTOR<E>;\n      }\n    | {\n          selectors: {\n              selectCollection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n          };\n          selectId?: ID_SELECTOR<E>; // EntityCollectionService doesn't have it but EntityCollectionServiceBase does.\n      };\n\nexport type CACHE_CHECKS = Map<ID_TYPES | null, UNKNOWN>;\nexport type CACHE_CHECKS_SET<S> = Map<STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS>;\nexport type CACHE<S> = Map<string, Map<string | null, [CACHE_CHECKS_SET<S>, UNKNOWN]>>;\n\nexport interface ENTITY_SELECTOR<S = any, E = any> {\n    ngrxEntityRelationship: string;\n    meta: SELECTOR_META;\n    collectionSelector: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    idSelector: ID_SELECTOR<E>;\n    relationships: Array<HANDLER_RELATED_ENTITY<S, E>>;\n}\n\nexport type HANDLER_ENTITY<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITY<S, E, E, I>;\n\nexport type HANDLER_ENTITIES<E, S = any, I extends ID_TYPES = ID_TYPES> = HANDLER_ROOT_ENTITIES<S, E, E, I>;\n\nexport type HANDLER_ROOT_ENTITY<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | I | STORE_SELECTOR<S, undefined | null | I>): undefined | T;\n    release(): void;\n};\n\nexport type HANDLER_ROOT_ENTITIES<S, E, T, I> = ENTITY_SELECTOR<S, E> & {\n    (state: S, id: undefined | null | Array<I> | STORE_SELECTOR<S, undefined | null | Array<I>>): Array<T>;\n    release(): void;\n};\n\nexport type HANDLER_RELATED_ENTITY<S, E> = ENTITY_SELECTOR<S /* TODO has to be a related entity */> & {\n    (\n        cachePrefix: string,\n        state: S,\n        cacheRefs: CACHE<S>,\n        source: E,\n        sourceIdSelector: ID_SELECTOR<any /* TODO has to be a related entity */>,\n    ): string | undefined;\n    keyId: keyof any;\n    keyValue: keyof any;\n    release(): void;\n};\n\nexport type EMPTY_TYPES = undefined | null;\n\nexport type ID_TYPES = string | number;\n\nexport type ID_FILTER_PROPS<RELATED_ENTITY, TYPES> = NonNullable<FILTER_PROPS<RELATED_ENTITY, TYPES | EMPTY_TYPES>>;\n\nexport type VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = NonNullable<\n    FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY | EMPTY_TYPES>\n>;\n\nexport type TRANSFORMER<F, T> = (entity: F) => T;\n\nexport function isBuiltInSelector<S, E>(value: UNKNOWN): value is HANDLER_RELATED_ENTITY<S, E> {\n    return value && value.ngrxEntityRelationship;\n}\n\nexport function isSelectorMeta(value: UNKNOWN): value is SELECTOR_META {\n    return typeof value === 'object' && value !== null;\n}\n","import {\n    CACHE_CHECKS,\n    CACHE_CHECKS_SET,\n    ENTITY_STATE,\n    FEATURE_SELECTOR,\n    ID_SELECTOR,\n    ID_TYPES,\n    STORE_SELECTOR,\n    UNKNOWN,\n} from './types';\n\nexport function normalizeSelector<S, E>(\n    selector: FEATURE_SELECTOR<S, E>,\n): {\n    collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    id: ID_SELECTOR<E>;\n} {\n    const local: any = selector;\n    if (local === undefined) {\n        throw new Error(\n            `selector is undefined. Circular dependencies have been detected. You need to put selectors that use ` +\n                `nrx-entity-relationship functions into a separate file: ` +\n                `https://github.com/satanTime/ngrx-entity-relationship#circular-dependency`,\n        );\n    }\n\n    let collection: STORE_SELECTOR<S, ENTITY_STATE<E>>;\n    if (typeof local === 'function') {\n        collection = local;\n    } else if (local.selectors) {\n        collection = local.selectors.selectCollection;\n    } else {\n        collection = local.collection;\n    }\n\n    let id: ID_SELECTOR<E>;\n    if (typeof local === 'function') {\n        id = (v: any) => (v ? v.id : undefined);\n    } else if (local.selectId) {\n        id = local.selectId;\n    } else if (typeof local.id === 'string') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else if (typeof local.id === 'number') {\n        id = (v: any) => (v ? v[local.id] : undefined);\n    } else {\n        id = local.id;\n    }\n\n    return {\n        collection,\n        id,\n    };\n}\n\nexport function verifyCache<S>(state: S, checks: CACHE_CHECKS_SET<S>): boolean {\n    if (!checks.size) {\n        return false;\n    }\n    const checksData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    checks.forEach((v, k) => checksData.push([k, v]));\n    for (const [checkSelector, checkEntities] of checksData) {\n        if (checkEntities.has(null) && checkSelector(state).entities === checkEntities.get(null)) {\n            continue;\n        }\n        if (\n            checkEntities.has(null) &&\n            checkSelector(state).entities !== checkEntities.get(null) &&\n            checkEntities.size === 1\n        ) {\n            return false;\n        }\n        const checkState = checkSelector(state);\n\n        const checkEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        checkEntities.forEach((v, k) => checkEntitiesData.push([k, v]));\n        for (const [checkId, checkValue] of checkEntitiesData) {\n            if (checkId === null) {\n                continue;\n            }\n            if (checkState.entities[checkId] !== checkValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport function mergeCache<S>(from: CACHE_CHECKS_SET<S> | undefined, to: CACHE_CHECKS_SET<S>): void {\n    if (!from) {\n        return;\n    }\n    const fromData: Array<[STORE_SELECTOR<S, ENTITY_STATE<UNKNOWN>>, CACHE_CHECKS]> = [];\n    from.forEach((v, k) => fromData.push([k, v]));\n    for (const [fromSelector, fromEntities] of fromData) {\n        const toMap = to.get(fromSelector) || new Map();\n\n        const fromEntitiesData: Array<[ID_TYPES | null, UNKNOWN]> = [];\n        fromEntities.forEach((v, k) => fromEntitiesData.push([k, v]));\n        for (const [fromId, fromEntity] of fromEntitiesData) {\n            if (toMap.has(fromId)) {\n                continue;\n            }\n            toMap.set(fromId, fromEntity);\n        }\n        if (!to.has(fromSelector)) {\n            to.set(fromSelector, toMap);\n        }\n    }\n}\n\nexport function argsToArray<T>(args: {length: number} & {[key: number]: T}): Array<T> {\n    const result = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < args.length; i += 1) {\n        result.push(args[i]);\n    }\n    return result;\n}\n\nexport function isObject(value: UNKNOWN): value is object {\n    return !!value && typeof value === 'object';\n}\n\nexport function objectKeys<T extends object, K extends keyof T>(value: T): Array<K> {\n    return Object.keys(value) as Array<K>;\n}\n\nexport function objectValues<T extends object, K extends T[keyof T]>(value: T): Array<K> {\n    const keys = objectKeys(value);\n    return keys.map(key => value[key]) as Array<K>;\n}\n\nexport function mapEntries<K, T>(set: Map<K, T>): Array<[K, T]> {\n    const result: Array<[K, T]> = [];\n    set.forEach((value: T, key: K) => result.push([key, value]));\n\n    return result;\n}\n\nexport const mapValues = <T>(set: {forEach(a1: (value: T) => void): void}): Array<T> => {\n    const result: Array<T> = [];\n    set.forEach((value: T) => result.push(value));\n\n    return result;\n};\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idChecks, id]: [CACHE_CHECKS_SET<STORE>, ID_TYPES | undefined] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            undefined,\n        ];\n        if (!verifyCache(state, idChecks)) {\n            id = undefined;\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                id = idSelector(entity);\n                break;\n            }\n            idChecks = new Map();\n            const idChecksEntities = new Map();\n            idChecks.set(collectionSelector, idChecksEntities);\n            idChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idChecks, id]);\n        }\n        if (!id) {\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        checksEntities.set(id, featureState.entities[id]);\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as RELATED_ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_SELECTOR,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, objectValues, verifyCache} from './utils';\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntities<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (\n        cacheLevel: string,\n        state: STORE,\n        cache: CACHE<STORE>,\n        source: PARENT_ENTITY,\n        idParentSelector: ID_SELECTOR<PARENT_ENTITY>,\n    ) => {\n        const featureState = collectionSelector(state);\n        const parentId = idParentSelector(source);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        // maybe we don't need to scan the entities.\n        let [idsChecks, ids]: [CACHE_CHECKS_SET<STORE>, Array<ID_TYPES>] = cacheDataLevel.get(`!${parentId}`) || [\n            new Map(),\n            [],\n        ];\n        if (!verifyCache(state, idsChecks)) {\n            ids = [];\n            for (const entity of objectValues(featureState.entities)) {\n                if (\n                    !entity ||\n                    entity[keyId] !== (parentId as any as RELATED_ENTITY[RELATED_KEY_IDS]) // todo fix any A8\n                ) {\n                    continue;\n                }\n                const id = idSelector(entity);\n                // istanbul ignore else\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            idsChecks = new Map();\n            const idsChecksEntities = new Map();\n            idsChecks.set(collectionSelector, idsChecksEntities);\n            idsChecksEntities.set(null, featureState.entities);\n            cacheDataLevel.set(`!${parentId}`, [idsChecks, ids]);\n        }\n        if (!ids.length) {\n            source[keyValue] = emptyResult.get(parentId);\n            // istanbul ignore else\n            if (!source[keyValue]) {\n                source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                emptyResult.set(parentId, source[keyValue]);\n            }\n            return `!${parentId}`;\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = [];\n        checks = new Map();\n        const checksEntities = new Map();\n        checks.set(collectionSelector, checksEntities);\n        checksEntities.set(null, featureState.entities);\n        for (const id of ids) {\n            checksEntities.set(id, featureState.entities[id]);\n        }\n\n        for (const id of ids) {\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    value.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityChecksEntities = new Map();\n            entityChecks.set(collectionSelector, entityChecksEntities);\n            entityChecksEntities.set(null, featureState.entities);\n            entityChecksEntities.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            value.push(entityValue);\n        }\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'childrenEntities';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    ID_FILTER_PROPS,\n    ID_TYPES,\n    isSelectorMeta,\n    UNKNOWN,\n    VALUES_FILTER_PROPS,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES> = ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>> = ID_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<ID_TYPES>\n    >,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        RELATED_ENTITY\n    >,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>> = VALUES_FILTER_PROPS<\n        PARENT_ENTITY,\n        Array<RELATED_ENTITY>\n    >,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntity<\n    STORE,\n    PARENT_ENTITY,\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<PARENT_ENTITY, ID_TYPES>,\n    RELATED_KEY_IDS_ARRAYS extends ID_FILTER_PROPS<PARENT_ENTITY, Array<ID_TYPES>>,\n    RELATED_KEY_VALUES extends VALUES_FILTER_PROPS<PARENT_ENTITY, RELATED_ENTITY>,\n    RELATED_KEY_VALUES_ARRAYS extends VALUES_FILTER_PROPS<PARENT_ENTITY, Array<RELATED_ENTITY>>,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS | RELATED_KEY_IDS_ARRAYS,\n    keyValue: RELATED_KEY_VALUES | RELATED_KEY_VALUES_ARRAYS,\n): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(3);\n\n    let meta: SELECTOR_META = {};\n    if (isSelectorMeta(relationships[0])) {\n        meta = relationships[0];\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n    const emptyResult: Map<UNKNOWN, UNKNOWN> = new Map();\n\n    const callback = (cacheLevel: string, state: STORE, cache: CACHE<STORE>, source: PARENT_ENTITY) => {\n        // a bit magic to relax generic types.\n        const sourceKeyIdValue = source[keyId];\n        if (!sourceKeyIdValue) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const ids: Array<ID_TYPES> = [];\n        const values: ID_TYPES | Array<ID_TYPES> = sourceKeyIdValue as any; // Thanks a8.\n        if (Array.isArray(values)) {\n            for (const id of values) {\n                if (id) {\n                    ids.push(id);\n                }\n            }\n            if (!ids.length) {\n                source[keyValue] = emptyResult.get(values) as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                    PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                if (!source[keyValue]) {\n                    source[keyValue] = [] as PARENT_ENTITY[RELATED_KEY_VALUES] &\n                        PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n                    emptyResult.set(values, source[keyValue]);\n                }\n                return;\n            }\n        } else {\n            ids.push(values);\n        }\n\n        const cacheHash = `#${ids.join(',')}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (verifyCache(state, checks)) {\n            source[keyValue] = value;\n            return cacheHash;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        for (const id of ids) {\n            checkIds.set(id, featureState.entities[id]);\n        }\n\n        const valueEntities = [];\n        for (const id of ids) {\n            if (!featureState.entities[id]) {\n                continue;\n            }\n            let [entityChecks, entityValue]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(\n                `${cacheHash}:${id}`,\n            ) || [new Map(), undefined];\n            if (verifyCache(state, entityChecks)) {\n                // istanbul ignore else\n                if (entityValue) {\n                    valueEntities.push(entityValue);\n                }\n                continue;\n            }\n            // we have to clone it because we are going to update it with relationships.\n            entityValue = {...featureState.entities[id]} as RELATED_ENTITY;\n            entityChecks = new Map();\n            const entityCheckIds = new Map();\n            entityChecks.set(collectionSelector, entityCheckIds);\n            entityCheckIds.set(null, featureState.entities);\n            entityCheckIds.set(id, featureState.entities[id]);\n\n            let cacheRelLevelIndex = 0;\n            for (const relationship of relationships) {\n                const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n                const cacheRelHash = relationship(cacheRelLevel, state, cache, entityValue, idSelector);\n                cacheRelLevelIndex += 1;\n                if (cacheRelHash) {\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n                    mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], entityChecks);\n                }\n            }\n            cacheDataLevel.set(`${cacheHash}:${id}`, [entityChecks, entityValue]);\n            valueEntities.push(entityValue);\n        }\n        value = Array.isArray(source[keyId]) ? valueEntities : valueEntities[0];\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        source[keyValue] = value as PARENT_ENTITY[RELATED_KEY_VALUES] & PARENT_ENTITY[RELATED_KEY_VALUES_ARRAYS];\n        return cacheHash;\n    };\n    callback.ngrxEntityRelationship = 'relatedEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.keyId = keyId;\n    callback.keyValue = keyValue;\n    callback.release = () => {\n        emptyResult.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, STORE_SELECTOR} from './types';\n\nexport function rootEntities<STORE, ENTITY>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntities<STORE, ENTITY, TRANSFORMED>(\n    rootSelector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    const cacheMap = new Map<string, Array<ENTITY | TRANSFORMED>>();\n    const emptyResult: Array<ENTITY | TRANSFORMED> = [];\n\n    const callback = (\n        state: STORE,\n        idsOrSelector: undefined | null | Array<ID_TYPES> | STORE_SELECTOR<STORE, undefined | null | Array<ID_TYPES>>,\n    ) => {\n        const ids = typeof idsOrSelector === 'function' ? idsOrSelector(state) : idsOrSelector;\n        if (!ids) {\n            return emptyResult;\n        }\n\n        const cacheKey = ids.join(',');\n        const cacheValue = cacheMap.get(cacheKey) || emptyResult;\n\n        if (rootEntityFlags.disabled) {\n            return cacheValue;\n        }\n\n        const value: Array<ENTITY | TRANSFORMED> = [];\n        for (const id of ids) {\n            const entity = rootSelector(state, id);\n            if (!entity) {\n                continue;\n            }\n            value.push(entity);\n        }\n\n        let index = 0;\n        let equal = value.length === cacheValue.length;\n        for (const entity of value) {\n            if (!equal || !cacheValue || !cacheValue[index] || cacheValue[index] !== entity) {\n                equal = false;\n                break;\n            }\n            index += 1;\n        }\n        if (equal) {\n            return cacheValue;\n        }\n\n        cacheMap.set(cacheKey, value);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntities';\n    callback.meta = rootSelector.meta;\n    callback.collectionSelector = rootSelector.collectionSelector;\n    callback.idSelector = rootSelector.idSelector;\n    callback.relationships = rootSelector.relationships;\n    callback.release = () => {\n        cacheMap.clear();\n        rootSelector.release();\n    };\n\n    return callback;\n}\n","import {rootEntityFlags} from './rootEntityFlags';\nimport {\n    CACHE,\n    CACHE_CHECKS_SET,\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isBuiltInSelector,\n    isSelectorMeta,\n    STORE_SELECTOR,\n    TRANSFORMER,\n    UNKNOWN,\n} from './types';\nimport {argsToArray, mergeCache, normalizeSelector, verifyCache} from './utils';\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntity<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: TRANSFORMER<ENTITY, TRANSFORMED> | SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    guess2?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n    relationships = relationships.slice(1);\n\n    let transformer: undefined | TRANSFORMER<ENTITY, TRANSFORMED>;\n    let meta: SELECTOR_META = {};\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && !isSelectorMeta(guess1)) {\n        transformer = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess1) && isSelectorMeta(guess1)) {\n        meta = guess1;\n        relationships = relationships.slice(1);\n    }\n    if (!isBuiltInSelector<STORE, ENTITY>(guess2) && isSelectorMeta(guess2)) {\n        meta = guess2;\n        relationships = relationships.slice(1);\n    }\n\n    const {collection: collectionSelector, id: idSelector} = normalizeSelector(featureSelector);\n\n    const cacheLevel = '0';\n    const cache: CACHE<STORE> = new Map();\n\n    const callback = (\n        state: STORE,\n        idOrSelector: undefined | null | ID_TYPES | STORE_SELECTOR<STORE, undefined | null | ID_TYPES>,\n    ) => {\n        const id = typeof idOrSelector === 'function' ? idOrSelector(state) : idOrSelector;\n        if (!id) {\n            return;\n        }\n\n        const featureState = collectionSelector(state);\n        let cacheDataLevel = cache.get(cacheLevel);\n        if (!cacheDataLevel) {\n            cacheDataLevel = new Map();\n            cache.set(cacheLevel, cacheDataLevel);\n        }\n\n        const cacheHash = `#${id}`;\n        let [checks, value]: [CACHE_CHECKS_SET<STORE>, UNKNOWN] = cacheDataLevel.get(cacheHash) || [\n            new Map(),\n            undefined,\n        ];\n        if (rootEntityFlags.disabled) {\n            return value;\n        }\n        if (verifyCache(state, checks)) {\n            return value;\n        }\n\n        // building a new value.\n        value = undefined;\n        checks = new Map();\n        const checkIds = new Map();\n        checks.set(collectionSelector, checkIds);\n        checkIds.set(null, featureState.entities);\n        checkIds.set(id, featureState.entities[id]);\n\n        // the entity does not exist.\n        if (!featureState.entities[id]) {\n            cacheDataLevel.set(cacheHash, [checks, value]);\n            return value;\n        }\n\n        // we have to clone it because we are going to update it with relationships.\n        value = {...featureState.entities[id]} as ENTITY;\n\n        let cacheRelLevelIndex = 0;\n        for (const relationship of relationships) {\n            const cacheRelLevel = `${cacheLevel}:${cacheRelLevelIndex}`;\n            const cacheRelHash = relationship(cacheRelLevel, state, cache, value, idSelector);\n            cacheRelLevelIndex += 1;\n            if (cacheRelHash) {\n                mergeCache(cache.get(cacheRelLevel)?.get(cacheRelHash)?.[0], checks);\n            }\n        }\n\n        value = transformer ? transformer(value) : value;\n        cacheDataLevel.set(cacheHash, [checks, value]);\n        return value;\n    };\n    callback.ngrxEntityRelationship = 'rootEntity';\n    callback.collectionSelector = collectionSelector;\n    callback.meta = meta;\n    callback.idSelector = idSelector;\n    callback.relationships = relationships;\n    callback.release = () => {\n        cache.clear();\n        for (const relationship of relationships) {\n            relationship.release();\n        }\n    };\n\n    return callback;\n}\n","import {childEntity} from './childEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childEntitySelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES]?: RELATED_ENTITY;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childEntitySelector';\n\n    return callback;\n}\n","import {childrenEntities} from './childrenEntities';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_FILTER_PROPS, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES> = ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function childrenEntitiesSelector<\n    STORE,\n    PARENT_ENTITY extends {\n        [KEY in RELATED_KEY_VALUES_ARRAYS]?: Array<RELATED_ENTITY>;\n    },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends ID_FILTER_PROPS<RELATED_ENTITY, ID_TYPES>,\n    RELATED_KEY_VALUES_ARRAYS extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES_ARRAYS,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = isSelectorMeta(meta) ? meta : undefined;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : childrenEntities<STORE, PARENT_ENTITY, RELATED_ENTITY, RELATED_KEY_IDS, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'childrenEntitiesSelector';\n\n    return callback;\n}\n","import {relatedEntity} from './relatedEntity';\nimport {FEATURE_SELECTOR, HANDLER_RELATED_ENTITY, ID_TYPES, isSelectorMeta} from './types';\nimport {argsToArray} from './utils';\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any = keyof any,\n    RELATED_KEY_VALUES extends keyof any = keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY>;\n\nexport function relatedEntitySelector<\n    STORE,\n    PARENT_ENTITY extends\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? ID_TYPES\n                  : KEY extends RELATED_KEY_VALUES\n                  ? RELATED_ENTITY | null\n                  : never;\n          }\n        | {\n              [KEY in RELATED_KEY_IDS | RELATED_KEY_VALUES]?: KEY extends RELATED_KEY_IDS\n                  ? Array<ID_TYPES>\n                  : KEY extends RELATED_KEY_VALUES\n                  ? Array<RELATED_ENTITY> | null\n                  : never;\n          },\n    RELATED_ENTITY,\n    RELATED_KEY_IDS extends keyof any,\n    RELATED_KEY_VALUES extends keyof any,\n>(\n    featureSelector: FEATURE_SELECTOR<STORE, RELATED_ENTITY>,\n    keyId: RELATED_KEY_IDS,\n    keyValue: RELATED_KEY_VALUES,\n    meta?: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>>\n) => HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n    function callback(): HANDLER_RELATED_ENTITY<STORE, PARENT_ENTITY> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, RELATED_ENTITY>> = argsToArray(arguments);\n        let currentMeta = meta;\n        if (isSelectorMeta(relationships[0])) {\n            currentMeta = relationships[0];\n            relationships = relationships.slice(1);\n        }\n        return currentMeta\n            ? relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  currentMeta,\n                  ...relationships,\n              )\n            : relatedEntity<STORE, PARENT_ENTITY, RELATED_ENTITY, any, any, any, any>(\n                  featureSelector,\n                  keyId,\n                  keyValue,\n                  ...relationships,\n              );\n    }\n    callback.ngrxEntityRelationship = 'relatedEntitySelector';\n\n    return callback;\n}\n","import {rootEntity} from './rootEntity';\nimport {\n    FEATURE_SELECTOR,\n    HANDLER_RELATED_ENTITY,\n    HANDLER_ROOT_ENTITY,\n    ID_TYPES,\n    isSelectorMeta,\n    TRANSFORMER,\n} from './types';\nimport {argsToArray} from './utils';\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    transformer: TRANSFORMER<ENTITY, TRANSFORMED>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    meta: SELECTOR_META,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n): (\n    metaOrRelationship?: SELECTOR_META | HANDLER_RELATED_ENTITY<STORE, ENTITY>,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>;\n\nexport function rootEntitySelector<STORE, ENTITY, TRANSFORMED>(\n    featureSelector: FEATURE_SELECTOR<STORE, ENTITY>,\n    guess1?: SELECTOR_META | TRANSFORMER<ENTITY, TRANSFORMED>,\n    guess2?: SELECTOR_META,\n): (\n    meta?: SELECTOR_META,\n    ...relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>>\n) => HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n    function callback(\n        metaOverride?: SELECTOR_META,\n    ): HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY | TRANSFORMED, ID_TYPES> {\n        let relationships: Array<HANDLER_RELATED_ENTITY<STORE, ENTITY>> = argsToArray(arguments);\n        const transformer = isSelectorMeta(guess1) ? undefined : guess1;\n        let currentMeta = isSelectorMeta(guess1) ? guess1 : guess2;\n        if (isSelectorMeta(metaOverride)) {\n            currentMeta = metaOverride;\n            relationships = relationships.slice(1);\n        }\n        return transformer && currentMeta\n            ? rootEntity(featureSelector, transformer, currentMeta, ...relationships)\n            : transformer\n            ? rootEntity(featureSelector, transformer, ...relationships)\n            : currentMeta\n            ? rootEntity(featureSelector, currentMeta, ...relationships)\n            : rootEntity(featureSelector, ...relationships);\n    }\n    callback.ngrxEntityRelationship = 'rootEntitySelector';\n\n    return callback;\n}\n","import {ENTITY_SELECTOR} from '../types';\n\nexport enum ngrxEntityRelationshipActions {\n    reduceFlat = '[NGRX-Entity-Relationship] Flat',\n    reduceGraph = '[NGRX-Entity-Relationship] Graph',\n}\n\nexport class ReduceFlat {\n    public readonly type: ngrxEntityRelationshipActions.reduceFlat = ngrxEntityRelationshipActions.reduceFlat;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceFlat = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceFlat,\n});\nreduceFlat.type = ngrxEntityRelationshipActions.reduceFlat;\n\nexport class ReduceGraph {\n    public readonly type: ngrxEntityRelationshipActions.reduceGraph = ngrxEntityRelationshipActions.reduceGraph;\n\n    constructor(public readonly data: any, public readonly selector: ENTITY_SELECTOR) {}\n}\n\n// Because of redux it can't be a ReduceGraph instance.\nexport const reduceGraph = (payload: {data: any; selector: ENTITY_SELECTOR}) => ({\n    data: payload.data,\n    selector: payload.selector,\n    type: ngrxEntityRelationshipActions.reduceGraph,\n});\nreduceGraph.type = ngrxEntityRelationshipActions.reduceGraph;\n","import {UNKNOWN} from '../types';\nimport {isObject, objectKeys} from '../utils';\n\nconst func = <T>(state: T, source: UNKNOWN, destination: UNKNOWN): T => {\n    if (source === destination) {\n        return state;\n    }\n    if (!isObject(state)) {\n        return state;\n    }\n\n    for (const key of objectKeys(state)) {\n        if (!isObject(state[key])) {\n            continue;\n        }\n\n        if (state[key] === source) {\n            return {\n                ...state,\n                [key]: destination,\n            };\n        }\n\n        const patchedState = func(state[key], source, destination);\n        if (patchedState !== state[key]) {\n            return {\n                ...state,\n                [key]: patchedState,\n            };\n        }\n    }\n\n    return state;\n};\n\nexport const patchState = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {objectKeys} from '../utils';\n\nimport {patchState} from './patchState';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, entity: any, meta?: {skipFields?: Array<keyof any>}) => {\n    if (typeof entity !== 'object') {\n        throw new Error('Entity is not an object');\n    }\n    const id = selector.idSelector(entity);\n    if (!id) {\n        throw new Error('Cannot detect id of an entity');\n    }\n\n    const originalSelector = selector.collectionSelector.originalSelector || selector.collectionSelector;\n    const entitiesKey = selector.collectionSelector.entitiesKey || 'entities';\n    const idsKey = selector.collectionSelector.idsKey || 'ids';\n\n    // Any because keys may be different because of entitiesKey.\n    const originalState: any = originalSelector(state);\n    const originalEntity = originalState[entitiesKey][id];\n    let featureState = originalState;\n\n    // creating a clone\n    const clone: any = {};\n    for (const key of objectKeys(entity)) {\n        if (meta && meta.skipFields && meta.skipFields.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = entity[key];\n    }\n    Object.setPrototypeOf(clone, Object.getPrototypeOf(entity));\n\n    const existingKeys = objectKeys(clone);\n    for (const key of originalEntity ? objectKeys(originalEntity) : []) {\n        if (existingKeys.indexOf(key) !== -1) {\n            continue;\n        }\n        clone[key] = originalEntity[key];\n    }\n\n    if (featureState[idsKey] && featureState[idsKey].indexOf(id) === -1) {\n        featureState = {\n            ...featureState,\n            [idsKey]: [...featureState[idsKey], id],\n        };\n    }\n\n    let isEntityChanged = !originalEntity;\n    for (const key of objectKeys(clone)) {\n        if (isEntityChanged || !originalEntity || clone[key] !== originalEntity[key]) {\n            isEntityChanged = true;\n            break;\n        }\n    }\n    if (isEntityChanged) {\n        featureState = {\n            ...featureState,\n            [entitiesKey]: {\n                ...featureState[entitiesKey],\n                [id]: clone,\n            },\n        };\n    }\n\n    return patchState.func(state, originalState, featureState);\n};\n\nexport const injectEntity = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\nimport {mapEntries, mapValues} from '../utils';\n\nimport {injectEntity} from './injectEntity';\n\nconst extractMap = (\n    selector: ENTITY_SELECTOR,\n    map: Map<string, {selectors: Set<ENTITY_SELECTOR>; skipFields: Set<keyof any>}>,\n) => {\n    if (!selector.meta || !selector.meta.flatKey) {\n        throw new Error('Flat key is not provided in meta');\n    }\n    const {selectors = new Set<ENTITY_SELECTOR>(), skipFields = new Set<keyof any>()} =\n        map.get(selector.meta.flatKey) || {};\n    if (!map.has(selector.meta.flatKey)) {\n        map.set(selector.meta.flatKey, {\n            selectors,\n            skipFields,\n        });\n    }\n    selectors.add(selector);\n    for (const relationship of selector.relationships) {\n        skipFields.add(relationship.keyValue);\n        extractMap(relationship, map);\n    }\n    return map;\n};\n\nconst func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const map = extractMap(selector, new Map());\n    for (const [key, {selectors, skipFields}] of mapEntries(map)) {\n        const isSet = Array.isArray(data[key]);\n        const entities = isSet ? data[key] : [data[key]];\n\n        for (const entity of entities) {\n            if (!entity) {\n                continue;\n            }\n\n            for (const entitySelector of mapValues(selectors)) {\n                state = injectEntity.func(state, entitySelector, entity, {skipFields: [...mapValues(skipFields)]});\n            }\n        }\n    }\n\n    return state;\n};\n\nexport const fromFlat = {\n    func,\n};\n","import {ENTITY_SELECTOR} from '../types';\n\nimport {injectEntity} from './injectEntity';\n\nexport const func = (state: any, selector: ENTITY_SELECTOR, data: any) => {\n    const isSet = Array.isArray(data);\n    const entities = isSet ? data : [data];\n\n    // detecting keys we should skip\n    const skipFields: Array<keyof any> = [];\n    for (const relationship of selector.relationships) {\n        skipFields.push(relationship.keyValue);\n    }\n\n    for (const entity of entities) {\n        if (!entity) {\n            continue;\n        }\n\n        state = injectEntity.func(state, selector, entity, {skipFields});\n        for (const relationship of selector.relationships) {\n            state = func(state, relationship, entity[relationship.keyValue]);\n        }\n    }\n\n    return state;\n};\n\nexport const fromGraph = {\n    func,\n};\n","import {ACTION} from '../types';\n\nimport {ngrxEntityRelationshipActions} from './actions';\nimport {fromFlat} from './fromFlat';\nimport {fromGraph} from './fromGraph';\n\nexport function ngrxEntityRelationshipReducer<T>(\n    reducer: (state: T | undefined, action: ACTION) => T,\n): (state: T | undefined, action: ACTION) => T {\n    return (state: T | undefined, action: any) => {\n        if (action.type === ngrxEntityRelationshipActions.reduceGraph) {\n            return reducer(fromGraph.func(state, action.selector, action.data), action);\n        }\n        if (action.type === ngrxEntityRelationshipActions.reduceFlat) {\n            return reducer(fromFlat.func(state, action.selector, action.data), action);\n        }\n        return reducer(state, action);\n    };\n}\n","export function selectByIds<S, K, Props = any>(selector: (state: S, ids: Props) => K, ids: Props): (state: S) => K {\n    return state => selector(state, ids);\n}\n","import {ENTITY_STATE, ENTITY_STATE_CUSTOM, STORE_SELECTOR} from './types';\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, 'ids', infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>>;\n\nexport function stateKeys<\n    SELECTOR extends STORE_SELECTOR<any, any>,\n    STORE extends SELECTOR extends STORE_SELECTOR<infer U, any> ? U : never,\n    SLICE extends SELECTOR extends STORE_SELECTOR<any, infer U> ? U : never,\n    E_KEY extends keyof SLICE,\n    I_KEY extends keyof SLICE,\n    ENTITY extends SLICE extends ENTITY_STATE_CUSTOM<E_KEY, I_KEY, infer U> ? U : never,\n>(selector: SELECTOR, entitiesKey: E_KEY, idsKey?: I_KEY): STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> {\n    const callback: STORE_SELECTOR<STORE, ENTITY_STATE<ENTITY>> = (s: STORE): ENTITY_STATE<ENTITY> => {\n        const slice = selector(s);\n        return {\n            ids: idsKey ? slice[idsKey] : slice.ids,\n            entities: slice[entitiesKey],\n        };\n    };\n    callback.idsKey = idsKey;\n    callback.entitiesKey = entitiesKey;\n    callback.originalSelector = selector;\n\n    return callback;\n}\n","export function toFactorySelector<S, K, Props = any>(selector: {\n    (state: S, ids: Props): K;\n    release?: () => void;\n}): {\n    (ids: Props): {\n        (state: S): K;\n        release(): void;\n    };\n    release(): void;\n} {\n    const release = () => {\n        if (typeof selector.release === 'function') {\n            selector.release();\n        }\n    };\n\n    const callback = (ids: Props) => {\n        const storeSelector = (state: S) => selector(state, ids);\n        storeSelector.release = release;\n\n        return storeSelector;\n    };\n    callback.release = release;\n\n    return callback;\n}\n","import {toFactorySelector} from './toFactorySelector';\n\nexport function toStaticSelector<S, K, Props = any>(\n    selector: {\n        (state: S, ids: Props): K;\n        release?: () => void;\n    },\n    ids: Props,\n): {\n    (state: S): K;\n    release(): void;\n} {\n    return toFactorySelector(selector)(ids);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["ngrxEntityRelationshipActions","func"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js
index 691014e..b50d1b8 100644
--- a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js
@@ -211,4 +211,5 @@ function toSubscription(...args) {
  */
 
 export { toGraphQL, toMutation, toQuery, toSubscription, ɵ0, toTerm as ɵa };
+
 //# sourceMappingURL=ngrx-entity-relationship-graphql.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..691014e
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.__ivy_ngcc_bak
@@ -0,0 +1,214 @@
+const resolveGraphQL = (selector, options) => {
+    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';
+    let query = '';
+    const included = [];
+    for (const relationship of selector.relationships) {
+        // istanbul ignore if
+        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {
+            continue;
+        }
+        // istanbul ignore if
+        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {
+            continue;
+        }
+        if (relationship.ngrxEntityRelationship === 'childrenEntities') {
+            included.push(relationship.keyValue);
+            query += `${prefix}${relationship.keyValue}`;
+            query += `${prefix ? ' ' : ''}{${prefix ? '\n' : ''}${resolveGraphQL(relationship, {
+                include: [relationship.keyId],
+                prefix: options.prefix,
+                level: options.level + 1,
+            })}${prefix}}${prefix ? '\n' : ''}`;
+        }
+        else if (relationship.ngrxEntityRelationship === 'childEntity') {
+            included.push(relationship.keyValue);
+            query += `${prefix}${relationship.keyValue}`;
+            query += `${prefix ? ' ' : ''}{${prefix ? '\n' : ''}${resolveGraphQL(relationship, {
+                include: [relationship.keyId],
+                prefix: options.prefix,
+                level: options.level + 1,
+            })}${prefix}}${prefix ? '\n' : ''}`;
+        }
+        else {
+            included.push(relationship.keyId);
+            included.push(relationship.keyValue);
+            query += `${prefix}${relationship.keyId}`;
+            query += `\n${prefix}${relationship.keyValue}`;
+            query += `${prefix ? ' ' : ''}{${prefix ? '\n' : ''}${resolveGraphQL(relationship, {
+                include: [],
+                prefix: options.prefix,
+                level: options.level + 1,
+            })}${prefix}}${prefix ? '\n' : ''}`;
+        }
+    }
+    for (const field of options.include) {
+        // istanbul ignore if
+        if (typeof field !== 'string' && typeof field !== 'number') {
+            continue;
+        }
+        // istanbul ignore if
+        if (included.indexOf(field) !== -1) {
+            continue;
+        }
+        included.push(field);
+        query += `${prefix}${field}\n`;
+    }
+    if (Array.isArray(selector.meta.gqlFields)) {
+        for (const field of selector.meta.gqlFields) {
+            if (included.indexOf(field) !== -1) {
+                continue;
+            }
+            included.push(field);
+            query += `${prefix}${field}\n`;
+        }
+    }
+    else if (selector.meta.gqlFields) {
+        for (const field of Object.keys(selector.meta.gqlFields)) {
+            if (included.indexOf(field) !== -1) {
+                continue;
+            }
+            included.push(field);
+            query += `${prefix}${field}${selector.meta.gqlFields[field]}\n`;
+        }
+    }
+    return query;
+};
+const ɵ0 = resolveGraphQL;
+function encodeValuePrimitives(data) {
+    if (typeof data === 'number') {
+        return JSON.stringify(data);
+    }
+    if (typeof data === 'string') {
+        return JSON.stringify(data);
+    }
+    if (typeof data === 'boolean') {
+        return JSON.stringify(data);
+    }
+    return undefined;
+}
+function encodeValue(data) {
+    const primitives = encodeValuePrimitives(data);
+    if (primitives !== undefined) {
+        return primitives;
+    }
+    if (data === null || data === undefined) {
+        return JSON.stringify(null);
+    }
+    if (typeof data === 'function') {
+        return undefined;
+    }
+    if (Array.isArray(data)) {
+        return `[${data
+            .map(encodeValue)
+            .filter(v => v !== undefined)
+            .join(',')}]`;
+    }
+    const fields = [];
+    for (const key of Object.keys(data)) {
+        const value = encodeValue(data[key]);
+        if (value === undefined) {
+            continue;
+        }
+        fields.push(`${key}:${value}`);
+    }
+    return `{${fields.join(',')}}`;
+}
+function toGraphQL(...queries) {
+    const prefix = window.ngrxGraphqlPrefix || '';
+    let query = '';
+    let selector;
+    let params;
+    if (queries.length >= 2 && typeof queries[1] !== 'string') {
+        if (queries[2] && typeof queries[2] !== 'string') {
+            [query, params, selector] = queries;
+        }
+        else {
+            [query, selector] = queries;
+        }
+    }
+    else if (queries.length === 1 && typeof queries[0] !== 'string') {
+        [selector] = queries;
+        query = undefined;
+    }
+    const stringParams = [];
+    if (params && typeof params === 'object') {
+        for (const key of Object.keys(params)) {
+            if (key === '$') {
+                continue;
+            }
+            const value = encodeValue(params[key]);
+            if (value === undefined) {
+                continue;
+            }
+            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);
+        }
+    }
+    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {
+        const params$ = params.$;
+        for (const key of Object.keys(params$)) {
+            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {
+                throw new Error(`${key} should be a variable that starts with $ symbol`);
+            }
+            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);
+        }
+    }
+    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';
+    if (selector) {
+        let gql = resolveGraphQL(selector, {
+            include: [],
+            prefix: `${prefix}`,
+            level: 2,
+        });
+        if (query === undefined) {
+            return gql;
+        }
+        gql = `{\n${gql}${prefix}}`;
+        return query ? `{\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\n}` : gql;
+    }
+    const parts = [];
+    for (let part of queries) {
+        if (typeof part !== 'string') {
+            continue;
+        }
+        part = part.trim();
+        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {
+            part = part.substr(1, part.length - 2);
+        }
+        parts.push(part.trim());
+    }
+    return `{${parts.join('\n')}}`;
+}
+
+function toTerm(term, ...args) {
+    const params = [];
+    let toGraphQL = '';
+    if (typeof args[0] === 'object') {
+        for (const key of Object.keys(args[0] || {})) {
+            params.push(`${key}:${args[0][key]}`);
+        }
+        toGraphQL = args[1];
+    }
+    else {
+        toGraphQL = args[0];
+    }
+    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;
+}
+
+function toMutation(...args) {
+    return toTerm('mutation', ...args);
+}
+
+function toQuery(...args) {
+    return toTerm('query', ...args);
+}
+
+function toSubscription(...args) {
+    return toTerm('subscription', ...args);
+}
+
+/**
+ * Generated bundle index. Do not edit.
+ */
+
+export { toGraphQL, toMutation, toQuery, toSubscription, ɵ0, toTerm as ɵa };
+//# sourceMappingURL=ngrx-entity-relationship-graphql.js.map
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map
index bb7eade..8b1aab7 100644
--- a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map
@@ -1 +1 @@
-{"version":3,"file":"ngrx-entity-relationship-graphql.js","sources":["../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"sourcesContent":["import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ngrx-entity-relationship-graphql.js","sources":["../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"names":[],"mappings":"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","sourcesContent":["import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..bb7eade
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-graphql.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-graphql.js","sources":["../../../../libs/ngrx-entity-relationship/graphql/src/lib/toGraphQL.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toTerm.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toMutation.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toQuery.ts","../../../../libs/ngrx-entity-relationship/graphql/src/lib/toSubscription.ts","../../../../libs/ngrx-entity-relationship/graphql/src/ngrx-entity-relationship-graphql.ts"],"sourcesContent":["import {ENTITY_SELECTOR} from 'ngrx-entity-relationship';\n\nconst resolveGraphQL = (\n    selector: ENTITY_SELECTOR,\n    options: {\n        include: Array<keyof any>;\n        prefix: string;\n        level: number;\n    },\n) => {\n    const prefix = options.prefix ? options.prefix.repeat(options.level) : '';\n    let query = '';\n    const included: Array<string | number> = [];\n    for (const relationship of selector.relationships) {\n        // istanbul ignore if\n        if (typeof relationship.keyId !== 'string' && typeof relationship.keyId !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (typeof relationship.keyValue !== 'string' && typeof relationship.keyValue !== 'number') {\n            continue;\n        }\n        if (relationship.ngrxEntityRelationship === 'childrenEntities') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else if (relationship.ngrxEntityRelationship === 'childEntity') {\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [relationship.keyId],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        } else {\n            included.push(relationship.keyId);\n            included.push(relationship.keyValue);\n            query += `${prefix}${relationship.keyId}`;\n            query += `\\n${prefix}${relationship.keyValue}`;\n            query += `${prefix ? ' ' : ''}{${prefix ? '\\n' : ''}${resolveGraphQL(relationship, {\n                include: [],\n                prefix: options.prefix,\n                level: options.level + 1,\n            })}${prefix}}${prefix ? '\\n' : ''}`;\n        }\n    }\n    for (const field of options.include) {\n        // istanbul ignore if\n        if (typeof field !== 'string' && typeof field !== 'number') {\n            continue;\n        }\n        // istanbul ignore if\n        if (included.indexOf(field) !== -1) {\n            continue;\n        }\n        included.push(field);\n        query += `${prefix}${field}\\n`;\n    }\n    if (Array.isArray(selector.meta.gqlFields)) {\n        for (const field of selector.meta.gqlFields) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}\\n`;\n        }\n    } else if (selector.meta.gqlFields) {\n        for (const field of Object.keys(selector.meta.gqlFields)) {\n            if (included.indexOf(field) !== -1) {\n                continue;\n            }\n            included.push(field);\n            query += `${prefix}${field}${selector.meta.gqlFields[field]}\\n`;\n        }\n    }\n    return query;\n};\n\nfunction encodeValuePrimitives(data: any): string | undefined {\n    if (typeof data === 'number') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'string') {\n        return JSON.stringify(data);\n    }\n    if (typeof data === 'boolean') {\n        return JSON.stringify(data);\n    }\n\n    return undefined;\n}\n\nfunction encodeValue(data: any): string | undefined {\n    const primitives = encodeValuePrimitives(data);\n    if (primitives !== undefined) {\n        return primitives;\n    }\n\n    if (data === null || data === undefined) {\n        return JSON.stringify(null);\n    }\n    if (typeof data === 'function') {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        return `[${data\n            .map(encodeValue)\n            .filter(v => v !== undefined)\n            .join(',')}]`;\n    }\n    const fields: Array<string> = [];\n    for (const key of Object.keys(data)) {\n        const value = encodeValue(data[key]);\n        if (value === undefined) {\n            continue;\n        }\n        fields.push(`${key}:${value}`);\n    }\n    return `{${fields.join(',')}}`;\n}\n\nexport function toGraphQL(...queries: Array<string>): string;\nexport function toGraphQL(query: string, params: object, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(query: string, selector: ENTITY_SELECTOR): string;\nexport function toGraphQL(selector: ENTITY_SELECTOR): string;\n\nexport function toGraphQL(...queries: Array<any>): string {\n    const prefix = (window as any).ngrxGraphqlPrefix || '';\n    let query: string | undefined = '';\n    let selector: ENTITY_SELECTOR | undefined;\n    let params: Record<string, any> | null | string | undefined;\n    if (queries.length >= 2 && typeof queries[1] !== 'string') {\n        if (queries[2] && typeof queries[2] !== 'string') {\n            [query, params, selector] = queries;\n        } else {\n            [query, selector] = queries;\n        }\n    } else if (queries.length === 1 && typeof queries[0] !== 'string') {\n        [selector] = queries;\n        query = undefined;\n    }\n\n    const stringParams: Array<string> = [];\n    if (params && typeof params === 'object') {\n        for (const key of Object.keys(params)) {\n            if (key === '$') {\n                continue;\n            }\n            const value = encodeValue(params[key]);\n            if (value === undefined) {\n                continue;\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${value}`);\n        }\n    }\n    if (params && typeof params === 'object' && params.$ && typeof params.$ === 'object') {\n        const params$ = params.$;\n        for (const key of Object.keys(params$)) {\n            if (typeof params$[key] !== 'string' || params$[key][0] !== '$') {\n                throw new Error(`${key} should be a variable that starts with $ symbol`);\n            }\n            stringParams.push(`${key}:${prefix ? ' ' : ''}${params$[key]}`);\n        }\n    }\n    params = stringParams.length ? `(${stringParams.join(`,${prefix ? ' ' : ''}`)})` : '';\n\n    if (selector) {\n        let gql = resolveGraphQL(selector, {\n            include: [],\n            prefix: `${prefix}`,\n            level: 2,\n        });\n\n        if (query === undefined) {\n            return gql;\n        }\n\n        gql = `{\\n${gql}${prefix}}`;\n\n        return query ? `{\\n${prefix}${query}${params}${prefix ? ' ' : ''}${gql}\\n}` : gql;\n    }\n    const parts: Array<string> = [];\n    for (let part of queries) {\n        if (typeof part !== 'string') {\n            continue;\n        }\n        part = part.trim();\n        if (part.substr(0, 1) === '{' && part.substr(part.length - 1, 1) === '}') {\n            part = part.substr(1, part.length - 2);\n        }\n        parts.push(part.trim());\n    }\n\n    return `{${parts.join('\\n')}}`;\n}\n","export function toTerm(term: 'query' | 'subscription' | 'mutation', ...args: Array<any>): string {\n    const params: Array<string> = [];\n    let toGraphQL = '';\n\n    if (typeof args[0] === 'object') {\n        for (const key of Object.keys(args[0] || {})) {\n            params.push(`${key}:${args[0][key]}`);\n        }\n        toGraphQL = args[1];\n    } else {\n        toGraphQL = args[0];\n    }\n\n    return `${term}${params.length ? `(${params.join(',')})` : ''}${toGraphQL}`;\n}\n","import {toTerm} from './toTerm';\n\nexport function toMutation(toGraphQL: string): string;\nexport function toMutation(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toMutation(...args: Array<any>): string {\n    return toTerm('mutation', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toQuery(toGraphQL: string): string;\nexport function toQuery(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toQuery(...args: Array<any>): string {\n    return toTerm('query', ...args);\n}\n","import {toTerm} from './toTerm';\n\nexport function toSubscription(toGraphQL: string): string;\nexport function toSubscription(\n    variables: {\n        [key: string]: 'ID' | 'ID!' | 'String!' | 'String' | 'Boolean!' | 'Boolean' | string;\n    },\n    toGraphQL: string,\n): string;\nexport function toSubscription(...args: Array<any>): string {\n    return toTerm('subscription', ...args);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {toTerm as ɵa} from './lib/toTerm';"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js
index 5c43508..59fc934 100644
--- a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js
@@ -24,4 +24,5 @@ function relationships(store, selector) {
  */
 
 export { relationships };
+
 //# sourceMappingURL=ngrx-entity-relationship-rxjs.js.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..5c43508
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.__ivy_ngcc_bak
@@ -0,0 +1,27 @@
+import { toFactorySelector } from 'ngrx-entity-relationship';
+import { of, iif } from 'rxjs';
+import { switchMap, map } from 'rxjs/operators';
+
+function relationships(store, selector) {
+    const factory = toFactorySelector(selector);
+    return next => next.pipe(switchMap(input => {
+        const result = of(input);
+        return iif(() => input === undefined, result, result.pipe(map(set => {
+            if (Array.isArray(set)) {
+                const processed = [];
+                for (const entity of set) {
+                    processed.push(selector.idSelector(entity));
+                }
+                return processed;
+            }
+            return selector.idSelector(set);
+        }), switchMap(id => store.select(factory(id)))));
+    }));
+}
+
+/**
+ * Generated bundle index. Do not edit.
+ */
+
+export { relationships };
+//# sourceMappingURL=ngrx-entity-relationship-rxjs.js.map
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map
index c813a14..67f6c67 100644
--- a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map
@@ -1 +1 @@
-{"version":3,"file":"ngrx-entity-relationship-rxjs.js","sources":["../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"sourcesContent":["import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;SA4BgB,aAAa,CACzB,KAA4B,EAC5B,QAAmE;IAEnE,MAAM,OAAO,GAAG,iBAAiB,CAAC,QAAQ,CAAC,CAAC;IAE5C,OAAO,IAAI,IACP,IAAI,CAAC,IAAI,CACL,SAAS,CAAC,KAAK;QACX,MAAM,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;QACzB,OAAO,GAAG,CACN,MAAM,KAAK,KAAK,SAAS,EACzB,MAAM,EACN,MAAM,CAAC,IAAI,CACP,GAAG,CAAC,GAAG;YACH,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACpB,MAAM,SAAS,GAAoB,EAAE,CAAC;gBACtC,KAAK,MAAM,MAAM,IAAI,GAAG,EAAE;oBACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC/C;gBACD,OAAO,SAAyB,CAAC;aACpC;YACD,OAAO,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAiB,CAAC;SACnD,CAAC,EACF,SAAS,CAAC,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAC7C,CACJ,CAAC;KACL,CAAC,CACL,CAAC;AACV;;ACzDA;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"ngrx-entity-relationship-rxjs.js","sources":["../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"names":[],"mappings":";;;;SA4BgB,aAAa,CACzB,KAA4B,EAC5B,QAAmE;AACrE,IACE,MAAM,OAAO,GAAG,iBAAiB,CAAC,QAAQ,CAAC,CAAC;AAChD,IACI,OAAO,IAAI,IACP,IAAI,CAAC,IAAI,CACL,SAAS,CAAC,KAAK;AAC3B,QAAgB,MAAM,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;AACzC,QAAgB,OAAO,GAAG,CACN,MAAM,KAAK,KAAK,SAAS,EACzB,MAAM,EACN,MAAM,CAAC,IAAI,CACP,GAAG,CAAC,GAAG;AAC/B,YAA4B,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACpD,gBAAgC,MAAM,SAAS,GAAoB,EAAE,CAAC;AACtE,gBAAgC,KAAK,MAAM,MAAM,IAAI,GAAG,EAAE;AAC1D,oBAAoC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;AAChF,iBAAiC;AACjC,gBAAgC,OAAO,SAAyB,CAAC;AACjE,aAA6B;AAC7B,YAA4B,OAAO,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAiB,CAAC;AAC5E,SAAyB,CAAC,EACF,SAAS,CAAC,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAC7C,CACJ,CAAC;AAClB,KAAa,CAAC,CACL,CAAC;AACV;AACA;AC1DA;AACA;AACA;AACA;AACA;AAA0B","sourcesContent":["import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..c813a14
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/fesm2015/ngrx-entity-relationship-rxjs.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-rxjs.js","sources":["../../../../libs/ngrx-entity-relationship/rxjs/src/operators/relationships.ts","../../../../libs/ngrx-entity-relationship/rxjs/src/ngrx-entity-relationship-rxjs.ts"],"sourcesContent":["import {HANDLER_ROOT_ENTITIES, HANDLER_ROOT_ENTITY, ID_TYPES, toFactorySelector} from 'ngrx-entity-relationship';\nimport {iif, Observable, of} from 'rxjs';\nimport {map, switchMap} from 'rxjs/operators';\n\nexport interface STORE_INSTANCE<T> {\n    select<K>(mapFn: (state: T) => K): Observable<K>;\n}\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<ENTITY>>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITIES<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<Array<ENTITY>>) => Observable<Array<TRANSFORMED>>;\n\nexport function relationships<STORE, ENTITY>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, ENTITY, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<ENTITY>;\n\nexport function relationships<STORE, ENTITY, TRANSFORMED>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, ENTITY, TRANSFORMED, ID_TYPES>,\n): (next: Observable<ENTITY>) => Observable<TRANSFORMED>;\n\nexport function relationships<STORE, SET, TRANSFORMED, TYPES>(\n    store: STORE_INSTANCE<STORE>,\n    selector: HANDLER_ROOT_ENTITY<STORE, SET, SET | TRANSFORMED, TYPES>,\n): (next: Observable<SET>) => Observable<undefined | SET | TRANSFORMED> {\n    const factory = toFactorySelector(selector);\n\n    return next =>\n        next.pipe(\n            switchMap(input => {\n                const result = of(input);\n                return iif(\n                    () => input === undefined,\n                    result,\n                    result.pipe(\n                        map(set => {\n                            if (Array.isArray(set)) {\n                                const processed: Array<ID_TYPES> = [];\n                                for (const entity of set) {\n                                    processed.push(selector.idSelector(entity));\n                                }\n                                return processed as any as TYPES;\n                            }\n                            return selector.idSelector(set) as any as TYPES;\n                        }),\n                        switchMap(id => store.select(factory(id))),\n                    ),\n                );\n            }),\n        );\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;SA4BgB,aAAa,CACzB,KAA4B,EAC5B,QAAmE;IAEnE,MAAM,OAAO,GAAG,iBAAiB,CAAC,QAAQ,CAAC,CAAC;IAE5C,OAAO,IAAI,IACP,IAAI,CAAC,IAAI,CACL,SAAS,CAAC,KAAK;QACX,MAAM,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;QACzB,OAAO,GAAG,CACN,MAAM,KAAK,KAAK,SAAS,EACzB,MAAM,EACN,MAAM,CAAC,IAAI,CACP,GAAG,CAAC,GAAG;YACH,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACpB,MAAM,SAAS,GAAoB,EAAE,CAAC;gBACtC,KAAK,MAAM,MAAM,IAAI,GAAG,EAAE;oBACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC/C;gBACD,OAAO,SAAyB,CAAC;aACpC;YACD,OAAO,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAiB,CAAC;SACnD,CAAC,EACF,SAAS,CAAC,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAC7C,CACJ,CAAC;KACL,CAAC,CACL,CAAC;AACV;;ACzDA;;;;;;"}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts
index 212f7e6..a5dbc06 100644
--- a/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts
+++ b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts
@@ -3,3 +3,5 @@
  */
 export * from './public_api';
 export { toTerm as ɵa } from './lib/toTerm';
+
+//# sourceMappingURL=ngrx-entity-relationship-graphql.d.ts.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..212f7e6
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,5 @@
+/**
+ * Generated bundle index. Do not edit.
+ */
+export * from './public_api';
+export { toTerm as ɵa } from './lib/toTerm';
diff --git a/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.map b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.map
new file mode 100644
index 0000000..b84776b
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/graphql/ngrx-entity-relationship-graphql.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-graphql.d.ts","sources":["ngrx-entity-relationship-graphql.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\nexport { toTerm as ɵa } from './lib/toTerm';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts
index 7417cc8..08e226b 100644
--- a/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts
+++ b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts
@@ -2,3 +2,5 @@
  * Generated bundle index. Do not edit.
  */
 export * from './public_api';
+
+//# sourceMappingURL=ngrx-entity-relationship.d.ts.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..7417cc8
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,4 @@
+/**
+ * Generated bundle index. Do not edit.
+ */
+export * from './public_api';
diff --git a/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.map b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.map
new file mode 100644
index 0000000..3928111
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/ngrx-entity-relationship.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship.d.ts","sources":["ngrx-entity-relationship.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n"]}
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts
index 7417cc8..a555b7d 100644
--- a/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts
+++ b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts
@@ -2,3 +2,5 @@
  * Generated bundle index. Do not edit.
  */
 export * from './public_api';
+
+//# sourceMappingURL=ngrx-entity-relationship-rxjs.d.ts.map
\ No newline at end of file
diff --git a/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.__ivy_ngcc_bak b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..7417cc8
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,4 @@
+/**
+ * Generated bundle index. Do not edit.
+ */
+export * from './public_api';
diff --git a/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.map b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.map
new file mode 100644
index 0000000..b6211c5
--- /dev/null
+++ b/node_modules/ngrx-entity-relationship/rxjs/ngrx-entity-relationship-rxjs.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"ngrx-entity-relationship-rxjs.d.ts","sources":["ngrx-entity-relationship-rxjs.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n"]}
\ No newline at end of file
